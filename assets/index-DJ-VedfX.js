(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))s(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function r(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(c){if(c.ep)return;c.ep=!0;const f=r(c);fetch(c.href,f)}})();function gb(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Fc={exports:{}},Oi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg;function yb(){if(xg)return Oi;xg=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(s,c,f){var m=null;if(f!==void 0&&(m=""+f),c.key!==void 0&&(m=""+c.key),"key"in c){f={};for(var p in c)p!=="key"&&(f[p]=c[p])}else f=c;return c=f.ref,{$$typeof:a,type:s,key:m,ref:c!==void 0?c:null,props:f}}return Oi.Fragment=i,Oi.jsx=r,Oi.jsxs=r,Oi}var Eg;function pb(){return Eg||(Eg=1,Fc.exports=yb()),Fc.exports}var d=pb(),eu={exports:{}},ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg;function vb(){if(wg)return ve;wg=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function x(C){return C===null||typeof C!="object"?null:(C=v&&C[v]||C["@@iterator"],typeof C=="function"?C:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,E={};function N(C,Z,ee){this.props=C,this.context=Z,this.refs=E,this.updater=ee||S}N.prototype.isReactComponent={},N.prototype.setState=function(C,Z){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Z,"setState")},N.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function A(){}A.prototype=N.prototype;function L(C,Z,ee){this.props=C,this.context=Z,this.refs=E,this.updater=ee||S}var D=L.prototype=new A;D.constructor=L,T(D,N.prototype),D.isPureReactComponent=!0;var q=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},_=Object.prototype.hasOwnProperty;function Y(C,Z,ee,ne,J,se){return ee=se.ref,{$$typeof:a,type:C,key:Z,ref:ee!==void 0?ee:null,props:se}}function H(C,Z){return Y(C.type,Z,void 0,void 0,void 0,C.props)}function K(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function F(C){var Z={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ee){return Z[ee]})}var re=/\/+/g;function ce(C,Z){return typeof C=="object"&&C!==null&&C.key!=null?F(""+C.key):Z.toString(36)}function oe(){}function $(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(oe,oe):(C.status="pending",C.then(function(Z){C.status==="pending"&&(C.status="fulfilled",C.value=Z)},function(Z){C.status==="pending"&&(C.status="rejected",C.reason=Z)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function z(C,Z,ee,ne,J){var se=typeof C;(se==="undefined"||se==="boolean")&&(C=null);var ie=!1;if(C===null)ie=!0;else switch(se){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(C.$$typeof){case a:case i:ie=!0;break;case y:return ie=C._init,z(ie(C._payload),Z,ee,ne,J)}}if(ie)return J=J(C),ie=ne===""?"."+ce(C,0):ne,q(J)?(ee="",ie!=null&&(ee=ie.replace(re,"$&/")+"/"),z(J,Z,ee,"",function(le){return le})):J!=null&&(K(J)&&(J=H(J,ee+(J.key==null||C&&C.key===J.key?"":(""+J.key).replace(re,"$&/")+"/")+ie)),Z.push(J)),1;ie=0;var ue=ne===""?".":ne+":";if(q(C))for(var ye=0;ye<C.length;ye++)ne=C[ye],se=ue+ce(ne,ye),ie+=z(ne,Z,ee,se,J);else if(ye=x(C),typeof ye=="function")for(C=ye.call(C),ye=0;!(ne=C.next()).done;)ne=ne.value,se=ue+ce(ne,ye++),ie+=z(ne,Z,ee,se,J);else if(se==="object"){if(typeof C.then=="function")return z($(C),Z,ee,ne,J);throw Z=String(C),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return ie}function j(C,Z,ee){if(C==null)return C;var ne=[],J=0;return z(C,ne,"","",function(se){return Z.call(ee,se,J++)}),ne}function k(C){if(C._status===-1){var Z=C._result;Z=Z(),Z.then(function(ee){(C._status===0||C._status===-1)&&(C._status=1,C._result=ee)},function(ee){(C._status===0||C._status===-1)&&(C._status=2,C._result=ee)}),C._status===-1&&(C._status=0,C._result=Z)}if(C._status===1)return C._result.default;throw C._result}var W=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function ae(){}return ve.Children={map:j,forEach:function(C,Z,ee){j(C,function(){Z.apply(this,arguments)},ee)},count:function(C){var Z=0;return j(C,function(){Z++}),Z},toArray:function(C){return j(C,function(Z){return Z})||[]},only:function(C){if(!K(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},ve.Component=N,ve.Fragment=r,ve.Profiler=c,ve.PureComponent=L,ve.StrictMode=s,ve.Suspense=h,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,ve.__COMPILER_RUNTIME={__proto__:null,c:function(C){return O.H.useMemoCache(C)}},ve.cache=function(C){return function(){return C.apply(null,arguments)}},ve.cloneElement=function(C,Z,ee){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var ne=T({},C.props),J=C.key,se=void 0;if(Z!=null)for(ie in Z.ref!==void 0&&(se=void 0),Z.key!==void 0&&(J=""+Z.key),Z)!_.call(Z,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&Z.ref===void 0||(ne[ie]=Z[ie]);var ie=arguments.length-2;if(ie===1)ne.children=ee;else if(1<ie){for(var ue=Array(ie),ye=0;ye<ie;ye++)ue[ye]=arguments[ye+2];ne.children=ue}return Y(C.type,J,void 0,void 0,se,ne)},ve.createContext=function(C){return C={$$typeof:m,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},ve.createElement=function(C,Z,ee){var ne,J={},se=null;if(Z!=null)for(ne in Z.key!==void 0&&(se=""+Z.key),Z)_.call(Z,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(J[ne]=Z[ne]);var ie=arguments.length-2;if(ie===1)J.children=ee;else if(1<ie){for(var ue=Array(ie),ye=0;ye<ie;ye++)ue[ye]=arguments[ye+2];J.children=ue}if(C&&C.defaultProps)for(ne in ie=C.defaultProps,ie)J[ne]===void 0&&(J[ne]=ie[ne]);return Y(C,se,void 0,void 0,null,J)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(C){return{$$typeof:p,render:C}},ve.isValidElement=K,ve.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:k}},ve.memo=function(C,Z){return{$$typeof:g,type:C,compare:Z===void 0?null:Z}},ve.startTransition=function(C){var Z=O.T,ee={};O.T=ee;try{var ne=C(),J=O.S;J!==null&&J(ee,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(ae,W)}catch(se){W(se)}finally{O.T=Z}},ve.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},ve.use=function(C){return O.H.use(C)},ve.useActionState=function(C,Z,ee){return O.H.useActionState(C,Z,ee)},ve.useCallback=function(C,Z){return O.H.useCallback(C,Z)},ve.useContext=function(C){return O.H.useContext(C)},ve.useDebugValue=function(){},ve.useDeferredValue=function(C,Z){return O.H.useDeferredValue(C,Z)},ve.useEffect=function(C,Z,ee){var ne=O.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(C,Z)},ve.useId=function(){return O.H.useId()},ve.useImperativeHandle=function(C,Z,ee){return O.H.useImperativeHandle(C,Z,ee)},ve.useInsertionEffect=function(C,Z){return O.H.useInsertionEffect(C,Z)},ve.useLayoutEffect=function(C,Z){return O.H.useLayoutEffect(C,Z)},ve.useMemo=function(C,Z){return O.H.useMemo(C,Z)},ve.useOptimistic=function(C,Z){return O.H.useOptimistic(C,Z)},ve.useReducer=function(C,Z,ee){return O.H.useReducer(C,Z,ee)},ve.useRef=function(C){return O.H.useRef(C)},ve.useState=function(C){return O.H.useState(C)},ve.useSyncExternalStore=function(C,Z,ee){return O.H.useSyncExternalStore(C,Z,ee)},ve.useTransition=function(){return O.H.useTransition()},ve.version="19.1.0",ve}var Sg;function Bu(){return Sg||(Sg=1,eu.exports=vb()),eu.exports}var M=Bu();const ln=gb(M);var tu={exports:{}},zi={},nu={exports:{}},au={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tg;function bb(){return Tg||(Tg=1,function(a){function i(j,k){var W=j.length;j.push(k);e:for(;0<W;){var ae=W-1>>>1,C=j[ae];if(0<c(C,k))j[ae]=k,j[W]=C,W=ae;else break e}}function r(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var k=j[0],W=j.pop();if(W!==k){j[0]=W;e:for(var ae=0,C=j.length,Z=C>>>1;ae<Z;){var ee=2*(ae+1)-1,ne=j[ee],J=ee+1,se=j[J];if(0>c(ne,W))J<C&&0>c(se,ne)?(j[ae]=se,j[J]=W,ae=J):(j[ae]=ne,j[ee]=W,ae=ee);else if(J<C&&0>c(se,W))j[ae]=se,j[J]=W,ae=J;else break e}}return k}function c(j,k){var W=j.sortIndex-k.sortIndex;return W!==0?W:j.id-k.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var m=Date,p=m.now();a.unstable_now=function(){return m.now()-p}}var h=[],g=[],y=1,v=null,x=3,S=!1,T=!1,E=!1,N=!1,A=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function q(j){for(var k=r(g);k!==null;){if(k.callback===null)s(g);else if(k.startTime<=j)s(g),k.sortIndex=k.expirationTime,i(h,k);else break;k=r(g)}}function O(j){if(E=!1,q(j),!T)if(r(h)!==null)T=!0,_||(_=!0,ce());else{var k=r(g);k!==null&&z(O,k.startTime-j)}}var _=!1,Y=-1,H=5,K=-1;function F(){return N?!0:!(a.unstable_now()-K<H)}function re(){if(N=!1,_){var j=a.unstable_now();K=j;var k=!0;try{e:{T=!1,E&&(E=!1,L(Y),Y=-1),S=!0;var W=x;try{t:{for(q(j),v=r(h);v!==null&&!(v.expirationTime>j&&F());){var ae=v.callback;if(typeof ae=="function"){v.callback=null,x=v.priorityLevel;var C=ae(v.expirationTime<=j);if(j=a.unstable_now(),typeof C=="function"){v.callback=C,q(j),k=!0;break t}v===r(h)&&s(h),q(j)}else s(h);v=r(h)}if(v!==null)k=!0;else{var Z=r(g);Z!==null&&z(O,Z.startTime-j),k=!1}}break e}finally{v=null,x=W,S=!1}k=void 0}}finally{k?ce():_=!1}}}var ce;if(typeof D=="function")ce=function(){D(re)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,$=oe.port2;oe.port1.onmessage=re,ce=function(){$.postMessage(null)}}else ce=function(){A(re,0)};function z(j,k){Y=A(function(){j(a.unstable_now())},k)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(j){j.callback=null},a.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<j?Math.floor(1e3/j):5},a.unstable_getCurrentPriorityLevel=function(){return x},a.unstable_next=function(j){switch(x){case 1:case 2:case 3:var k=3;break;default:k=x}var W=x;x=k;try{return j()}finally{x=W}},a.unstable_requestPaint=function(){N=!0},a.unstable_runWithPriority=function(j,k){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var W=x;x=j;try{return k()}finally{x=W}},a.unstable_scheduleCallback=function(j,k,W){var ae=a.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ae+W:ae):W=ae,j){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=W+C,j={id:y++,callback:k,priorityLevel:j,startTime:W,expirationTime:C,sortIndex:-1},W>ae?(j.sortIndex=W,i(g,j),r(h)===null&&j===r(g)&&(E?(L(Y),Y=-1):E=!0,z(O,W-ae))):(j.sortIndex=C,i(h,j),T||S||(T=!0,_||(_=!0,ce()))),j},a.unstable_shouldYield=F,a.unstable_wrapCallback=function(j){var k=x;return function(){var W=x;x=k;try{return j.apply(this,arguments)}finally{x=W}}}}(au)),au}var Ng;function xb(){return Ng||(Ng=1,nu.exports=bb()),nu.exports}var lu={exports:{}},ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag;function Eb(){if(Ag)return ut;Ag=1;var a=Bu();function i(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(i(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(h,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:v==null?null:""+v,children:h,containerInfo:g,implementation:y}}var m=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(h,g){if(h==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ut.createPortal=function(h,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(i(299));return f(h,g,null,y)},ut.flushSync=function(h){var g=m.T,y=s.p;try{if(m.T=null,s.p=2,h)return h()}finally{m.T=g,s.p=y,s.d.f()}},ut.preconnect=function(h,g){typeof h=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(h,g))},ut.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},ut.preinit=function(h,g){if(typeof h=="string"&&g&&typeof g.as=="string"){var y=g.as,v=p(y,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(h,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:S}):y==="script"&&s.d.X(h,{crossOrigin:v,integrity:x,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ut.preinitModule=function(h,g){if(typeof h=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=p(g.as,g.crossOrigin);s.d.M(h,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(h)},ut.preload=function(h,g){if(typeof h=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=p(y,g.crossOrigin);s.d.L(h,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ut.preloadModule=function(h,g){if(typeof h=="string")if(g){var y=p(g.as,g.crossOrigin);s.d.m(h,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(h)},ut.requestFormReset=function(h){s.d.r(h)},ut.unstable_batchedUpdates=function(h,g){return h(g)},ut.useFormState=function(h,g,y){return m.H.useFormState(h,g,y)},ut.useFormStatus=function(){return m.H.useHostTransitionStatus()},ut.version="19.1.0",ut}var jg;function wb(){if(jg)return lu.exports;jg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),lu.exports=Eb(),lu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cg;function Sb(){if(Cg)return zi;Cg=1;var a=xb(),i=Bu(),r=wb();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(f(e)!==e)throw Error(s(188))}function h(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,l=t;;){var o=n.return;if(o===null)break;var u=o.alternate;if(u===null){if(l=o.return,l!==null){n=l;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===n)return p(o),e;if(u===l)return p(o),t;u=u.sibling}throw Error(s(188))}if(n.return!==l.return)n=o,l=u;else{for(var b=!1,w=o.child;w;){if(w===n){b=!0,n=o,l=u;break}if(w===l){b=!0,l=o,n=u;break}w=w.sibling}if(!b){for(w=u.child;w;){if(w===n){b=!0,n=u,l=o;break}if(w===l){b=!0,l=u,n=o;break}w=w.sibling}if(!b)throw Error(s(189))}}if(n.alternate!==l)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),D=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function ce(e){return e===null||typeof e!="object"?null:(e=re&&e[re]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Symbol.for("react.client.reference");function $(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===oe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case N:return"Profiler";case E:return"StrictMode";case O:return"Suspense";case _:return"SuspenseList";case K:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case D:return(e.displayName||"Context")+".Provider";case L:return(e._context.displayName||"Context")+".Consumer";case q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return t=e.displayName||null,t!==null?t:$(e.type)||"Memo";case H:t=e._payload,e=e._init;try{return $(e(t))}catch{}}return null}var z=Array.isArray,j=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ae=[],C=-1;function Z(e){return{current:e}}function ee(e){0>C||(e.current=ae[C],ae[C]=null,C--)}function ne(e,t){C++,ae[C]=e.current,e.current=t}var J=Z(null),se=Z(null),ie=Z(null),ue=Z(null);function ye(e,t){switch(ne(ie,t),ne(se,e),ne(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Km(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Km(t),e=Jm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ee(J),ne(J,e)}function le(){ee(J),ee(se),ee(ie)}function pe(e){e.memoizedState!==null&&ne(ue,e);var t=J.current,n=Jm(t,e.type);t!==n&&(ne(se,e),ne(J,n))}function De(e){se.current===e&&(ee(J),ee(se)),ue.current===e&&(ee(ue),Di._currentValue=W)}var Ne=Object.prototype.hasOwnProperty,Ve=a.unstable_scheduleCallback,Se=a.unstable_cancelCallback,_t=a.unstable_shouldYield,mt=a.unstable_requestPaint,qe=a.unstable_now,Ki=a.unstable_getCurrentPriorityLevel,kl=a.unstable_ImmediatePriority,cn=a.unstable_UserBlockingPriority,un=a.unstable_NormalPriority,Ji=a.unstable_LowPriority,Pi=a.unstable_IdlePriority,Hs=a.log,qs=a.unstable_setDisableYieldValue,ga=null,wt=null;function kn(e){if(typeof Hs=="function"&&qs(e),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(ga,e)}catch{}}var St=Math.clz32?Math.clz32:tp,Fy=Math.log,ep=Math.LN2;function tp(e){return e>>>=0,e===0?32:31-(Fy(e)/ep|0)|0}var Wi=256,Ii=4194304;function ya(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Fi(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var o=0,u=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var w=l&134217727;return w!==0?(l=w&~u,l!==0?o=ya(l):(b&=w,b!==0?o=ya(b):n||(n=w&~e,n!==0&&(o=ya(n))))):(w=l&~u,w!==0?o=ya(w):b!==0?o=ya(b):n||(n=l&~e,n!==0&&(o=ya(n)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:o}function Ll(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function np(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _f(){var e=Wi;return Wi<<=1,(Wi&4194048)===0&&(Wi=256),e}function Mf(){var e=Ii;return Ii<<=1,(Ii&62914560)===0&&(Ii=4194304),e}function Ys(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ap(e,t,n,l,o,u){var b=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var w=e.entanglements,R=e.expirationTimes,G=e.hiddenUpdates;for(n=b&~n;0<n;){var P=31-St(n),te=1<<P;w[P]=0,R[P]=-1;var X=G[P];if(X!==null)for(G[P]=null,P=0;P<X.length;P++){var Q=X[P];Q!==null&&(Q.lane&=-536870913)}n&=~te}l!==0&&Uf(e,l,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(b&~t))}function Uf(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-St(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&4194090}function Of(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-St(n),o=1<<l;o&t|e[l]&t&&(e[l]|=t),n&=~o}}function Vs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $s(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function zf(){var e=k.p;return e!==0?e:(e=window.event,e===void 0?32:mg(e.type))}function lp(e,t){var n=k.p;try{return k.p=e,t()}finally{k.p=n}}var Ln=Math.random().toString(36).slice(2),ot="__reactFiber$"+Ln,yt="__reactProps$"+Ln,Ya="__reactContainer$"+Ln,Gs="__reactEvents$"+Ln,ip="__reactListeners$"+Ln,rp="__reactHandles$"+Ln,Bf="__reactResources$"+Ln,ql="__reactMarker$"+Ln;function Zs(e){delete e[ot],delete e[yt],delete e[Gs],delete e[ip],delete e[rp]}function Va(e){var t=e[ot];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ya]||n[ot]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fm(e);e!==null;){if(n=e[ot])return n;e=Fm(e)}return t}e=n,n=e.parentNode}return null}function $a(e){if(e=e[ot]||e[Ya]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Yl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Ga(e){var t=e[Bf];return t||(t=e[Bf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ie(e){e[ql]=!0}var kf=new Set,Lf={};function pa(e,t){Za(e,t),Za(e+"Capture",t)}function Za(e,t){for(Lf[e]=t,e=0;e<t.length;e++)kf.add(t[e])}var sp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hf={},qf={};function op(e){return Ne.call(qf,e)?!0:Ne.call(Hf,e)?!1:sp.test(e)?qf[e]=!0:(Hf[e]=!0,!1)}function er(e,t,n){if(op(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function tr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function fn(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}var Xs,Yf;function Xa(e){if(Xs===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xs=t&&t[1]||"",Yf=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xs+e+Yf}var Qs=!1;function Ks(e,t){if(!e||Qs)return"";Qs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Q){var X=Q}Reflect.construct(e,[],te)}else{try{te.call()}catch(Q){X=Q}e.call(te.prototype)}}else{try{throw Error()}catch(Q){X=Q}(te=e())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Q){if(Q&&X&&typeof Q.stack=="string")return[Q.stack,X.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=l.DetermineComponentFrameRoot(),b=u[0],w=u[1];if(b&&w){var R=b.split(`
`),G=w.split(`
`);for(o=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;o<G.length&&!G[o].includes("DetermineComponentFrameRoot");)o++;if(l===R.length||o===G.length)for(l=R.length-1,o=G.length-1;1<=l&&0<=o&&R[l]!==G[o];)o--;for(;1<=l&&0<=o;l--,o--)if(R[l]!==G[o]){if(l!==1||o!==1)do if(l--,o--,0>o||R[l]!==G[o]){var P=`
`+R[l].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=l&&0<=o);break}}}finally{Qs=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Xa(n):""}function cp(e){switch(e.tag){case 26:case 27:case 5:return Xa(e.type);case 16:return Xa("Lazy");case 13:return Xa("Suspense");case 19:return Xa("SuspenseList");case 0:case 15:return Ks(e.type,!1);case 11:return Ks(e.type.render,!1);case 1:return Ks(e.type,!0);case 31:return Xa("Activity");default:return""}}function Vf(e){try{var t="";do t+=cp(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Mt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $f(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function up(e){var t=$f(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(b){l=""+b,u.call(this,b)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function nr(e){e._valueTracker||(e._valueTracker=up(e))}function Gf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=$f(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function ar(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fp=/[\n"\\]/g;function Ut(e){return e.replace(fp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Js(e,t,n,l,o,u,b,w){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),t!=null?b==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Mt(t)):e.value!==""+Mt(t)&&(e.value=""+Mt(t)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),t!=null?Ps(e,b,Mt(t)):n!=null?Ps(e,b,Mt(n)):l!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+Mt(w):e.removeAttribute("name")}function Zf(e,t,n,l,o,u,b,w){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null))return;n=n!=null?""+Mt(n):"",t=t!=null?""+Mt(t):n,w||t===e.value||(e.value=t),e.defaultValue=t}l=l??o,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=w?e.checked:!!l,e.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b)}function Ps(e,t,n){t==="number"&&ar(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Qa(e,t,n,l){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Mt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,l&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Xf(e,t,n){if(t!=null&&(t=""+Mt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Mt(n):""}function Qf(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(s(92));if(z(l)){if(1<l.length)throw Error(s(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=Mt(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l)}function Ka(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var dp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kf(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||dp.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Jf(e,t,n){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var o in t)l=t[o],t.hasOwnProperty(o)&&n[o]!==l&&Kf(e,o,l)}else for(var u in t)t.hasOwnProperty(u)&&Kf(e,u,t[u])}function Ws(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lr(e){return mp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Is=null;function Fs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ja=null,Pa=null;function Pf(e){var t=$a(e);if(t&&(e=t.stateNode)){var n=e[yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Js(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ut(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var o=l[yt]||null;if(!o)throw Error(s(90));Js(l,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Gf(l)}break e;case"textarea":Xf(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Qa(e,!!n.multiple,t,!1)}}}var eo=!1;function Wf(e,t,n){if(eo)return e(t,n);eo=!0;try{var l=e(t);return l}finally{if(eo=!1,(Ja!==null||Pa!==null)&&($r(),Ja&&(t=Ja,e=Pa,Pa=Ja=null,Pf(t),e)))for(t=0;t<e.length;t++)Pf(e[t])}}function Vl(e,t){var n=e.stateNode;if(n===null)return null;var l=n[yt]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),to=!1;if(dn)try{var $l={};Object.defineProperty($l,"passive",{get:function(){to=!0}}),window.addEventListener("test",$l,$l),window.removeEventListener("test",$l,$l)}catch{to=!1}var Hn=null,no=null,ir=null;function If(){if(ir)return ir;var e,t=no,n=t.length,l,o="value"in Hn?Hn.value:Hn.textContent,u=o.length;for(e=0;e<n&&t[e]===o[e];e++);var b=n-e;for(l=1;l<=b&&t[n-l]===o[u-l];l++);return ir=o.slice(e,1<l?1-l:void 0)}function rr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sr(){return!0}function Ff(){return!1}function pt(e){function t(n,l,o,u,b){this._reactName=n,this._targetInst=o,this.type=l,this.nativeEvent=u,this.target=b,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(n=e[w],this[w]=n?n(u):u[w]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?sr:Ff,this.isPropagationStopped=Ff,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),t}var va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},or=pt(va),Gl=y({},va,{view:0,detail:0}),gp=pt(Gl),ao,lo,Zl,cr=y({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ro,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zl&&(Zl&&e.type==="mousemove"?(ao=e.screenX-Zl.screenX,lo=e.screenY-Zl.screenY):lo=ao=0,Zl=e),ao)},movementY:function(e){return"movementY"in e?e.movementY:lo}}),ed=pt(cr),yp=y({},cr,{dataTransfer:0}),pp=pt(yp),vp=y({},Gl,{relatedTarget:0}),io=pt(vp),bp=y({},va,{animationName:0,elapsedTime:0,pseudoElement:0}),xp=pt(bp),Ep=y({},va,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wp=pt(Ep),Sp=y({},va,{data:0}),td=pt(Sp),Tp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Np={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ap={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ap[e])?!!t[e]:!1}function ro(){return jp}var Cp=y({},Gl,{key:function(e){if(e.key){var t=Tp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Np[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ro,charCode:function(e){return e.type==="keypress"?rr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dp=pt(Cp),Rp=y({},cr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nd=pt(Rp),_p=y({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ro}),Mp=pt(_p),Up=y({},va,{propertyName:0,elapsedTime:0,pseudoElement:0}),Op=pt(Up),zp=y({},cr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bp=pt(zp),kp=y({},va,{newState:0,oldState:0}),Lp=pt(kp),Hp=[9,13,27,32],so=dn&&"CompositionEvent"in window,Xl=null;dn&&"documentMode"in document&&(Xl=document.documentMode);var qp=dn&&"TextEvent"in window&&!Xl,ad=dn&&(!so||Xl&&8<Xl&&11>=Xl),ld=" ",id=!1;function rd(e,t){switch(e){case"keyup":return Hp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wa=!1;function Yp(e,t){switch(e){case"compositionend":return sd(t);case"keypress":return t.which!==32?null:(id=!0,ld);case"textInput":return e=t.data,e===ld&&id?null:e;default:return null}}function Vp(e,t){if(Wa)return e==="compositionend"||!so&&rd(e,t)?(e=If(),ir=no=Hn=null,Wa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ad&&t.locale!=="ko"?null:t.data;default:return null}}var $p={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function od(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$p[e.type]:t==="textarea"}function cd(e,t,n,l){Ja?Pa?Pa.push(l):Pa=[l]:Ja=l,t=Jr(t,"onChange"),0<t.length&&(n=new or("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var Ql=null,Kl=null;function Gp(e){$m(e,0)}function ur(e){var t=Yl(e);if(Gf(t))return e}function ud(e,t){if(e==="change")return t}var fd=!1;if(dn){var oo;if(dn){var co="oninput"in document;if(!co){var dd=document.createElement("div");dd.setAttribute("oninput","return;"),co=typeof dd.oninput=="function"}oo=co}else oo=!1;fd=oo&&(!document.documentMode||9<document.documentMode)}function hd(){Ql&&(Ql.detachEvent("onpropertychange",md),Kl=Ql=null)}function md(e){if(e.propertyName==="value"&&ur(Kl)){var t=[];cd(t,Kl,e,Fs(e)),Wf(Gp,t)}}function Zp(e,t,n){e==="focusin"?(hd(),Ql=t,Kl=n,Ql.attachEvent("onpropertychange",md)):e==="focusout"&&hd()}function Xp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ur(Kl)}function Qp(e,t){if(e==="click")return ur(t)}function Kp(e,t){if(e==="input"||e==="change")return ur(t)}function Jp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:Jp;function Jl(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var o=n[l];if(!Ne.call(t,o)||!Tt(e[o],t[o]))return!1}return!0}function gd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yd(e,t){var n=gd(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gd(n)}}function pd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ar(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ar(e.document)}return t}function uo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Pp=dn&&"documentMode"in document&&11>=document.documentMode,Ia=null,fo=null,Pl=null,ho=!1;function bd(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ho||Ia==null||Ia!==ar(l)||(l=Ia,"selectionStart"in l&&uo(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Pl&&Jl(Pl,l)||(Pl=l,l=Jr(fo,"onSelect"),0<l.length&&(t=new or("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Ia)))}function ba(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fa={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionrun:ba("Transition","TransitionRun"),transitionstart:ba("Transition","TransitionStart"),transitioncancel:ba("Transition","TransitionCancel"),transitionend:ba("Transition","TransitionEnd")},mo={},xd={};dn&&(xd=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function xa(e){if(mo[e])return mo[e];if(!Fa[e])return e;var t=Fa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in xd)return mo[e]=t[n];return e}var Ed=xa("animationend"),wd=xa("animationiteration"),Sd=xa("animationstart"),Wp=xa("transitionrun"),Ip=xa("transitionstart"),Fp=xa("transitioncancel"),Td=xa("transitionend"),Nd=new Map,go="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");go.push("scrollEnd");function Gt(e,t){Nd.set(e,t),pa(t,[e])}var Ad=new WeakMap;function Ot(e,t){if(typeof e=="object"&&e!==null){var n=Ad.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Vf(t)},Ad.set(e,t),t)}return{value:e,source:t,stack:Vf(t)}}var zt=[],el=0,yo=0;function fr(){for(var e=el,t=yo=el=0;t<e;){var n=zt[t];zt[t++]=null;var l=zt[t];zt[t++]=null;var o=zt[t];zt[t++]=null;var u=zt[t];if(zt[t++]=null,l!==null&&o!==null){var b=l.pending;b===null?o.next=o:(o.next=b.next,b.next=o),l.pending=o}u!==0&&jd(n,o,u)}}function dr(e,t,n,l){zt[el++]=e,zt[el++]=t,zt[el++]=n,zt[el++]=l,yo|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function po(e,t,n,l){return dr(e,t,n,l),hr(e)}function tl(e,t){return dr(e,null,null,t),hr(e)}function jd(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var o=!1,u=e.return;u!==null;)u.childLanes|=n,l=u.alternate,l!==null&&(l.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-St(n),e=u.hiddenUpdates,l=e[o],l===null?e[o]=[t]:l.push(t),t.lane=n|536870912),u):null}function hr(e){if(50<Ei)throw Ei=0,Sc=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var nl={};function ev(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,n,l){return new ev(e,t,n,l)}function vo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hn(e,t){var n=e.alternate;return n===null?(n=Nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Cd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function mr(e,t,n,l,o,u){var b=0;if(l=e,typeof e=="function")vo(e)&&(b=1);else if(typeof e=="string")b=nb(e,n,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case K:return e=Nt(31,n,t,o),e.elementType=K,e.lanes=u,e;case T:return Ea(n.children,o,u,t);case E:b=8,o|=24;break;case N:return e=Nt(12,n,t,o|2),e.elementType=N,e.lanes=u,e;case O:return e=Nt(13,n,t,o),e.elementType=O,e.lanes=u,e;case _:return e=Nt(19,n,t,o),e.elementType=_,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A:case D:b=10;break e;case L:b=9;break e;case q:b=11;break e;case Y:b=14;break e;case H:b=16,l=null;break e}b=29,n=Error(s(130,e===null?"null":typeof e,"")),l=null}return t=Nt(b,n,t,o),t.elementType=e,t.type=l,t.lanes=u,t}function Ea(e,t,n,l){return e=Nt(7,e,l,t),e.lanes=n,e}function bo(e,t,n){return e=Nt(6,e,null,t),e.lanes=n,e}function xo(e,t,n){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var al=[],ll=0,gr=null,yr=0,Bt=[],kt=0,wa=null,mn=1,gn="";function Sa(e,t){al[ll++]=yr,al[ll++]=gr,gr=e,yr=t}function Dd(e,t,n){Bt[kt++]=mn,Bt[kt++]=gn,Bt[kt++]=wa,wa=e;var l=mn;e=gn;var o=32-St(l)-1;l&=~(1<<o),n+=1;var u=32-St(t)+o;if(30<u){var b=o-o%5;u=(l&(1<<b)-1).toString(32),l>>=b,o-=b,mn=1<<32-St(t)+o|n<<o|l,gn=u+e}else mn=1<<u|n<<o|l,gn=e}function Eo(e){e.return!==null&&(Sa(e,1),Dd(e,1,0))}function wo(e){for(;e===gr;)gr=al[--ll],al[ll]=null,yr=al[--ll],al[ll]=null;for(;e===wa;)wa=Bt[--kt],Bt[kt]=null,gn=Bt[--kt],Bt[kt]=null,mn=Bt[--kt],Bt[kt]=null}var gt=null,$e=null,Ce=!1,Ta=null,Jt=!1,So=Error(s(519));function Na(e){var t=Error(s(418,""));throw Fl(Ot(t,e)),So}function Rd(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[ot]=e,t[yt]=l,n){case"dialog":we("cancel",t),we("close",t);break;case"iframe":case"object":case"embed":we("load",t);break;case"video":case"audio":for(n=0;n<Si.length;n++)we(Si[n],t);break;case"source":we("error",t);break;case"img":case"image":case"link":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"input":we("invalid",t),Zf(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),nr(t);break;case"select":we("invalid",t);break;case"textarea":we("invalid",t),Qf(t,l.value,l.defaultValue,l.children),nr(t)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Qm(t.textContent,n)?(l.popover!=null&&(we("beforetoggle",t),we("toggle",t)),l.onScroll!=null&&we("scroll",t),l.onScrollEnd!=null&&we("scrollend",t),l.onClick!=null&&(t.onclick=Pr),t=!0):t=!1,t||Na(e)}function _d(e){for(gt=e.return;gt;)switch(gt.tag){case 5:case 13:Jt=!1;return;case 27:case 3:Jt=!0;return;default:gt=gt.return}}function Wl(e){if(e!==gt)return!1;if(!Ce)return _d(e),Ce=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Hc(e.type,e.memoizedProps)),n=!n),n&&$e&&Na(e),_d(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){$e=Xt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}$e=null}}else t===27?(t=$e,ta(e.type)?(e=$c,$c=null,$e=e):$e=t):$e=gt?Xt(e.stateNode.nextSibling):null;return!0}function Il(){$e=gt=null,Ce=!1}function Md(){var e=Ta;return e!==null&&(xt===null?xt=e:xt.push.apply(xt,e),Ta=null),e}function Fl(e){Ta===null?Ta=[e]:Ta.push(e)}var To=Z(null),Aa=null,yn=null;function qn(e,t,n){ne(To,t._currentValue),t._currentValue=n}function pn(e){e._currentValue=To.current,ee(To)}function No(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Ao(e,t,n,l){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var b=o.child;u=u.firstContext;e:for(;u!==null;){var w=u;u=o;for(var R=0;R<t.length;R++)if(w.context===t[R]){u.lanes|=n,w=u.alternate,w!==null&&(w.lanes|=n),No(u.return,n,e),l||(b=null);break e}u=w.next}}else if(o.tag===18){if(b=o.return,b===null)throw Error(s(341));b.lanes|=n,u=b.alternate,u!==null&&(u.lanes|=n),No(b,n,e),b=null}else b=o.child;if(b!==null)b.return=o;else for(b=o;b!==null;){if(b===e){b=null;break}if(o=b.sibling,o!==null){o.return=b.return,b=o;break}b=b.return}o=b}}function ei(e,t,n,l){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var b=o.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var w=o.type;Tt(o.pendingProps.value,b.value)||(e!==null?e.push(w):e=[w])}}else if(o===ue.current){if(b=o.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Di):e=[Di])}o=o.return}e!==null&&Ao(t,e,n,l),t.flags|=262144}function pr(e){for(e=e.firstContext;e!==null;){if(!Tt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ja(e){Aa=e,yn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ct(e){return Ud(Aa,e)}function vr(e,t){return Aa===null&&ja(e),Ud(e,t)}function Ud(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},yn===null){if(e===null)throw Error(s(308));yn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else yn=yn.next=t;return n}var tv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},nv=a.unstable_scheduleCallback,av=a.unstable_NormalPriority,Pe={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jo(){return{controller:new tv,data:new Map,refCount:0}}function ti(e){e.refCount--,e.refCount===0&&nv(av,function(){e.controller.abort()})}var ni=null,Co=0,il=0,rl=null;function lv(e,t){if(ni===null){var n=ni=[];Co=0,il=Rc(),rl={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Co++,t.then(Od,Od),t}function Od(){if(--Co===0&&ni!==null){rl!==null&&(rl.status="fulfilled");var e=ni;ni=null,il=0,rl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function iv(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(l.status="rejected",l.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),l}var zd=j.S;j.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&lv(e,t),zd!==null&&zd(e,t)};var Ca=Z(null);function Do(){var e=Ca.current;return e!==null?e:Be.pooledCache}function br(e,t){t===null?ne(Ca,Ca.current):ne(Ca,t.pool)}function Bd(){var e=Do();return e===null?null:{parent:Pe._currentValue,pool:e}}var ai=Error(s(460)),kd=Error(s(474)),xr=Error(s(542)),Ro={then:function(){}};function Ld(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Er(){}function Hd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Er,Er),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yd(e),e;default:if(typeof t.status=="string")t.then(Er,Er);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=l}},function(l){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yd(e),e}throw li=t,ai}}var li=null;function qd(){if(li===null)throw Error(s(459));var e=li;return li=null,e}function Yd(e){if(e===ai||e===xr)throw Error(s(483))}var Yn=!1;function _o(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $n(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Re&2)!==0){var o=l.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),l.pending=t,t=hr(e),jd(e,null,n),t}return dr(e,l,t,n),hr(e)}function ii(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Of(e,n)}}function Uo(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var o=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var b={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?o=u=b:u=u.next=b,n=n.next}while(n!==null);u===null?o=u=t:u=u.next=t}else o=u=t;n={baseState:l.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Oo=!1;function ri(){if(Oo){var e=rl;if(e!==null)throw e}}function si(e,t,n,l){Oo=!1;var o=e.updateQueue;Yn=!1;var u=o.firstBaseUpdate,b=o.lastBaseUpdate,w=o.shared.pending;if(w!==null){o.shared.pending=null;var R=w,G=R.next;R.next=null,b===null?u=G:b.next=G,b=R;var P=e.alternate;P!==null&&(P=P.updateQueue,w=P.lastBaseUpdate,w!==b&&(w===null?P.firstBaseUpdate=G:w.next=G,P.lastBaseUpdate=R))}if(u!==null){var te=o.baseState;b=0,P=G=R=null,w=u;do{var X=w.lane&-536870913,Q=X!==w.lane;if(Q?(Te&X)===X:(l&X)===X){X!==0&&X===il&&(Oo=!0),P!==null&&(P=P.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ge=e,he=w;X=t;var Oe=n;switch(he.tag){case 1:if(ge=he.payload,typeof ge=="function"){te=ge.call(Oe,te,X);break e}te=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=he.payload,X=typeof ge=="function"?ge.call(Oe,te,X):ge,X==null)break e;te=y({},te,X);break e;case 2:Yn=!0}}X=w.callback,X!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=o.callbacks,Q===null?o.callbacks=[X]:Q.push(X))}else Q={lane:X,tag:w.tag,payload:w.payload,callback:w.callback,next:null},P===null?(G=P=Q,R=te):P=P.next=Q,b|=X;if(w=w.next,w===null){if(w=o.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,o.lastBaseUpdate=Q,o.shared.pending=null}}while(!0);P===null&&(R=te),o.baseState=R,o.firstBaseUpdate=G,o.lastBaseUpdate=P,u===null&&(o.shared.lanes=0),Wn|=b,e.lanes=b,e.memoizedState=te}}function Vd(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function $d(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Vd(n[e],t)}var sl=Z(null),wr=Z(0);function Gd(e,t){e=Tn,ne(wr,e),ne(sl,t),Tn=e|t.baseLanes}function zo(){ne(wr,Tn),ne(sl,sl.current)}function Bo(){Tn=wr.current,ee(sl),ee(wr)}var Gn=0,be=null,Me=null,Ke=null,Sr=!1,ol=!1,Da=!1,Tr=0,oi=0,cl=null,rv=0;function Ze(){throw Error(s(321))}function ko(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tt(e[n],t[n]))return!1;return!0}function Lo(e,t,n,l,o,u){return Gn=u,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=e===null||e.memoizedState===null?jh:Ch,Da=!1,u=n(l,o),Da=!1,ol&&(u=Xd(t,n,l,o)),Zd(e),u}function Zd(e){j.H=Rr;var t=Me!==null&&Me.next!==null;if(Gn=0,Ke=Me=be=null,Sr=!1,oi=0,cl=null,t)throw Error(s(300));e===null||Fe||(e=e.dependencies,e!==null&&pr(e)&&(Fe=!0))}function Xd(e,t,n,l){be=e;var o=0;do{if(ol&&(cl=null),oi=0,ol=!1,25<=o)throw Error(s(301));if(o+=1,Ke=Me=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}j.H=hv,u=t(n,l)}while(ol);return u}function sv(){var e=j.H,t=e.useState()[0];return t=typeof t.then=="function"?ci(t):t,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(be.flags|=1024),t}function Ho(){var e=Tr!==0;return Tr=0,e}function qo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Yo(e){if(Sr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Sr=!1}Gn=0,Ke=Me=be=null,ol=!1,oi=Tr=0,cl=null}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?be.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Je(){if(Me===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=Ke===null?be.memoizedState:Ke.next;if(t!==null)Ke=t,Me=e;else{if(e===null)throw be.alternate===null?Error(s(467)):Error(s(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Ke===null?be.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function Vo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ci(e){var t=oi;return oi+=1,cl===null&&(cl=[]),e=Hd(cl,e,t),t=be,(Ke===null?t.memoizedState:Ke.next)===null&&(t=t.alternate,j.H=t===null||t.memoizedState===null?jh:Ch),e}function Nr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ci(e);if(e.$$typeof===D)return ct(e)}throw Error(s(438,String(e)))}function $o(e){var t=null,n=be.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=be.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Vo(),be.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=F;return t.index++,n}function vn(e,t){return typeof t=="function"?t(e):t}function Ar(e){var t=Je();return Go(t,Me,e)}function Go(e,t,n){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=n;var o=e.baseQueue,u=l.pending;if(u!==null){if(o!==null){var b=o.next;o.next=u.next,u.next=b}t.baseQueue=o=u,l.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var w=b=null,R=null,G=t,P=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(Te&te)===te:(Gn&te)===te){var X=G.revertLane;if(X===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===il&&(P=!0);else if((Gn&X)===X){G=G.next,X===il&&(P=!0);continue}else te={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},R===null?(w=R=te,b=u):R=R.next=te,be.lanes|=X,Wn|=X;te=G.action,Da&&n(u,te),u=G.hasEagerState?G.eagerState:n(u,te)}else X={lane:te,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},R===null?(w=R=X,b=u):R=R.next=X,be.lanes|=te,Wn|=te;G=G.next}while(G!==null&&G!==t);if(R===null?b=u:R.next=w,!Tt(u,e.memoizedState)&&(Fe=!0,P&&(n=rl,n!==null)))throw n;e.memoizedState=u,e.baseState=b,e.baseQueue=R,l.lastRenderedState=u}return o===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Zo(e){var t=Je(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var l=n.dispatch,o=n.pending,u=t.memoizedState;if(o!==null){n.pending=null;var b=o=o.next;do u=e(u,b.action),b=b.next;while(b!==o);Tt(u,t.memoizedState)||(Fe=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,l]}function Qd(e,t,n){var l=be,o=Je(),u=Ce;if(u){if(n===void 0)throw Error(s(407));n=n()}else n=t();var b=!Tt((Me||o).memoizedState,n);b&&(o.memoizedState=n,Fe=!0),o=o.queue;var w=Pd.bind(null,l,o,e);if(ui(2048,8,w,[e]),o.getSnapshot!==t||b||Ke!==null&&Ke.memoizedState.tag&1){if(l.flags|=2048,ul(9,jr(),Jd.bind(null,l,o,n,t),null),Be===null)throw Error(s(349));u||(Gn&124)!==0||Kd(l,t,n)}return n}function Kd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=be.updateQueue,t===null?(t=Vo(),be.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jd(e,t,n,l){t.value=n,t.getSnapshot=l,Wd(t)&&Id(e)}function Pd(e,t,n){return n(function(){Wd(t)&&Id(e)})}function Wd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tt(e,n)}catch{return!0}}function Id(e){var t=tl(e,2);t!==null&&Rt(t,e,2)}function Xo(e){var t=vt();if(typeof e=="function"){var n=e;if(e=n(),Da){kn(!0);try{n()}finally{kn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:e},t}function Fd(e,t,n,l){return e.baseState=n,Go(e,Me,typeof l=="function"?l:vn)}function ov(e,t,n,l,o){if(Dr(e))throw Error(s(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){u.listeners.push(b)}};j.T!==null?n(!0):u.isTransition=!1,l(u),n=t.pending,n===null?(u.next=t.pending=u,eh(t,u)):(u.next=n.next,t.pending=n.next=u)}}function eh(e,t){var n=t.action,l=t.payload,o=e.state;if(t.isTransition){var u=j.T,b={};j.T=b;try{var w=n(o,l),R=j.S;R!==null&&R(b,w),th(e,t,w)}catch(G){Qo(e,t,G)}finally{j.T=u}}else try{u=n(o,l),th(e,t,u)}catch(G){Qo(e,t,G)}}function th(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){nh(e,t,l)},function(l){return Qo(e,t,l)}):nh(e,t,n)}function nh(e,t,n){t.status="fulfilled",t.value=n,ah(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,eh(e,n)))}function Qo(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,ah(t),t=t.next;while(t!==l)}e.action=null}function ah(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function lh(e,t){return t}function ih(e,t){if(Ce){var n=Be.formState;if(n!==null){e:{var l=be;if(Ce){if($e){t:{for(var o=$e,u=Jt;o.nodeType!==8;){if(!u){o=null;break t}if(o=Xt(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){$e=Xt(o.nextSibling),l=o.data==="F!";break e}}Na(l)}l=!1}l&&(t=n[0])}}return n=vt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lh,lastRenderedState:t},n.queue=l,n=Th.bind(null,be,l),l.dispatch=n,l=Xo(!1),u=Io.bind(null,be,!1,l.queue),l=vt(),o={state:t,dispatch:null,action:e,pending:null},l.queue=o,n=ov.bind(null,be,o,u,n),o.dispatch=n,l.memoizedState=e,[t,n,!1]}function rh(e){var t=Je();return sh(t,Me,e)}function sh(e,t,n){if(t=Go(e,t,lh)[0],e=Ar(vn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=ci(t)}catch(b){throw b===ai?xr:b}else l=t;t=Je();var o=t.queue,u=o.dispatch;return n!==t.memoizedState&&(be.flags|=2048,ul(9,jr(),cv.bind(null,o,n),null)),[l,u,e]}function cv(e,t){e.action=t}function oh(e){var t=Je(),n=Me;if(n!==null)return sh(t,n,e);Je(),t=t.memoizedState,n=Je();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function ul(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=be.updateQueue,t===null&&(t=Vo(),be.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function jr(){return{destroy:void 0,resource:void 0}}function ch(){return Je().memoizedState}function Cr(e,t,n,l){var o=vt();l=l===void 0?null:l,be.flags|=e,o.memoizedState=ul(1|t,jr(),n,l)}function ui(e,t,n,l){var o=Je();l=l===void 0?null:l;var u=o.memoizedState.inst;Me!==null&&l!==null&&ko(l,Me.memoizedState.deps)?o.memoizedState=ul(t,u,n,l):(be.flags|=e,o.memoizedState=ul(1|t,u,n,l))}function uh(e,t){Cr(8390656,8,e,t)}function fh(e,t){ui(2048,8,e,t)}function dh(e,t){return ui(4,2,e,t)}function hh(e,t){return ui(4,4,e,t)}function mh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gh(e,t,n){n=n!=null?n.concat([e]):null,ui(4,4,mh.bind(null,t,e),n)}function Ko(){}function yh(e,t){var n=Je();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&ko(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function ph(e,t){var n=Je();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&ko(t,l[1]))return l[0];if(l=e(),Da){kn(!0);try{e()}finally{kn(!1)}}return n.memoizedState=[l,t],l}function Jo(e,t,n){return n===void 0||(Gn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=xm(),be.lanes|=e,Wn|=e,n)}function vh(e,t,n,l){return Tt(n,t)?n:sl.current!==null?(e=Jo(e,n,l),Tt(e,t)||(Fe=!0),e):(Gn&42)===0?(Fe=!0,e.memoizedState=n):(e=xm(),be.lanes|=e,Wn|=e,t)}function bh(e,t,n,l,o){var u=k.p;k.p=u!==0&&8>u?u:8;var b=j.T,w={};j.T=w,Io(e,!1,t,n);try{var R=o(),G=j.S;if(G!==null&&G(w,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var P=iv(R,l);fi(e,t,P,Dt(e))}else fi(e,t,l,Dt(e))}catch(te){fi(e,t,{then:function(){},status:"rejected",reason:te},Dt())}finally{k.p=u,j.T=b}}function uv(){}function Po(e,t,n,l){if(e.tag!==5)throw Error(s(476));var o=xh(e).queue;bh(e,o,t,W,n===null?uv:function(){return Eh(e),n(l)})}function xh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:W},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Eh(e){var t=xh(e).next.queue;fi(e,t,{},Dt())}function Wo(){return ct(Di)}function wh(){return Je().memoizedState}function Sh(){return Je().memoizedState}function fv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Dt();e=Vn(n);var l=$n(t,e,n);l!==null&&(Rt(l,t,n),ii(l,t,n)),t={cache:jo()},e.payload=t;return}t=t.return}}function dv(e,t,n){var l=Dt();n={lane:l,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Dr(e)?Nh(t,n):(n=po(e,t,n,l),n!==null&&(Rt(n,e,l),Ah(n,t,l)))}function Th(e,t,n){var l=Dt();fi(e,t,n,l)}function fi(e,t,n,l){var o={lane:l,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Dr(e))Nh(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var b=t.lastRenderedState,w=u(b,n);if(o.hasEagerState=!0,o.eagerState=w,Tt(w,b))return dr(e,t,o,0),Be===null&&fr(),!1}catch{}finally{}if(n=po(e,t,o,l),n!==null)return Rt(n,e,l),Ah(n,t,l),!0}return!1}function Io(e,t,n,l){if(l={lane:2,revertLane:Rc(),action:l,hasEagerState:!1,eagerState:null,next:null},Dr(e)){if(t)throw Error(s(479))}else t=po(e,n,l,2),t!==null&&Rt(t,e,2)}function Dr(e){var t=e.alternate;return e===be||t!==null&&t===be}function Nh(e,t){ol=Sr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ah(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Of(e,n)}}var Rr={readContext:ct,use:Nr,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze},jh={readContext:ct,use:Nr,useCallback:function(e,t){return vt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:uh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Cr(4194308,4,mh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Cr(4194308,4,e,t)},useInsertionEffect:function(e,t){Cr(4,2,e,t)},useMemo:function(e,t){var n=vt();t=t===void 0?null:t;var l=e();if(Da){kn(!0);try{e()}finally{kn(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=vt();if(n!==void 0){var o=n(t);if(Da){kn(!0);try{n(t)}finally{kn(!1)}}}else o=t;return l.memoizedState=l.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},l.queue=e,e=e.dispatch=dv.bind(null,be,e),[l.memoizedState,e]},useRef:function(e){var t=vt();return e={current:e},t.memoizedState=e},useState:function(e){e=Xo(e);var t=e.queue,n=Th.bind(null,be,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ko,useDeferredValue:function(e,t){var n=vt();return Jo(n,e,t)},useTransition:function(){var e=Xo(!1);return e=bh.bind(null,be,e.queue,!0,!1),vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=be,o=vt();if(Ce){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),Be===null)throw Error(s(349));(Te&124)!==0||Kd(l,t,n)}o.memoizedState=n;var u={value:n,getSnapshot:t};return o.queue=u,uh(Pd.bind(null,l,u,e),[e]),l.flags|=2048,ul(9,jr(),Jd.bind(null,l,u,n,t),null),n},useId:function(){var e=vt(),t=Be.identifierPrefix;if(Ce){var n=gn,l=mn;n=(l&~(1<<32-St(l)-1)).toString(32)+n,t=""+t+"R"+n,n=Tr++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=rv++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Wo,useFormState:ih,useActionState:ih,useOptimistic:function(e){var t=vt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Io.bind(null,be,!0,n),n.dispatch=t,[e,t]},useMemoCache:$o,useCacheRefresh:function(){return vt().memoizedState=fv.bind(null,be)}},Ch={readContext:ct,use:Nr,useCallback:yh,useContext:ct,useEffect:fh,useImperativeHandle:gh,useInsertionEffect:dh,useLayoutEffect:hh,useMemo:ph,useReducer:Ar,useRef:ch,useState:function(){return Ar(vn)},useDebugValue:Ko,useDeferredValue:function(e,t){var n=Je();return vh(n,Me.memoizedState,e,t)},useTransition:function(){var e=Ar(vn)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:ci(e),t]},useSyncExternalStore:Qd,useId:wh,useHostTransitionStatus:Wo,useFormState:rh,useActionState:rh,useOptimistic:function(e,t){var n=Je();return Fd(n,Me,e,t)},useMemoCache:$o,useCacheRefresh:Sh},hv={readContext:ct,use:Nr,useCallback:yh,useContext:ct,useEffect:fh,useImperativeHandle:gh,useInsertionEffect:dh,useLayoutEffect:hh,useMemo:ph,useReducer:Zo,useRef:ch,useState:function(){return Zo(vn)},useDebugValue:Ko,useDeferredValue:function(e,t){var n=Je();return Me===null?Jo(n,e,t):vh(n,Me.memoizedState,e,t)},useTransition:function(){var e=Zo(vn)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:ci(e),t]},useSyncExternalStore:Qd,useId:wh,useHostTransitionStatus:Wo,useFormState:oh,useActionState:oh,useOptimistic:function(e,t){var n=Je();return Me!==null?Fd(n,Me,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:$o,useCacheRefresh:Sh},fl=null,di=0;function _r(e){var t=di;return di+=1,fl===null&&(fl=[]),Hd(fl,e,t)}function hi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Mr(e,t){throw t.$$typeof===v?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Dh(e){var t=e._init;return t(e._payload)}function Rh(e){function t(B,U){if(e){var V=B.deletions;V===null?(B.deletions=[U],B.flags|=16):V.push(U)}}function n(B,U){if(!e)return null;for(;U!==null;)t(B,U),U=U.sibling;return null}function l(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function o(B,U){return B=hn(B,U),B.index=0,B.sibling=null,B}function u(B,U,V){return B.index=V,e?(V=B.alternate,V!==null?(V=V.index,V<U?(B.flags|=67108866,U):V):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function b(B){return e&&B.alternate===null&&(B.flags|=67108866),B}function w(B,U,V,I){return U===null||U.tag!==6?(U=bo(V,B.mode,I),U.return=B,U):(U=o(U,V),U.return=B,U)}function R(B,U,V,I){var fe=V.type;return fe===T?P(B,U,V.props.children,I,V.key):U!==null&&(U.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===H&&Dh(fe)===U.type)?(U=o(U,V.props),hi(U,V),U.return=B,U):(U=mr(V.type,V.key,V.props,null,B.mode,I),hi(U,V),U.return=B,U)}function G(B,U,V,I){return U===null||U.tag!==4||U.stateNode.containerInfo!==V.containerInfo||U.stateNode.implementation!==V.implementation?(U=xo(V,B.mode,I),U.return=B,U):(U=o(U,V.children||[]),U.return=B,U)}function P(B,U,V,I,fe){return U===null||U.tag!==7?(U=Ea(V,B.mode,I,fe),U.return=B,U):(U=o(U,V),U.return=B,U)}function te(B,U,V){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=bo(""+U,B.mode,V),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case x:return V=mr(U.type,U.key,U.props,null,B.mode,V),hi(V,U),V.return=B,V;case S:return U=xo(U,B.mode,V),U.return=B,U;case H:var I=U._init;return U=I(U._payload),te(B,U,V)}if(z(U)||ce(U))return U=Ea(U,B.mode,V,null),U.return=B,U;if(typeof U.then=="function")return te(B,_r(U),V);if(U.$$typeof===D)return te(B,vr(B,U),V);Mr(B,U)}return null}function X(B,U,V,I){var fe=U!==null?U.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return fe!==null?null:w(B,U,""+V,I);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case x:return V.key===fe?R(B,U,V,I):null;case S:return V.key===fe?G(B,U,V,I):null;case H:return fe=V._init,V=fe(V._payload),X(B,U,V,I)}if(z(V)||ce(V))return fe!==null?null:P(B,U,V,I,null);if(typeof V.then=="function")return X(B,U,_r(V),I);if(V.$$typeof===D)return X(B,U,vr(B,V),I);Mr(B,V)}return null}function Q(B,U,V,I,fe){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return B=B.get(V)||null,w(U,B,""+I,fe);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case x:return B=B.get(I.key===null?V:I.key)||null,R(U,B,I,fe);case S:return B=B.get(I.key===null?V:I.key)||null,G(U,B,I,fe);case H:var xe=I._init;return I=xe(I._payload),Q(B,U,V,I,fe)}if(z(I)||ce(I))return B=B.get(V)||null,P(U,B,I,fe,null);if(typeof I.then=="function")return Q(B,U,V,_r(I),fe);if(I.$$typeof===D)return Q(B,U,V,vr(U,I),fe);Mr(U,I)}return null}function ge(B,U,V,I){for(var fe=null,xe=null,de=U,me=U=0,tt=null;de!==null&&me<V.length;me++){de.index>me?(tt=de,de=null):tt=de.sibling;var Ae=X(B,de,V[me],I);if(Ae===null){de===null&&(de=tt);break}e&&de&&Ae.alternate===null&&t(B,de),U=u(Ae,U,me),xe===null?fe=Ae:xe.sibling=Ae,xe=Ae,de=tt}if(me===V.length)return n(B,de),Ce&&Sa(B,me),fe;if(de===null){for(;me<V.length;me++)de=te(B,V[me],I),de!==null&&(U=u(de,U,me),xe===null?fe=de:xe.sibling=de,xe=de);return Ce&&Sa(B,me),fe}for(de=l(de);me<V.length;me++)tt=Q(de,B,me,V[me],I),tt!==null&&(e&&tt.alternate!==null&&de.delete(tt.key===null?me:tt.key),U=u(tt,U,me),xe===null?fe=tt:xe.sibling=tt,xe=tt);return e&&de.forEach(function(ra){return t(B,ra)}),Ce&&Sa(B,me),fe}function he(B,U,V,I){if(V==null)throw Error(s(151));for(var fe=null,xe=null,de=U,me=U=0,tt=null,Ae=V.next();de!==null&&!Ae.done;me++,Ae=V.next()){de.index>me?(tt=de,de=null):tt=de.sibling;var ra=X(B,de,Ae.value,I);if(ra===null){de===null&&(de=tt);break}e&&de&&ra.alternate===null&&t(B,de),U=u(ra,U,me),xe===null?fe=ra:xe.sibling=ra,xe=ra,de=tt}if(Ae.done)return n(B,de),Ce&&Sa(B,me),fe;if(de===null){for(;!Ae.done;me++,Ae=V.next())Ae=te(B,Ae.value,I),Ae!==null&&(U=u(Ae,U,me),xe===null?fe=Ae:xe.sibling=Ae,xe=Ae);return Ce&&Sa(B,me),fe}for(de=l(de);!Ae.done;me++,Ae=V.next())Ae=Q(de,B,me,Ae.value,I),Ae!==null&&(e&&Ae.alternate!==null&&de.delete(Ae.key===null?me:Ae.key),U=u(Ae,U,me),xe===null?fe=Ae:xe.sibling=Ae,xe=Ae);return e&&de.forEach(function(mb){return t(B,mb)}),Ce&&Sa(B,me),fe}function Oe(B,U,V,I){if(typeof V=="object"&&V!==null&&V.type===T&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case x:e:{for(var fe=V.key;U!==null;){if(U.key===fe){if(fe=V.type,fe===T){if(U.tag===7){n(B,U.sibling),I=o(U,V.props.children),I.return=B,B=I;break e}}else if(U.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===H&&Dh(fe)===U.type){n(B,U.sibling),I=o(U,V.props),hi(I,V),I.return=B,B=I;break e}n(B,U);break}else t(B,U);U=U.sibling}V.type===T?(I=Ea(V.props.children,B.mode,I,V.key),I.return=B,B=I):(I=mr(V.type,V.key,V.props,null,B.mode,I),hi(I,V),I.return=B,B=I)}return b(B);case S:e:{for(fe=V.key;U!==null;){if(U.key===fe)if(U.tag===4&&U.stateNode.containerInfo===V.containerInfo&&U.stateNode.implementation===V.implementation){n(B,U.sibling),I=o(U,V.children||[]),I.return=B,B=I;break e}else{n(B,U);break}else t(B,U);U=U.sibling}I=xo(V,B.mode,I),I.return=B,B=I}return b(B);case H:return fe=V._init,V=fe(V._payload),Oe(B,U,V,I)}if(z(V))return ge(B,U,V,I);if(ce(V)){if(fe=ce(V),typeof fe!="function")throw Error(s(150));return V=fe.call(V),he(B,U,V,I)}if(typeof V.then=="function")return Oe(B,U,_r(V),I);if(V.$$typeof===D)return Oe(B,U,vr(B,V),I);Mr(B,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,U!==null&&U.tag===6?(n(B,U.sibling),I=o(U,V),I.return=B,B=I):(n(B,U),I=bo(V,B.mode,I),I.return=B,B=I),b(B)):n(B,U)}return function(B,U,V,I){try{di=0;var fe=Oe(B,U,V,I);return fl=null,fe}catch(de){if(de===ai||de===xr)throw de;var xe=Nt(29,de,null,B.mode);return xe.lanes=I,xe.return=B,xe}finally{}}}var dl=Rh(!0),_h=Rh(!1),Lt=Z(null),Pt=null;function Zn(e){var t=e.alternate;ne(We,We.current&1),ne(Lt,e),Pt===null&&(t===null||sl.current!==null||t.memoizedState!==null)&&(Pt=e)}function Mh(e){if(e.tag===22){if(ne(We,We.current),ne(Lt,e),Pt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Pt=e)}}else Xn()}function Xn(){ne(We,We.current),ne(Lt,Lt.current)}function bn(e){ee(Lt),Pt===e&&(Pt=null),ee(We)}var We=Z(0);function Ur(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Vc(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Fo(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:y({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ec={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=Dt(),o=Vn(l);o.payload=t,n!=null&&(o.callback=n),t=$n(e,o,l),t!==null&&(Rt(t,e,l),ii(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=Dt(),o=Vn(l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=$n(e,o,l),t!==null&&(Rt(t,e,l),ii(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dt(),l=Vn(n);l.tag=2,t!=null&&(l.callback=t),t=$n(e,l,n),t!==null&&(Rt(t,e,n),ii(t,e,n))}};function Uh(e,t,n,l,o,u,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,u,b):t.prototype&&t.prototype.isPureReactComponent?!Jl(n,l)||!Jl(o,u):!0}function Oh(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&ec.enqueueReplaceState(t,t.state,null)}function Ra(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=y({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}var Or=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function zh(e){Or(e)}function Bh(e){console.error(e)}function kh(e){Or(e)}function zr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Lh(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function tc(e,t,n){return n=Vn(n),n.tag=3,n.payload={element:null},n.callback=function(){zr(e,t)},n}function Hh(e){return e=Vn(e),e.tag=3,e}function qh(e,t,n,l){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var u=l.value;e.payload=function(){return o(u)},e.callback=function(){Lh(t,n,l)}}var b=n.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){Lh(t,n,l),typeof o!="function"&&(In===null?In=new Set([this]):In.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function mv(e,t,n,l,o){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&ei(t,n,o,!0),n=Lt.current,n!==null){switch(n.tag){case 13:return Pt===null?Nc():n.alternate===null&&Ge===0&&(Ge=3),n.flags&=-257,n.flags|=65536,n.lanes=o,l===Ro?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),jc(e,l,o)),!1;case 22:return n.flags|=65536,l===Ro?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),jc(e,l,o)),!1}throw Error(s(435,n.tag))}return jc(e,l,o),Nc(),!1}if(Ce)return t=Lt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,l!==So&&(e=Error(s(422),{cause:l}),Fl(Ot(e,n)))):(l!==So&&(t=Error(s(423),{cause:l}),Fl(Ot(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,l=Ot(l,n),o=tc(e.stateNode,l,o),Uo(e,o),Ge!==4&&(Ge=2)),!1;var u=Error(s(520),{cause:l});if(u=Ot(u,n),xi===null?xi=[u]:xi.push(u),Ge!==4&&(Ge=2),t===null)return!0;l=Ot(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=tc(n.stateNode,l,e),Uo(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(In===null||!In.has(u))))return n.flags|=65536,o&=-o,n.lanes|=o,o=Hh(o),qh(o,e,n,l),Uo(n,o),!1}n=n.return}while(n!==null);return!1}var Yh=Error(s(461)),Fe=!1;function lt(e,t,n,l){t.child=e===null?_h(t,null,n,l):dl(t,e.child,n,l)}function Vh(e,t,n,l,o){n=n.render;var u=t.ref;if("ref"in l){var b={};for(var w in l)w!=="ref"&&(b[w]=l[w])}else b=l;return ja(t),l=Lo(e,t,n,b,u,o),w=Ho(),e!==null&&!Fe?(qo(e,t,o),xn(e,t,o)):(Ce&&w&&Eo(t),t.flags|=1,lt(e,t,l,o),t.child)}function $h(e,t,n,l,o){if(e===null){var u=n.type;return typeof u=="function"&&!vo(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,Gh(e,t,u,l,o)):(e=mr(n.type,null,l,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!cc(e,o)){var b=u.memoizedProps;if(n=n.compare,n=n!==null?n:Jl,n(b,l)&&e.ref===t.ref)return xn(e,t,o)}return t.flags|=1,e=hn(u,l),e.ref=t.ref,e.return=t,t.child=e}function Gh(e,t,n,l,o){if(e!==null){var u=e.memoizedProps;if(Jl(u,l)&&e.ref===t.ref)if(Fe=!1,t.pendingProps=l=u,cc(e,o))(e.flags&131072)!==0&&(Fe=!0);else return t.lanes=e.lanes,xn(e,t,o)}return nc(e,t,n,l,o)}function Zh(e,t,n){var l=t.pendingProps,o=l.children,u=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((t.flags&128)!==0){if(l=u!==null?u.baseLanes|n:n,e!==null){for(o=t.child=e.child,u=0;o!==null;)u=u|o.lanes|o.childLanes,o=o.sibling;t.childLanes=u&~l}else t.childLanes=0,t.child=null;return Xh(e,t,l,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&br(t,u!==null?u.cachePool:null),u!==null?Gd(t,u):zo(),Mh(t);else return t.lanes=t.childLanes=536870912,Xh(e,t,u!==null?u.baseLanes|n:n,n)}else u!==null?(br(t,u.cachePool),Gd(t,u),Xn(),t.memoizedState=null):(e!==null&&br(t,null),zo(),Xn());return lt(e,t,o,n),t.child}function Xh(e,t,n,l){var o=Do();return o=o===null?null:{parent:Pe._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&br(t,null),zo(),Mh(t),e!==null&&ei(e,t,l,!0),null}function Br(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(s(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function nc(e,t,n,l,o){return ja(t),n=Lo(e,t,n,l,void 0,o),l=Ho(),e!==null&&!Fe?(qo(e,t,o),xn(e,t,o)):(Ce&&l&&Eo(t),t.flags|=1,lt(e,t,n,o),t.child)}function Qh(e,t,n,l,o,u){return ja(t),t.updateQueue=null,n=Xd(t,l,n,o),Zd(e),l=Ho(),e!==null&&!Fe?(qo(e,t,u),xn(e,t,u)):(Ce&&l&&Eo(t),t.flags|=1,lt(e,t,n,u),t.child)}function Kh(e,t,n,l,o){if(ja(t),t.stateNode===null){var u=nl,b=n.contextType;typeof b=="object"&&b!==null&&(u=ct(b)),u=new n(l,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=ec,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=l,u.state=t.memoizedState,u.refs={},_o(t),b=n.contextType,u.context=typeof b=="object"&&b!==null?ct(b):nl,u.state=t.memoizedState,b=n.getDerivedStateFromProps,typeof b=="function"&&(Fo(t,n,b,l),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(b=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),b!==u.state&&ec.enqueueReplaceState(u,u.state,null),si(t,l,u,o),ri(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){u=t.stateNode;var w=t.memoizedProps,R=Ra(n,w);u.props=R;var G=u.context,P=n.contextType;b=nl,typeof P=="object"&&P!==null&&(b=ct(P));var te=n.getDerivedStateFromProps;P=typeof te=="function"||typeof u.getSnapshotBeforeUpdate=="function",w=t.pendingProps!==w,P||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(w||G!==b)&&Oh(t,u,l,b),Yn=!1;var X=t.memoizedState;u.state=X,si(t,l,u,o),ri(),G=t.memoizedState,w||X!==G||Yn?(typeof te=="function"&&(Fo(t,n,te,l),G=t.memoizedState),(R=Yn||Uh(t,n,R,l,X,G,b))?(P||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=G),u.props=l,u.state=G,u.context=b,l=R):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{u=t.stateNode,Mo(e,t),b=t.memoizedProps,P=Ra(n,b),u.props=P,te=t.pendingProps,X=u.context,G=n.contextType,R=nl,typeof G=="object"&&G!==null&&(R=ct(G)),w=n.getDerivedStateFromProps,(G=typeof w=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(b!==te||X!==R)&&Oh(t,u,l,R),Yn=!1,X=t.memoizedState,u.state=X,si(t,l,u,o),ri();var Q=t.memoizedState;b!==te||X!==Q||Yn||e!==null&&e.dependencies!==null&&pr(e.dependencies)?(typeof w=="function"&&(Fo(t,n,w,l),Q=t.memoizedState),(P=Yn||Uh(t,n,P,l,X,Q,R)||e!==null&&e.dependencies!==null&&pr(e.dependencies))?(G||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(l,Q,R),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(l,Q,R)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||b===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=Q),u.props=l,u.state=Q,u.context=R,l=P):(typeof u.componentDidUpdate!="function"||b===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),l=!1)}return u=l,Br(e,t),l=(t.flags&128)!==0,u||l?(u=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&l?(t.child=dl(t,e.child,null,o),t.child=dl(t,null,n,o)):lt(e,t,n,o),t.memoizedState=u.state,e=t.child):e=xn(e,t,o),e}function Jh(e,t,n,l){return Il(),t.flags|=256,lt(e,t,n,l),t.child}var ac={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lc(e){return{baseLanes:e,cachePool:Bd()}}function ic(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ht),e}function Ph(e,t,n){var l=t.pendingProps,o=!1,u=(t.flags&128)!==0,b;if((b=u)||(b=e!==null&&e.memoizedState===null?!1:(We.current&2)!==0),b&&(o=!0,t.flags&=-129),b=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ce){if(o?Zn(t):Xn(),Ce){var w=$e,R;if(R=w){e:{for(R=w,w=Jt;R.nodeType!==8;){if(!w){w=null;break e}if(R=Xt(R.nextSibling),R===null){w=null;break e}}w=R}w!==null?(t.memoizedState={dehydrated:w,treeContext:wa!==null?{id:mn,overflow:gn}:null,retryLane:536870912,hydrationErrors:null},R=Nt(18,null,null,0),R.stateNode=w,R.return=t,t.child=R,gt=t,$e=null,R=!0):R=!1}R||Na(t)}if(w=t.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Vc(w)?t.lanes=32:t.lanes=536870912,null;bn(t)}return w=l.children,l=l.fallback,o?(Xn(),o=t.mode,w=kr({mode:"hidden",children:w},o),l=Ea(l,o,n,null),w.return=t,l.return=t,w.sibling=l,t.child=w,o=t.child,o.memoizedState=lc(n),o.childLanes=ic(e,b,n),t.memoizedState=ac,l):(Zn(t),rc(t,w))}if(R=e.memoizedState,R!==null&&(w=R.dehydrated,w!==null)){if(u)t.flags&256?(Zn(t),t.flags&=-257,t=sc(e,t,n)):t.memoizedState!==null?(Xn(),t.child=e.child,t.flags|=128,t=null):(Xn(),o=l.fallback,w=t.mode,l=kr({mode:"visible",children:l.children},w),o=Ea(o,w,n,null),o.flags|=2,l.return=t,o.return=t,l.sibling=o,t.child=l,dl(t,e.child,null,n),l=t.child,l.memoizedState=lc(n),l.childLanes=ic(e,b,n),t.memoizedState=ac,t=o);else if(Zn(t),Vc(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var G=b.dgst;b=G,l=Error(s(419)),l.stack="",l.digest=b,Fl({value:l,source:null,stack:null}),t=sc(e,t,n)}else if(Fe||ei(e,t,n,!1),b=(n&e.childLanes)!==0,Fe||b){if(b=Be,b!==null&&(l=n&-n,l=(l&42)!==0?1:Vs(l),l=(l&(b.suspendedLanes|n))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,tl(e,l),Rt(b,e,l),Yh;w.data==="$?"||Nc(),t=sc(e,t,n)}else w.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=R.treeContext,$e=Xt(w.nextSibling),gt=t,Ce=!0,Ta=null,Jt=!1,e!==null&&(Bt[kt++]=mn,Bt[kt++]=gn,Bt[kt++]=wa,mn=e.id,gn=e.overflow,wa=t),t=rc(t,l.children),t.flags|=4096);return t}return o?(Xn(),o=l.fallback,w=t.mode,R=e.child,G=R.sibling,l=hn(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,G!==null?o=hn(G,o):(o=Ea(o,w,n,null),o.flags|=2),o.return=t,l.return=t,l.sibling=o,t.child=l,l=o,o=t.child,w=e.child.memoizedState,w===null?w=lc(n):(R=w.cachePool,R!==null?(G=Pe._currentValue,R=R.parent!==G?{parent:G,pool:G}:R):R=Bd(),w={baseLanes:w.baseLanes|n,cachePool:R}),o.memoizedState=w,o.childLanes=ic(e,b,n),t.memoizedState=ac,l):(Zn(t),n=e.child,e=n.sibling,n=hn(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(b=t.deletions,b===null?(t.deletions=[e],t.flags|=16):b.push(e)),t.child=n,t.memoizedState=null,n)}function rc(e,t){return t=kr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function kr(e,t){return e=Nt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function sc(e,t,n){return dl(t,e.child,null,n),e=rc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wh(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),No(e.return,t,n)}function oc(e,t,n,l,o){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:o}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=l,u.tail=n,u.tailMode=o)}function Ih(e,t,n){var l=t.pendingProps,o=l.revealOrder,u=l.tail;if(lt(e,t,l.children,n),l=We.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wh(e,n,t);else if(e.tag===19)Wh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(ne(We,l),o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ur(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),oc(t,!1,o,n,u);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ur(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}oc(t,!0,n,null,u);break;case"together":oc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(ei(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=hn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function cc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&pr(e)))}function gv(e,t,n){switch(t.tag){case 3:ye(t,t.stateNode.containerInfo),qn(t,Pe,e.memoizedState.cache),Il();break;case 27:case 5:pe(t);break;case 4:ye(t,t.stateNode.containerInfo);break;case 10:qn(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Zn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Ph(e,t,n):(Zn(t),e=xn(e,t,n),e!==null?e.sibling:null);Zn(t);break;case 19:var o=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(ei(e,t,n,!1),l=(n&t.childLanes)!==0),o){if(l)return Ih(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ne(We,We.current),l)break;return null;case 22:case 23:return t.lanes=0,Zh(e,t,n);case 24:qn(t,Pe,e.memoizedState.cache)}return xn(e,t,n)}function Fh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Fe=!0;else{if(!cc(e,n)&&(t.flags&128)===0)return Fe=!1,gv(e,t,n);Fe=(e.flags&131072)!==0}else Fe=!1,Ce&&(t.flags&1048576)!==0&&Dd(t,yr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,o=l._init;if(l=o(l._payload),t.type=l,typeof l=="function")vo(l)?(e=Ra(l,e),t.tag=1,t=Kh(null,t,l,e,n)):(t.tag=0,t=nc(null,t,l,e,n));else{if(l!=null){if(o=l.$$typeof,o===q){t.tag=11,t=Vh(null,t,l,e,n);break e}else if(o===Y){t.tag=14,t=$h(null,t,l,e,n);break e}}throw t=$(l)||l,Error(s(306,t,""))}}return t;case 0:return nc(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,o=Ra(l,t.pendingProps),Kh(e,t,l,o,n);case 3:e:{if(ye(t,t.stateNode.containerInfo),e===null)throw Error(s(387));l=t.pendingProps;var u=t.memoizedState;o=u.element,Mo(e,t),si(t,l,null,n);var b=t.memoizedState;if(l=b.cache,qn(t,Pe,l),l!==u.cache&&Ao(t,[Pe],n,!0),ri(),l=b.element,u.isDehydrated)if(u={element:l,isDehydrated:!1,cache:b.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Jh(e,t,l,n);break e}else if(l!==o){o=Ot(Error(s(424)),t),Fl(o),t=Jh(e,t,l,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($e=Xt(e.firstChild),gt=t,Ce=!0,Ta=null,Jt=!0,n=_h(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Il(),l===o){t=xn(e,t,n);break e}lt(e,t,l,n)}t=t.child}return t;case 26:return Br(e,t),e===null?(n=ag(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ce||(n=t.type,e=t.pendingProps,l=Wr(ie.current).createElement(n),l[ot]=t,l[yt]=e,rt(l,n,e),Ie(l),t.stateNode=l):t.memoizedState=ag(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return pe(t),e===null&&Ce&&(l=t.stateNode=eg(t.type,t.pendingProps,ie.current),gt=t,Jt=!0,o=$e,ta(t.type)?($c=o,$e=Xt(l.firstChild)):$e=o),lt(e,t,t.pendingProps.children,n),Br(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ce&&((o=l=$e)&&(l=$v(l,t.type,t.pendingProps,Jt),l!==null?(t.stateNode=l,gt=t,$e=Xt(l.firstChild),Jt=!1,o=!0):o=!1),o||Na(t)),pe(t),o=t.type,u=t.pendingProps,b=e!==null?e.memoizedProps:null,l=u.children,Hc(o,u)?l=null:b!==null&&Hc(o,b)&&(t.flags|=32),t.memoizedState!==null&&(o=Lo(e,t,sv,null,null,n),Di._currentValue=o),Br(e,t),lt(e,t,l,n),t.child;case 6:return e===null&&Ce&&((e=n=$e)&&(n=Gv(n,t.pendingProps,Jt),n!==null?(t.stateNode=n,gt=t,$e=null,e=!0):e=!1),e||Na(t)),null;case 13:return Ph(e,t,n);case 4:return ye(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=dl(t,null,l,n):lt(e,t,l,n),t.child;case 11:return Vh(e,t,t.type,t.pendingProps,n);case 7:return lt(e,t,t.pendingProps,n),t.child;case 8:return lt(e,t,t.pendingProps.children,n),t.child;case 12:return lt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,qn(t,t.type,l.value),lt(e,t,l.children,n),t.child;case 9:return o=t.type._context,l=t.pendingProps.children,ja(t),o=ct(o),l=l(o),t.flags|=1,lt(e,t,l,n),t.child;case 14:return $h(e,t,t.type,t.pendingProps,n);case 15:return Gh(e,t,t.type,t.pendingProps,n);case 19:return Ih(e,t,n);case 31:return l=t.pendingProps,n=t.mode,l={mode:l.mode,children:l.children},e===null?(n=kr(l,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=hn(e.child,l),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Zh(e,t,n);case 24:return ja(t),l=ct(Pe),e===null?(o=Do(),o===null&&(o=Be,u=jo(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=n),o=u),t.memoizedState={parent:l,cache:o},_o(t),qn(t,Pe,o)):((e.lanes&n)!==0&&(Mo(e,t),si(t,null,null,n),ri()),o=e.memoizedState,u=t.memoizedState,o.parent!==l?(o={parent:l,cache:l},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),qn(t,Pe,l)):(l=u.cache,qn(t,Pe,l),l!==o.cache&&Ao(t,[Pe],n,!0))),lt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function En(e){e.flags|=4}function em(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!og(t)){if(t=Lt.current,t!==null&&((Te&4194048)===Te?Pt!==null:(Te&62914560)!==Te&&(Te&536870912)===0||t!==Pt))throw li=Ro,kd;e.flags|=8192}}function Lr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Mf():536870912,e.lanes|=t,yl|=t)}function mi(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,l|=o.subtreeFlags&65011712,l|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,l|=o.subtreeFlags,l|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function yv(e,t,n){var l=t.pendingProps;switch(wo(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return Ye(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),pn(Pe),le(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Wl(t)?En(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Md())),Ye(t),null;case 26:return n=t.memoizedState,e===null?(En(t),n!==null?(Ye(t),em(t,n)):(Ye(t),t.flags&=-16777217)):n?n!==e.memoizedState?(En(t),Ye(t),em(t,n)):(Ye(t),t.flags&=-16777217):(e.memoizedProps!==l&&En(t),Ye(t),t.flags&=-16777217),null;case 27:De(t),n=ie.current;var o=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&En(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return Ye(t),null}e=J.current,Wl(t)?Rd(t):(e=eg(o,l,n),t.stateNode=e,En(t))}return Ye(t),null;case 5:if(De(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&En(t);else{if(!l){if(t.stateNode===null)throw Error(s(166));return Ye(t),null}if(e=J.current,Wl(t))Rd(t);else{switch(o=Wr(ie.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?o.createElement("select",{is:l.is}):o.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?o.createElement(n,{is:l.is}):o.createElement(n)}}e[ot]=t,e[yt]=l;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(rt(e,n,l),n){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&En(t)}}return Ye(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&En(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(s(166));if(e=ie.current,Wl(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,o=gt,o!==null)switch(o.tag){case 27:case 5:l=o.memoizedProps}e[ot]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Qm(e.nodeValue,n)),e||Na(t)}else e=Wr(e).createTextNode(l),e[ot]=t,t.stateNode=e}return Ye(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Wl(t),l!==null&&l.dehydrated!==null){if(e===null){if(!o)throw Error(s(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));o[ot]=t}else Il(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),o=!1}else o=Md(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(bn(t),t):(bn(t),null)}if(bn(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=l!==null,e=e!==null&&e.memoizedState!==null,n){l=t.child,o=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(o=l.alternate.memoizedState.cachePool.pool);var u=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(u=l.memoizedState.cachePool.pool),u!==o&&(l.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Lr(t,t.updateQueue),Ye(t),null;case 4:return le(),e===null&&Oc(t.stateNode.containerInfo),Ye(t),null;case 10:return pn(t.type),Ye(t),null;case 19:if(ee(We),o=t.memoizedState,o===null)return Ye(t),null;if(l=(t.flags&128)!==0,u=o.rendering,u===null)if(l)mi(o,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Ur(e),u!==null){for(t.flags|=128,mi(o,!1),e=u.updateQueue,t.updateQueue=e,Lr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Cd(n,e),n=n.sibling;return ne(We,We.current&1|2),t.child}e=e.sibling}o.tail!==null&&qe()>Yr&&(t.flags|=128,l=!0,mi(o,!1),t.lanes=4194304)}else{if(!l)if(e=Ur(u),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Lr(t,e),mi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!u.alternate&&!Ce)return Ye(t),null}else 2*qe()-o.renderingStartTime>Yr&&n!==536870912&&(t.flags|=128,l=!0,mi(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(e=o.last,e!==null?e.sibling=u:t.child=u,o.last=u)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=qe(),t.sibling=null,e=We.current,ne(We,l?e&1|2:e&1),t):(Ye(t),null);case 22:case 23:return bn(t),Bo(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),n=t.updateQueue,n!==null&&Lr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&ee(Ca),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),pn(Pe),Ye(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function pv(e,t){switch(wo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pn(Pe),le(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return De(t),null;case 13:if(bn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Il()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(We),null;case 4:return le(),null;case 10:return pn(t.type),null;case 22:case 23:return bn(t),Bo(),e!==null&&ee(Ca),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return pn(Pe),null;case 25:return null;default:return null}}function tm(e,t){switch(wo(t),t.tag){case 3:pn(Pe),le();break;case 26:case 27:case 5:De(t);break;case 4:le();break;case 13:bn(t);break;case 19:ee(We);break;case 10:pn(t.type);break;case 22:case 23:bn(t),Bo(),e!==null&&ee(Ca);break;case 24:pn(Pe)}}function gi(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var o=l.next;n=o;do{if((n.tag&e)===e){l=void 0;var u=n.create,b=n.inst;l=u(),b.destroy=l}n=n.next}while(n!==o)}}catch(w){ze(t,t.return,w)}}function Qn(e,t,n){try{var l=t.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var u=o.next;l=u;do{if((l.tag&e)===e){var b=l.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,o=t;var R=n,G=w;try{G()}catch(P){ze(o,R,P)}}}l=l.next}while(l!==u)}}catch(P){ze(t,t.return,P)}}function nm(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{$d(t,n)}catch(l){ze(e,e.return,l)}}}function am(e,t,n){n.props=Ra(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){ze(e,t,l)}}function yi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(o){ze(e,t,o)}}function Wt(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(o){ze(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){ze(e,t,o)}else n.current=null}function lm(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(o){ze(e,e.return,o)}}function uc(e,t,n){try{var l=e.stateNode;Lv(l,e.type,n,t),l[yt]=t}catch(o){ze(e,e.return,o)}}function im(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ta(e.type)||e.tag===4}function fc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||im(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ta(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dc(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Pr));else if(l!==4&&(l===27&&ta(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(dc(e,t,n),e=e.sibling;e!==null;)dc(e,t,n),e=e.sibling}function Hr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&ta(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Hr(e,t,n),e=e.sibling;e!==null;)Hr(e,t,n),e=e.sibling}function rm(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);rt(t,l,n),t[ot]=e,t[yt]=n}catch(u){ze(e,e.return,u)}}var wn=!1,Xe=!1,hc=!1,sm=typeof WeakSet=="function"?WeakSet:Set,et=null;function vv(e,t){if(e=e.containerInfo,kc=as,e=vd(e),uo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var o=l.anchorOffset,u=l.focusNode;l=l.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var b=0,w=-1,R=-1,G=0,P=0,te=e,X=null;t:for(;;){for(var Q;te!==n||o!==0&&te.nodeType!==3||(w=b+o),te!==u||l!==0&&te.nodeType!==3||(R=b+l),te.nodeType===3&&(b+=te.nodeValue.length),(Q=te.firstChild)!==null;)X=te,te=Q;for(;;){if(te===e)break t;if(X===n&&++G===o&&(w=b),X===u&&++P===l&&(R=b),(Q=te.nextSibling)!==null)break;te=X,X=te.parentNode}te=Q}n=w===-1||R===-1?null:{start:w,end:R}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lc={focusedElem:e,selectionRange:n},as=!1,et=t;et!==null;)if(t=et,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,et=e;else for(;et!==null;){switch(t=et,u=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,o=u.memoizedProps,u=u.memoizedState,l=n.stateNode;try{var ge=Ra(n.type,o,n.elementType===n.type);e=l.getSnapshotBeforeUpdate(ge,u),l.__reactInternalSnapshotBeforeUpdate=e}catch(he){ze(n,n.return,he)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Yc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,et=e;break}et=t.return}}function om(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(e,n),l&4&&gi(5,n);break;case 1:if(Kn(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(b){ze(n,n.return,b)}else{var o=Ra(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(b){ze(n,n.return,b)}}l&64&&nm(n),l&512&&yi(n,n.return);break;case 3:if(Kn(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{$d(e,t)}catch(b){ze(n,n.return,b)}}break;case 27:t===null&&l&4&&rm(n);case 26:case 5:Kn(e,n),t===null&&l&4&&lm(n),l&512&&yi(n,n.return);break;case 12:Kn(e,n);break;case 13:Kn(e,n),l&4&&fm(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=jv.bind(null,n),Zv(e,n))));break;case 22:if(l=n.memoizedState!==null||wn,!l){t=t!==null&&t.memoizedState!==null||Xe,o=wn;var u=Xe;wn=l,(Xe=t)&&!u?Jn(e,n,(n.subtreeFlags&8772)!==0):Kn(e,n),wn=o,Xe=u}break;case 30:break;default:Kn(e,n)}}function cm(e){var t=e.alternate;t!==null&&(e.alternate=null,cm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Zs(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ke=null,bt=!1;function Sn(e,t,n){for(n=n.child;n!==null;)um(e,t,n),n=n.sibling}function um(e,t,n){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(ga,n)}catch{}switch(n.tag){case 26:Xe||Wt(n,t),Sn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Xe||Wt(n,t);var l=ke,o=bt;ta(n.type)&&(ke=n.stateNode,bt=!1),Sn(e,t,n),Ni(n.stateNode),ke=l,bt=o;break;case 5:Xe||Wt(n,t);case 6:if(l=ke,o=bt,ke=null,Sn(e,t,n),ke=l,bt=o,ke!==null)if(bt)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(n.stateNode)}catch(u){ze(n,t,u)}else try{ke.removeChild(n.stateNode)}catch(u){ze(n,t,u)}break;case 18:ke!==null&&(bt?(e=ke,Im(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ui(e)):Im(ke,n.stateNode));break;case 4:l=ke,o=bt,ke=n.stateNode.containerInfo,bt=!0,Sn(e,t,n),ke=l,bt=o;break;case 0:case 11:case 14:case 15:Xe||Qn(2,n,t),Xe||Qn(4,n,t),Sn(e,t,n);break;case 1:Xe||(Wt(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&am(n,t,l)),Sn(e,t,n);break;case 21:Sn(e,t,n);break;case 22:Xe=(l=Xe)||n.memoizedState!==null,Sn(e,t,n),Xe=l;break;default:Sn(e,t,n)}}function fm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ui(e)}catch(n){ze(t,t.return,n)}}function bv(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new sm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new sm),t;default:throw Error(s(435,e.tag))}}function mc(e,t){var n=bv(e);t.forEach(function(l){var o=Cv.bind(null,e,l);n.has(l)||(n.add(l),l.then(o,o))})}function At(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var o=n[l],u=e,b=t,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(ta(w.type)){ke=w.stateNode,bt=!1;break e}break;case 5:ke=w.stateNode,bt=!1;break e;case 3:case 4:ke=w.stateNode.containerInfo,bt=!0;break e}w=w.return}if(ke===null)throw Error(s(160));um(u,b,o),ke=null,bt=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)dm(t,e),t=t.sibling}var Zt=null;function dm(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:At(t,e),jt(e),l&4&&(Qn(3,e,e.return),gi(3,e),Qn(5,e,e.return));break;case 1:At(t,e),jt(e),l&512&&(Xe||n===null||Wt(n,n.return)),l&64&&wn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var o=Zt;if(At(t,e),jt(e),l&512&&(Xe||n===null||Wt(n,n.return)),l&4){var u=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(l){case"title":u=o.getElementsByTagName("title")[0],(!u||u[ql]||u[ot]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(l),o.head.insertBefore(u,o.querySelector("head > title"))),rt(u,l,n),u[ot]=e,Ie(u),l=u;break e;case"link":var b=rg("link","href",o).get(l+(n.href||""));if(b){for(var w=0;w<b.length;w++)if(u=b[w],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){b.splice(w,1);break t}}u=o.createElement(l),rt(u,l,n),o.head.appendChild(u);break;case"meta":if(b=rg("meta","content",o).get(l+(n.content||""))){for(w=0;w<b.length;w++)if(u=b[w],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){b.splice(w,1);break t}}u=o.createElement(l),rt(u,l,n),o.head.appendChild(u);break;default:throw Error(s(468,l))}u[ot]=e,Ie(u),l=u}e.stateNode=l}else sg(o,e.type,e.stateNode);else e.stateNode=ig(o,l,e.memoizedProps);else u!==l?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,l===null?sg(o,e.type,e.stateNode):ig(o,l,e.memoizedProps)):l===null&&e.stateNode!==null&&uc(e,e.memoizedProps,n.memoizedProps)}break;case 27:At(t,e),jt(e),l&512&&(Xe||n===null||Wt(n,n.return)),n!==null&&l&4&&uc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(At(t,e),jt(e),l&512&&(Xe||n===null||Wt(n,n.return)),e.flags&32){o=e.stateNode;try{Ka(o,"")}catch(Q){ze(e,e.return,Q)}}l&4&&e.stateNode!=null&&(o=e.memoizedProps,uc(e,o,n!==null?n.memoizedProps:o)),l&1024&&(hc=!0);break;case 6:if(At(t,e),jt(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(Q){ze(e,e.return,Q)}}break;case 3:if(es=null,o=Zt,Zt=Ir(t.containerInfo),At(t,e),Zt=o,jt(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Ui(t.containerInfo)}catch(Q){ze(e,e.return,Q)}hc&&(hc=!1,hm(e));break;case 4:l=Zt,Zt=Ir(e.stateNode.containerInfo),At(t,e),jt(e),Zt=l;break;case 12:At(t,e),jt(e);break;case 13:At(t,e),jt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(xc=qe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,mc(e,l)));break;case 22:o=e.memoizedState!==null;var R=n!==null&&n.memoizedState!==null,G=wn,P=Xe;if(wn=G||o,Xe=P||R,At(t,e),Xe=P,wn=G,jt(e),l&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||R||wn||Xe||_a(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){R=n=t;try{if(u=R.stateNode,o)b=u.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=R.stateNode;var te=R.memoizedProps.style,X=te!=null&&te.hasOwnProperty("display")?te.display:null;w.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Q){ze(R,R.return,Q)}}}else if(t.tag===6){if(n===null){R=t;try{R.stateNode.nodeValue=o?"":R.memoizedProps}catch(Q){ze(R,R.return,Q)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,mc(e,n))));break;case 19:At(t,e),jt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,mc(e,l)));break;case 30:break;case 21:break;default:At(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(im(l)){n=l;break}l=l.return}if(n==null)throw Error(s(160));switch(n.tag){case 27:var o=n.stateNode,u=fc(e);Hr(e,u,o);break;case 5:var b=n.stateNode;n.flags&32&&(Ka(b,""),n.flags&=-33);var w=fc(e);Hr(e,w,b);break;case 3:case 4:var R=n.stateNode.containerInfo,G=fc(e);dc(e,G,R);break;default:throw Error(s(161))}}catch(P){ze(e,e.return,P)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;hm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Kn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)om(e,t.alternate,t),t=t.sibling}function _a(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Qn(4,t,t.return),_a(t);break;case 1:Wt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&am(t,t.return,n),_a(t);break;case 27:Ni(t.stateNode);case 26:case 5:Wt(t,t.return),_a(t);break;case 22:t.memoizedState===null&&_a(t);break;case 30:_a(t);break;default:_a(t)}e=e.sibling}}function Jn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,o=e,u=t,b=u.flags;switch(u.tag){case 0:case 11:case 15:Jn(o,u,n),gi(4,u);break;case 1:if(Jn(o,u,n),l=u,o=l.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(G){ze(l,l.return,G)}if(l=u,o=l.updateQueue,o!==null){var w=l.stateNode;try{var R=o.shared.hiddenCallbacks;if(R!==null)for(o.shared.hiddenCallbacks=null,o=0;o<R.length;o++)Vd(R[o],w)}catch(G){ze(l,l.return,G)}}n&&b&64&&nm(u),yi(u,u.return);break;case 27:rm(u);case 26:case 5:Jn(o,u,n),n&&l===null&&b&4&&lm(u),yi(u,u.return);break;case 12:Jn(o,u,n);break;case 13:Jn(o,u,n),n&&b&4&&fm(o,u);break;case 22:u.memoizedState===null&&Jn(o,u,n),yi(u,u.return);break;case 30:break;default:Jn(o,u,n)}t=t.sibling}}function gc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ti(n))}function yc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ti(e))}function It(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)mm(e,t,n,l),t=t.sibling}function mm(e,t,n,l){var o=t.flags;switch(t.tag){case 0:case 11:case 15:It(e,t,n,l),o&2048&&gi(9,t);break;case 1:It(e,t,n,l);break;case 3:It(e,t,n,l),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ti(e)));break;case 12:if(o&2048){It(e,t,n,l),e=t.stateNode;try{var u=t.memoizedProps,b=u.id,w=u.onPostCommit;typeof w=="function"&&w(b,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){ze(t,t.return,R)}}else It(e,t,n,l);break;case 13:It(e,t,n,l);break;case 23:break;case 22:u=t.stateNode,b=t.alternate,t.memoizedState!==null?u._visibility&2?It(e,t,n,l):pi(e,t):u._visibility&2?It(e,t,n,l):(u._visibility|=2,hl(e,t,n,l,(t.subtreeFlags&10256)!==0)),o&2048&&gc(b,t);break;case 24:It(e,t,n,l),o&2048&&yc(t.alternate,t);break;default:It(e,t,n,l)}}function hl(e,t,n,l,o){for(o=o&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var u=e,b=t,w=n,R=l,G=b.flags;switch(b.tag){case 0:case 11:case 15:hl(u,b,w,R,o),gi(8,b);break;case 23:break;case 22:var P=b.stateNode;b.memoizedState!==null?P._visibility&2?hl(u,b,w,R,o):pi(u,b):(P._visibility|=2,hl(u,b,w,R,o)),o&&G&2048&&gc(b.alternate,b);break;case 24:hl(u,b,w,R,o),o&&G&2048&&yc(b.alternate,b);break;default:hl(u,b,w,R,o)}t=t.sibling}}function pi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,o=l.flags;switch(l.tag){case 22:pi(n,l),o&2048&&gc(l.alternate,l);break;case 24:pi(n,l),o&2048&&yc(l.alternate,l);break;default:pi(n,l)}t=t.sibling}}var vi=8192;function ml(e){if(e.subtreeFlags&vi)for(e=e.child;e!==null;)gm(e),e=e.sibling}function gm(e){switch(e.tag){case 26:ml(e),e.flags&vi&&e.memoizedState!==null&&lb(Zt,e.memoizedState,e.memoizedProps);break;case 5:ml(e);break;case 3:case 4:var t=Zt;Zt=Ir(e.stateNode.containerInfo),ml(e),Zt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=vi,vi=16777216,ml(e),vi=t):ml(e));break;default:ml(e)}}function ym(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function bi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];et=l,vm(l,e)}ym(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)pm(e),e=e.sibling}function pm(e){switch(e.tag){case 0:case 11:case 15:bi(e),e.flags&2048&&Qn(9,e,e.return);break;case 3:bi(e);break;case 12:bi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,qr(e)):bi(e);break;default:bi(e)}}function qr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];et=l,vm(l,e)}ym(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Qn(8,t,t.return),qr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,qr(t));break;default:qr(t)}e=e.sibling}}function vm(e,t){for(;et!==null;){var n=et;switch(n.tag){case 0:case 11:case 15:Qn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ti(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,et=l;else e:for(n=e;et!==null;){l=et;var o=l.sibling,u=l.return;if(cm(l),l===n){et=null;break e}if(o!==null){o.return=u,et=o;break e}et=u}}}var xv={getCacheForType:function(e){var t=ct(Pe),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Ev=typeof WeakMap=="function"?WeakMap:Map,Re=0,Be=null,Ee=null,Te=0,_e=0,Ct=null,Pn=!1,gl=!1,pc=!1,Tn=0,Ge=0,Wn=0,Ma=0,vc=0,Ht=0,yl=0,xi=null,xt=null,bc=!1,xc=0,Yr=1/0,Vr=null,In=null,it=0,Fn=null,pl=null,vl=0,Ec=0,wc=null,bm=null,Ei=0,Sc=null;function Dt(){if((Re&2)!==0&&Te!==0)return Te&-Te;if(j.T!==null){var e=il;return e!==0?e:Rc()}return zf()}function xm(){Ht===0&&(Ht=(Te&536870912)===0||Ce?_f():536870912);var e=Lt.current;return e!==null&&(e.flags|=32),Ht}function Rt(e,t,n){(e===Be&&(_e===2||_e===9)||e.cancelPendingCommit!==null)&&(bl(e,0),ea(e,Te,Ht,!1)),Hl(e,n),((Re&2)===0||e!==Be)&&(e===Be&&((Re&2)===0&&(Ma|=n),Ge===4&&ea(e,Te,Ht,!1)),Ft(e))}function Em(e,t,n){if((Re&6)!==0)throw Error(s(327));var l=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Ll(e,t),o=l?Tv(e,t):Ac(e,t,!0),u=l;do{if(o===0){gl&&!l&&ea(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!wv(n)){o=Ac(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){t=b;e:{var w=e;o=xi;var R=w.current.memoizedState.isDehydrated;if(R&&(bl(w,b).flags|=256),b=Ac(w,b,!1),b!==2){if(pc&&!R){w.errorRecoveryDisabledLanes|=u,Ma|=u,o=4;break e}u=xt,xt=o,u!==null&&(xt===null?xt=u:xt.push.apply(xt,u))}o=b}if(u=!1,o!==2)continue}}if(o===1){bl(e,0),ea(e,t,0,!0);break}e:{switch(l=e,u=o,u){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:ea(l,t,Ht,!Pn);break e;case 2:xt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(o=xc+300-qe(),10<o)){if(ea(l,t,Ht,!Pn),Fi(l,0,!0)!==0)break e;l.timeoutHandle=Pm(wm.bind(null,l,n,xt,Vr,bc,t,Ht,Ma,yl,Pn,u,2,-0,0),o);break e}wm(l,n,xt,Vr,bc,t,Ht,Ma,yl,Pn,u,0,-0,0)}}break}while(!0);Ft(e)}function wm(e,t,n,l,o,u,b,w,R,G,P,te,X,Q){if(e.timeoutHandle=-1,te=t.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Ci={stylesheets:null,count:0,unsuspend:ab},gm(t),te=ib(),te!==null)){e.cancelPendingCommit=te(Dm.bind(null,e,t,u,n,l,o,b,w,R,P,1,X,Q)),ea(e,u,b,!G);return}Dm(e,t,u,n,l,o,b,w,R)}function wv(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var o=n[l],u=o.getSnapshot;o=o.value;try{if(!Tt(u(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ea(e,t,n,l){t&=~vc,t&=~Ma,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var o=t;0<o;){var u=31-St(o),b=1<<u;l[u]=-1,o&=~b}n!==0&&Uf(e,n,t)}function $r(){return(Re&6)===0?(wi(0),!1):!0}function Tc(){if(Ee!==null){if(_e===0)var e=Ee.return;else e=Ee,yn=Aa=null,Yo(e),fl=null,di=0,e=Ee;for(;e!==null;)tm(e.alternate,e),e=e.return;Ee=null}}function bl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,qv(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Tc(),Be=e,Ee=n=hn(e.current,null),Te=t,_e=0,Ct=null,Pn=!1,gl=Ll(e,t),pc=!1,yl=Ht=vc=Ma=Wn=Ge=0,xt=xi=null,bc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var o=31-St(l),u=1<<o;t|=e[o],l&=~u}return Tn=t,fr(),n}function Sm(e,t){be=null,j.H=Rr,t===ai||t===xr?(t=qd(),_e=3):t===kd?(t=qd(),_e=4):_e=t===Yh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ct=t,Ee===null&&(Ge=1,zr(e,Ot(t,e.current)))}function Tm(){var e=j.H;return j.H=Rr,e===null?Rr:e}function Nm(){var e=j.A;return j.A=xv,e}function Nc(){Ge=4,Pn||(Te&4194048)!==Te&&Lt.current!==null||(gl=!0),(Wn&134217727)===0&&(Ma&134217727)===0||Be===null||ea(Be,Te,Ht,!1)}function Ac(e,t,n){var l=Re;Re|=2;var o=Tm(),u=Nm();(Be!==e||Te!==t)&&(Vr=null,bl(e,t)),t=!1;var b=Ge;e:do try{if(_e!==0&&Ee!==null){var w=Ee,R=Ct;switch(_e){case 8:Tc(),b=6;break e;case 3:case 2:case 9:case 6:Lt.current===null&&(t=!0);var G=_e;if(_e=0,Ct=null,xl(e,w,R,G),n&&gl){b=0;break e}break;default:G=_e,_e=0,Ct=null,xl(e,w,R,G)}}Sv(),b=Ge;break}catch(P){Sm(e,P)}while(!0);return t&&e.shellSuspendCounter++,yn=Aa=null,Re=l,j.H=o,j.A=u,Ee===null&&(Be=null,Te=0,fr()),b}function Sv(){for(;Ee!==null;)Am(Ee)}function Tv(e,t){var n=Re;Re|=2;var l=Tm(),o=Nm();Be!==e||Te!==t?(Vr=null,Yr=qe()+500,bl(e,t)):gl=Ll(e,t);e:do try{if(_e!==0&&Ee!==null){t=Ee;var u=Ct;t:switch(_e){case 1:_e=0,Ct=null,xl(e,t,u,1);break;case 2:case 9:if(Ld(u)){_e=0,Ct=null,jm(t);break}t=function(){_e!==2&&_e!==9||Be!==e||(_e=7),Ft(e)},u.then(t,t);break e;case 3:_e=7;break e;case 4:_e=5;break e;case 7:Ld(u)?(_e=0,Ct=null,jm(t)):(_e=0,Ct=null,xl(e,t,u,7));break;case 5:var b=null;switch(Ee.tag){case 26:b=Ee.memoizedState;case 5:case 27:var w=Ee;if(!b||og(b)){_e=0,Ct=null;var R=w.sibling;if(R!==null)Ee=R;else{var G=w.return;G!==null?(Ee=G,Gr(G)):Ee=null}break t}}_e=0,Ct=null,xl(e,t,u,5);break;case 6:_e=0,Ct=null,xl(e,t,u,6);break;case 8:Tc(),Ge=6;break e;default:throw Error(s(462))}}Nv();break}catch(P){Sm(e,P)}while(!0);return yn=Aa=null,j.H=l,j.A=o,Re=n,Ee!==null?0:(Be=null,Te=0,fr(),Ge)}function Nv(){for(;Ee!==null&&!_t();)Am(Ee)}function Am(e){var t=Fh(e.alternate,e,Tn);e.memoizedProps=e.pendingProps,t===null?Gr(e):Ee=t}function jm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Qh(n,t,t.pendingProps,t.type,void 0,Te);break;case 11:t=Qh(n,t,t.pendingProps,t.type.render,t.ref,Te);break;case 5:Yo(t);default:tm(n,t),t=Ee=Cd(t,Tn),t=Fh(n,t,Tn)}e.memoizedProps=e.pendingProps,t===null?Gr(e):Ee=t}function xl(e,t,n,l){yn=Aa=null,Yo(t),fl=null,di=0;var o=t.return;try{if(mv(e,o,t,n,Te)){Ge=1,zr(e,Ot(n,e.current)),Ee=null;return}}catch(u){if(o!==null)throw Ee=o,u;Ge=1,zr(e,Ot(n,e.current)),Ee=null;return}t.flags&32768?(Ce||l===1?e=!0:gl||(Te&536870912)!==0?e=!1:(Pn=e=!0,(l===2||l===9||l===3||l===6)&&(l=Lt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Cm(t,e)):Gr(t)}function Gr(e){var t=e;do{if((t.flags&32768)!==0){Cm(t,Pn);return}e=t.return;var n=yv(t.alternate,t,Tn);if(n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Ge===0&&(Ge=5)}function Cm(e,t){do{var n=pv(e.alternate,e);if(n!==null){n.flags&=32767,Ee=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=n}while(e!==null);Ge=6,Ee=null}function Dm(e,t,n,l,o,u,b,w,R){e.cancelPendingCommit=null;do Zr();while(it!==0);if((Re&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(u=t.lanes|t.childLanes,u|=yo,ap(e,n,u,b,w,R),e===Be&&(Ee=Be=null,Te=0),pl=t,Fn=e,vl=n,Ec=u,wc=o,bm=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Dv(un,function(){return Om(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,o=k.p,k.p=2,b=Re,Re|=4;try{vv(e,t,n)}finally{Re=b,k.p=o,j.T=l}}it=1,Rm(),_m(),Mm()}}function Rm(){if(it===1){it=0;var e=Fn,t=pl,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=j.T,j.T=null;var l=k.p;k.p=2;var o=Re;Re|=4;try{dm(t,e);var u=Lc,b=vd(e.containerInfo),w=u.focusedElem,R=u.selectionRange;if(b!==w&&w&&w.ownerDocument&&pd(w.ownerDocument.documentElement,w)){if(R!==null&&uo(w)){var G=R.start,P=R.end;if(P===void 0&&(P=G),"selectionStart"in w)w.selectionStart=G,w.selectionEnd=Math.min(P,w.value.length);else{var te=w.ownerDocument||document,X=te&&te.defaultView||window;if(X.getSelection){var Q=X.getSelection(),ge=w.textContent.length,he=Math.min(R.start,ge),Oe=R.end===void 0?he:Math.min(R.end,ge);!Q.extend&&he>Oe&&(b=Oe,Oe=he,he=b);var B=yd(w,he),U=yd(w,Oe);if(B&&U&&(Q.rangeCount!==1||Q.anchorNode!==B.node||Q.anchorOffset!==B.offset||Q.focusNode!==U.node||Q.focusOffset!==U.offset)){var V=te.createRange();V.setStart(B.node,B.offset),Q.removeAllRanges(),he>Oe?(Q.addRange(V),Q.extend(U.node,U.offset)):(V.setEnd(U.node,U.offset),Q.addRange(V))}}}}for(te=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&te.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<te.length;w++){var I=te[w];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}as=!!kc,Lc=kc=null}finally{Re=o,k.p=l,j.T=n}}e.current=t,it=2}}function _m(){if(it===2){it=0;var e=Fn,t=pl,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=j.T,j.T=null;var l=k.p;k.p=2;var o=Re;Re|=4;try{om(e,t.alternate,t)}finally{Re=o,k.p=l,j.T=n}}it=3}}function Mm(){if(it===4||it===3){it=0,mt();var e=Fn,t=pl,n=vl,l=bm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?it=5:(it=0,pl=Fn=null,Um(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(In=null),$s(n),t=t.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(ga,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=j.T,o=k.p,k.p=2,j.T=null;try{for(var u=e.onRecoverableError,b=0;b<l.length;b++){var w=l[b];u(w.value,{componentStack:w.stack})}}finally{j.T=t,k.p=o}}(vl&3)!==0&&Zr(),Ft(e),o=e.pendingLanes,(n&4194090)!==0&&(o&42)!==0?e===Sc?Ei++:(Ei=0,Sc=e):Ei=0,wi(0)}}function Um(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ti(t)))}function Zr(e){return Rm(),_m(),Mm(),Om()}function Om(){if(it!==5)return!1;var e=Fn,t=Ec;Ec=0;var n=$s(vl),l=j.T,o=k.p;try{k.p=32>n?32:n,j.T=null,n=wc,wc=null;var u=Fn,b=vl;if(it=0,pl=Fn=null,vl=0,(Re&6)!==0)throw Error(s(331));var w=Re;if(Re|=4,pm(u.current),mm(u,u.current,b,n),Re=w,wi(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(ga,u)}catch{}return!0}finally{k.p=o,j.T=l,Um(e,t)}}function zm(e,t,n){t=Ot(n,t),t=tc(e.stateNode,t,2),e=$n(e,t,2),e!==null&&(Hl(e,2),Ft(e))}function ze(e,t,n){if(e.tag===3)zm(e,e,n);else for(;t!==null;){if(t.tag===3){zm(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(In===null||!In.has(l))){e=Ot(n,e),n=Hh(2),l=$n(t,n,2),l!==null&&(qh(n,l,t,e),Hl(l,2),Ft(l));break}}t=t.return}}function jc(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new Ev;var o=new Set;l.set(t,o)}else o=l.get(t),o===void 0&&(o=new Set,l.set(t,o));o.has(n)||(pc=!0,o.add(n),e=Av.bind(null,e,t,n),t.then(e,e))}function Av(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Be===e&&(Te&n)===n&&(Ge===4||Ge===3&&(Te&62914560)===Te&&300>qe()-xc?(Re&2)===0&&bl(e,0):vc|=n,yl===Te&&(yl=0)),Ft(e)}function Bm(e,t){t===0&&(t=Mf()),e=tl(e,t),e!==null&&(Hl(e,t),Ft(e))}function jv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Bm(e,n)}function Cv(e,t){var n=0;switch(e.tag){case 13:var l=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(t),Bm(e,n)}function Dv(e,t){return Ve(e,t)}var Xr=null,El=null,Cc=!1,Qr=!1,Dc=!1,Ua=0;function Ft(e){e!==El&&e.next===null&&(El===null?Xr=El=e:El=El.next=e),Qr=!0,Cc||(Cc=!0,_v())}function wi(e,t){if(!Dc&&Qr){Dc=!0;do for(var n=!1,l=Xr;l!==null;){if(e!==0){var o=l.pendingLanes;if(o===0)var u=0;else{var b=l.suspendedLanes,w=l.pingedLanes;u=(1<<31-St(42|e)+1)-1,u&=o&~(b&~w),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,qm(l,u))}else u=Te,u=Fi(l,l===Be?u:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(u&3)===0||Ll(l,u)||(n=!0,qm(l,u));l=l.next}while(n);Dc=!1}}function Rv(){km()}function km(){Qr=Cc=!1;var e=0;Ua!==0&&(Hv()&&(e=Ua),Ua=0);for(var t=qe(),n=null,l=Xr;l!==null;){var o=l.next,u=Lm(l,t);u===0?(l.next=null,n===null?Xr=o:n.next=o,o===null&&(El=n)):(n=l,(e!==0||(u&3)!==0)&&(Qr=!0)),l=o}wi(e)}function Lm(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var b=31-St(u),w=1<<b,R=o[b];R===-1?((w&n)===0||(w&l)!==0)&&(o[b]=np(w,t)):R<=t&&(e.expiredLanes|=w),u&=~w}if(t=Be,n=Te,n=Fi(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(_e===2||_e===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Se(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ll(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&Se(l),$s(n)){case 2:case 8:n=cn;break;case 32:n=un;break;case 268435456:n=Pi;break;default:n=un}return l=Hm.bind(null,e),n=Ve(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&Se(l),e.callbackPriority=2,e.callbackNode=null,2}function Hm(e,t){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Zr()&&e.callbackNode!==n)return null;var l=Te;return l=Fi(e,e===Be?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Em(e,l,t),Lm(e,qe()),e.callbackNode!=null&&e.callbackNode===n?Hm.bind(null,e):null)}function qm(e,t){if(Zr())return null;Em(e,t,!0)}function _v(){Yv(function(){(Re&6)!==0?Ve(kl,Rv):km()})}function Rc(){return Ua===0&&(Ua=_f()),Ua}function Ym(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:lr(""+e)}function Vm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Mv(e,t,n,l,o){if(t==="submit"&&n&&n.stateNode===o){var u=Ym((o[yt]||null).action),b=l.submitter;b&&(t=(t=b[yt]||null)?Ym(t.formAction):b.getAttribute("formAction"),t!==null&&(u=t,b=null));var w=new or("action","action",null,l,o);e.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ua!==0){var R=b?Vm(o,b):new FormData(o);Po(n,{pending:!0,data:R,method:o.method,action:u},null,R)}}else typeof u=="function"&&(w.preventDefault(),R=b?Vm(o,b):new FormData(o),Po(n,{pending:!0,data:R,method:o.method,action:u},u,R))},currentTarget:o}]})}}for(var _c=0;_c<go.length;_c++){var Mc=go[_c],Uv=Mc.toLowerCase(),Ov=Mc[0].toUpperCase()+Mc.slice(1);Gt(Uv,"on"+Ov)}Gt(Ed,"onAnimationEnd"),Gt(wd,"onAnimationIteration"),Gt(Sd,"onAnimationStart"),Gt("dblclick","onDoubleClick"),Gt("focusin","onFocus"),Gt("focusout","onBlur"),Gt(Wp,"onTransitionRun"),Gt(Ip,"onTransitionStart"),Gt(Fp,"onTransitionCancel"),Gt(Td,"onTransitionEnd"),Za("onMouseEnter",["mouseout","mouseover"]),Za("onMouseLeave",["mouseout","mouseover"]),Za("onPointerEnter",["pointerout","pointerover"]),Za("onPointerLeave",["pointerout","pointerover"]),pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pa("onBeforeInput",["compositionend","keypress","textInput","paste"]),pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Si="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Si));function $m(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],o=l.event;l=l.listeners;e:{var u=void 0;if(t)for(var b=l.length-1;0<=b;b--){var w=l[b],R=w.instance,G=w.currentTarget;if(w=w.listener,R!==u&&o.isPropagationStopped())break e;u=w,o.currentTarget=G;try{u(o)}catch(P){Or(P)}o.currentTarget=null,u=R}else for(b=0;b<l.length;b++){if(w=l[b],R=w.instance,G=w.currentTarget,w=w.listener,R!==u&&o.isPropagationStopped())break e;u=w,o.currentTarget=G;try{u(o)}catch(P){Or(P)}o.currentTarget=null,u=R}}}}function we(e,t){var n=t[Gs];n===void 0&&(n=t[Gs]=new Set);var l=e+"__bubble";n.has(l)||(Gm(t,e,2,!1),n.add(l))}function Uc(e,t,n){var l=0;t&&(l|=4),Gm(n,e,l,t)}var Kr="_reactListening"+Math.random().toString(36).slice(2);function Oc(e){if(!e[Kr]){e[Kr]=!0,kf.forEach(function(n){n!=="selectionchange"&&(zv.has(n)||Uc(n,!1,e),Uc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Kr]||(t[Kr]=!0,Uc("selectionchange",!1,t))}}function Gm(e,t,n,l){switch(mg(t)){case 2:var o=ob;break;case 8:o=cb;break;default:o=Kc}n=o.bind(null,t,n,e),o=void 0,!to||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),l?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function zc(e,t,n,l,o){var u=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var w=l.stateNode.containerInfo;if(w===o)break;if(b===4)for(b=l.return;b!==null;){var R=b.tag;if((R===3||R===4)&&b.stateNode.containerInfo===o)return;b=b.return}for(;w!==null;){if(b=Va(w),b===null)return;if(R=b.tag,R===5||R===6||R===26||R===27){l=u=b;continue e}w=w.parentNode}}l=l.return}Wf(function(){var G=u,P=Fs(n),te=[];e:{var X=Nd.get(e);if(X!==void 0){var Q=or,ge=e;switch(e){case"keypress":if(rr(n)===0)break e;case"keydown":case"keyup":Q=Dp;break;case"focusin":ge="focus",Q=io;break;case"focusout":ge="blur",Q=io;break;case"beforeblur":case"afterblur":Q=io;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=ed;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=pp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Mp;break;case Ed:case wd:case Sd:Q=xp;break;case Td:Q=Op;break;case"scroll":case"scrollend":Q=gp;break;case"wheel":Q=Bp;break;case"copy":case"cut":case"paste":Q=wp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=nd;break;case"toggle":case"beforetoggle":Q=Lp}var he=(t&4)!==0,Oe=!he&&(e==="scroll"||e==="scrollend"),B=he?X!==null?X+"Capture":null:X;he=[];for(var U=G,V;U!==null;){var I=U;if(V=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||V===null||B===null||(I=Vl(U,B),I!=null&&he.push(Ti(U,I,V))),Oe)break;U=U.return}0<he.length&&(X=new Q(X,ge,null,n,P),te.push({event:X,listeners:he}))}}if((t&7)===0){e:{if(X=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",X&&n!==Is&&(ge=n.relatedTarget||n.fromElement)&&(Va(ge)||ge[Ya]))break e;if((Q||X)&&(X=P.window===P?P:(X=P.ownerDocument)?X.defaultView||X.parentWindow:window,Q?(ge=n.relatedTarget||n.toElement,Q=G,ge=ge?Va(ge):null,ge!==null&&(Oe=f(ge),he=ge.tag,ge!==Oe||he!==5&&he!==27&&he!==6)&&(ge=null)):(Q=null,ge=G),Q!==ge)){if(he=ed,I="onMouseLeave",B="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(he=nd,I="onPointerLeave",B="onPointerEnter",U="pointer"),Oe=Q==null?X:Yl(Q),V=ge==null?X:Yl(ge),X=new he(I,U+"leave",Q,n,P),X.target=Oe,X.relatedTarget=V,I=null,Va(P)===G&&(he=new he(B,U+"enter",ge,n,P),he.target=V,he.relatedTarget=Oe,I=he),Oe=I,Q&&ge)t:{for(he=Q,B=ge,U=0,V=he;V;V=wl(V))U++;for(V=0,I=B;I;I=wl(I))V++;for(;0<U-V;)he=wl(he),U--;for(;0<V-U;)B=wl(B),V--;for(;U--;){if(he===B||B!==null&&he===B.alternate)break t;he=wl(he),B=wl(B)}he=null}else he=null;Q!==null&&Zm(te,X,Q,he,!1),ge!==null&&Oe!==null&&Zm(te,Oe,ge,he,!0)}}e:{if(X=G?Yl(G):window,Q=X.nodeName&&X.nodeName.toLowerCase(),Q==="select"||Q==="input"&&X.type==="file")var fe=ud;else if(od(X))if(fd)fe=Kp;else{fe=Xp;var xe=Zp}else Q=X.nodeName,!Q||Q.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?G&&Ws(G.elementType)&&(fe=ud):fe=Qp;if(fe&&(fe=fe(e,G))){cd(te,fe,n,P);break e}xe&&xe(e,X,G),e==="focusout"&&G&&X.type==="number"&&G.memoizedProps.value!=null&&Ps(X,"number",X.value)}switch(xe=G?Yl(G):window,e){case"focusin":(od(xe)||xe.contentEditable==="true")&&(Ia=xe,fo=G,Pl=null);break;case"focusout":Pl=fo=Ia=null;break;case"mousedown":ho=!0;break;case"contextmenu":case"mouseup":case"dragend":ho=!1,bd(te,n,P);break;case"selectionchange":if(Pp)break;case"keydown":case"keyup":bd(te,n,P)}var de;if(so)e:{switch(e){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Wa?rd(e,n)&&(me="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(me="onCompositionStart");me&&(ad&&n.locale!=="ko"&&(Wa||me!=="onCompositionStart"?me==="onCompositionEnd"&&Wa&&(de=If()):(Hn=P,no="value"in Hn?Hn.value:Hn.textContent,Wa=!0)),xe=Jr(G,me),0<xe.length&&(me=new td(me,e,null,n,P),te.push({event:me,listeners:xe}),de?me.data=de:(de=sd(n),de!==null&&(me.data=de)))),(de=qp?Yp(e,n):Vp(e,n))&&(me=Jr(G,"onBeforeInput"),0<me.length&&(xe=new td("onBeforeInput","beforeinput",null,n,P),te.push({event:xe,listeners:me}),xe.data=de)),Mv(te,e,G,n,P)}$m(te,t)})}function Ti(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Jr(e,t){for(var n=t+"Capture",l=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=Vl(e,n),o!=null&&l.unshift(Ti(e,o,u)),o=Vl(e,t),o!=null&&l.push(Ti(e,o,u))),e.tag===3)return l;e=e.return}return[]}function wl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zm(e,t,n,l,o){for(var u=t._reactName,b=[];n!==null&&n!==l;){var w=n,R=w.alternate,G=w.stateNode;if(w=w.tag,R!==null&&R===l)break;w!==5&&w!==26&&w!==27||G===null||(R=G,o?(G=Vl(n,u),G!=null&&b.unshift(Ti(n,G,R))):o||(G=Vl(n,u),G!=null&&b.push(Ti(n,G,R)))),n=n.return}b.length!==0&&e.push({event:t,listeners:b})}var Bv=/\r\n?/g,kv=/\u0000|\uFFFD/g;function Xm(e){return(typeof e=="string"?e:""+e).replace(Bv,`
`).replace(kv,"")}function Qm(e,t){return t=Xm(t),Xm(e)===t}function Pr(){}function Ue(e,t,n,l,o,u){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Ka(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Ka(e,""+l);break;case"className":tr(e,"class",l);break;case"tabIndex":tr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":tr(e,n,l);break;case"style":Jf(e,l,u);break;case"data":if(t!=="object"){tr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=lr(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&Ue(e,t,"name",o.name,o,null),Ue(e,t,"formEncType",o.formEncType,o,null),Ue(e,t,"formMethod",o.formMethod,o,null),Ue(e,t,"formTarget",o.formTarget,o,null)):(Ue(e,t,"encType",o.encType,o,null),Ue(e,t,"method",o.method,o,null),Ue(e,t,"target",o.target,o,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=lr(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=Pr);break;case"onScroll":l!=null&&we("scroll",e);break;case"onScrollEnd":l!=null&&we("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(n=l.__html,n!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=lr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":we("beforetoggle",e),we("toggle",e),er(e,"popover",l);break;case"xlinkActuate":fn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":fn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":fn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":fn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":fn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":fn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":fn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":fn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":fn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":er(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=hp.get(n)||n,er(e,n,l))}}function Bc(e,t,n,l,o,u){switch(n){case"style":Jf(e,l,u);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(n=l.__html,n!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"children":typeof l=="string"?Ka(e,l):(typeof l=="number"||typeof l=="bigint")&&Ka(e,""+l);break;case"onScroll":l!=null&&we("scroll",e);break;case"onScrollEnd":l!=null&&we("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Pr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lf.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),u=e[yt]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof l=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,o);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):er(e,n,l)}}}function rt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",e),we("load",e);var l=!1,o=!1,u;for(u in n)if(n.hasOwnProperty(u)){var b=n[u];if(b!=null)switch(u){case"src":l=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ue(e,t,u,b,n,null)}}o&&Ue(e,t,"srcSet",n.srcSet,n,null),l&&Ue(e,t,"src",n.src,n,null);return;case"input":we("invalid",e);var w=u=b=o=null,R=null,G=null;for(l in n)if(n.hasOwnProperty(l)){var P=n[l];if(P!=null)switch(l){case"name":o=P;break;case"type":b=P;break;case"checked":R=P;break;case"defaultChecked":G=P;break;case"value":u=P;break;case"defaultValue":w=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,t));break;default:Ue(e,t,l,P,n,null)}}Zf(e,u,w,R,G,b,o,!1),nr(e);return;case"select":we("invalid",e),l=b=u=null;for(o in n)if(n.hasOwnProperty(o)&&(w=n[o],w!=null))switch(o){case"value":u=w;break;case"defaultValue":b=w;break;case"multiple":l=w;default:Ue(e,t,o,w,n,null)}t=u,n=b,e.multiple=!!l,t!=null?Qa(e,!!l,t,!1):n!=null&&Qa(e,!!l,n,!0);return;case"textarea":we("invalid",e),u=o=l=null;for(b in n)if(n.hasOwnProperty(b)&&(w=n[b],w!=null))switch(b){case"value":l=w;break;case"defaultValue":o=w;break;case"children":u=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Ue(e,t,b,w,n,null)}Qf(e,l,o,u),nr(e);return;case"option":for(R in n)if(n.hasOwnProperty(R)&&(l=n[R],l!=null))switch(R){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ue(e,t,R,l,n,null)}return;case"dialog":we("beforetoggle",e),we("toggle",e),we("cancel",e),we("close",e);break;case"iframe":case"object":we("load",e);break;case"video":case"audio":for(l=0;l<Si.length;l++)we(Si[l],e);break;case"image":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"embed":case"source":case"link":we("error",e),we("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in n)if(n.hasOwnProperty(G)&&(l=n[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ue(e,t,G,l,n,null)}return;default:if(Ws(t)){for(P in n)n.hasOwnProperty(P)&&(l=n[P],l!==void 0&&Bc(e,t,P,l,n,void 0));return}}for(w in n)n.hasOwnProperty(w)&&(l=n[w],l!=null&&Ue(e,t,w,l,n,null))}function Lv(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,b=null,w=null,R=null,G=null,P=null;for(Q in n){var te=n[Q];if(n.hasOwnProperty(Q)&&te!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":R=te;default:l.hasOwnProperty(Q)||Ue(e,t,Q,null,l,te)}}for(var X in l){var Q=l[X];if(te=n[X],l.hasOwnProperty(X)&&(Q!=null||te!=null))switch(X){case"type":u=Q;break;case"name":o=Q;break;case"checked":G=Q;break;case"defaultChecked":P=Q;break;case"value":b=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,t));break;default:Q!==te&&Ue(e,t,X,Q,l,te)}}Js(e,b,w,R,G,P,u,o);return;case"select":Q=b=w=X=null;for(u in n)if(R=n[u],n.hasOwnProperty(u)&&R!=null)switch(u){case"value":break;case"multiple":Q=R;default:l.hasOwnProperty(u)||Ue(e,t,u,null,l,R)}for(o in l)if(u=l[o],R=n[o],l.hasOwnProperty(o)&&(u!=null||R!=null))switch(o){case"value":X=u;break;case"defaultValue":w=u;break;case"multiple":b=u;default:u!==R&&Ue(e,t,o,u,l,R)}t=w,n=b,l=Q,X!=null?Qa(e,!!n,X,!1):!!l!=!!n&&(t!=null?Qa(e,!!n,t,!0):Qa(e,!!n,n?[]:"",!1));return;case"textarea":Q=X=null;for(w in n)if(o=n[w],n.hasOwnProperty(w)&&o!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Ue(e,t,w,null,l,o)}for(b in l)if(o=l[b],u=n[b],l.hasOwnProperty(b)&&(o!=null||u!=null))switch(b){case"value":X=o;break;case"defaultValue":Q=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(s(91));break;default:o!==u&&Ue(e,t,b,o,l,u)}Xf(e,X,Q);return;case"option":for(var ge in n)if(X=n[ge],n.hasOwnProperty(ge)&&X!=null&&!l.hasOwnProperty(ge))switch(ge){case"selected":e.selected=!1;break;default:Ue(e,t,ge,null,l,X)}for(R in l)if(X=l[R],Q=n[R],l.hasOwnProperty(R)&&X!==Q&&(X!=null||Q!=null))switch(R){case"selected":e.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:Ue(e,t,R,X,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in n)X=n[he],n.hasOwnProperty(he)&&X!=null&&!l.hasOwnProperty(he)&&Ue(e,t,he,null,l,X);for(G in l)if(X=l[G],Q=n[G],l.hasOwnProperty(G)&&X!==Q&&(X!=null||Q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,t));break;default:Ue(e,t,G,X,l,Q)}return;default:if(Ws(t)){for(var Oe in n)X=n[Oe],n.hasOwnProperty(Oe)&&X!==void 0&&!l.hasOwnProperty(Oe)&&Bc(e,t,Oe,void 0,l,X);for(P in l)X=l[P],Q=n[P],!l.hasOwnProperty(P)||X===Q||X===void 0&&Q===void 0||Bc(e,t,P,X,l,Q);return}}for(var B in n)X=n[B],n.hasOwnProperty(B)&&X!=null&&!l.hasOwnProperty(B)&&Ue(e,t,B,null,l,X);for(te in l)X=l[te],Q=n[te],!l.hasOwnProperty(te)||X===Q||X==null&&Q==null||Ue(e,t,te,X,l,Q)}var kc=null,Lc=null;function Wr(e){return e.nodeType===9?e:e.ownerDocument}function Km(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Hc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qc=null;function Hv(){var e=window.event;return e&&e.type==="popstate"?e===qc?!1:(qc=e,!0):(qc=null,!1)}var Pm=typeof setTimeout=="function"?setTimeout:void 0,qv=typeof clearTimeout=="function"?clearTimeout:void 0,Wm=typeof Promise=="function"?Promise:void 0,Yv=typeof queueMicrotask=="function"?queueMicrotask:typeof Wm<"u"?function(e){return Wm.resolve(null).then(e).catch(Vv)}:Pm;function Vv(e){setTimeout(function(){throw e})}function ta(e){return e==="head"}function Im(e,t){var n=t,l=0,o=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"){if(0<l&&8>l){n=l;var b=e.ownerDocument;if(n&1&&Ni(b.documentElement),n&2&&Ni(b.body),n&4)for(n=b.head,Ni(n),b=n.firstChild;b;){var w=b.nextSibling,R=b.nodeName;b[ql]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&b.rel.toLowerCase()==="stylesheet"||n.removeChild(b),b=w}}if(o===0){e.removeChild(u),Ui(t);return}o--}else n==="$"||n==="$?"||n==="$!"?o++:l=n.charCodeAt(0)-48;else l=0;n=u}while(n);Ui(t)}function Yc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Yc(n),Zs(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function $v(e,t,n,l){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ql])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Xt(e.nextSibling),e===null)break}return null}function Gv(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Xt(e.nextSibling),e===null))return null;return e}function Vc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Zv(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Xt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var $c=null;function Fm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function eg(e,t,n){switch(t=Wr(n),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ni(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Zs(e)}var qt=new Map,tg=new Set;function Ir(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Nn=k.d;k.d={f:Xv,r:Qv,D:Kv,C:Jv,L:Pv,m:Wv,X:Fv,S:Iv,M:eb};function Xv(){var e=Nn.f(),t=$r();return e||t}function Qv(e){var t=$a(e);t!==null&&t.tag===5&&t.type==="form"?Eh(t):Nn.r(e)}var Sl=typeof document>"u"?null:document;function ng(e,t,n){var l=Sl;if(l&&typeof t=="string"&&t){var o=Ut(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),tg.has(o)||(tg.add(o),e={rel:e,crossOrigin:n,href:t},l.querySelector(o)===null&&(t=l.createElement("link"),rt(t,"link",e),Ie(t),l.head.appendChild(t)))}}function Kv(e){Nn.D(e),ng("dns-prefetch",e,null)}function Jv(e,t){Nn.C(e,t),ng("preconnect",e,t)}function Pv(e,t,n){Nn.L(e,t,n);var l=Sl;if(l&&e&&t){var o='link[rel="preload"][as="'+Ut(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Ut(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Ut(n.imageSizes)+'"]')):o+='[href="'+Ut(e)+'"]';var u=o;switch(t){case"style":u=Tl(e);break;case"script":u=Nl(e)}qt.has(u)||(e=y({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),qt.set(u,e),l.querySelector(o)!==null||t==="style"&&l.querySelector(Ai(u))||t==="script"&&l.querySelector(ji(u))||(t=l.createElement("link"),rt(t,"link",e),Ie(t),l.head.appendChild(t)))}}function Wv(e,t){Nn.m(e,t);var n=Sl;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Ut(l)+'"][href="'+Ut(e)+'"]',u=o;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Nl(e)}if(!qt.has(u)&&(e=y({rel:"modulepreload",href:e},t),qt.set(u,e),n.querySelector(o)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ji(u)))return}l=n.createElement("link"),rt(l,"link",e),Ie(l),n.head.appendChild(l)}}}function Iv(e,t,n){Nn.S(e,t,n);var l=Sl;if(l&&e){var o=Ga(l).hoistableStyles,u=Tl(e);t=t||"default";var b=o.get(u);if(!b){var w={loading:0,preload:null};if(b=l.querySelector(Ai(u)))w.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},n),(n=qt.get(u))&&Gc(e,n);var R=b=l.createElement("link");Ie(R),rt(R,"link",e),R._p=new Promise(function(G,P){R.onload=G,R.onerror=P}),R.addEventListener("load",function(){w.loading|=1}),R.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Fr(b,t,l)}b={type:"stylesheet",instance:b,count:1,state:w},o.set(u,b)}}}function Fv(e,t){Nn.X(e,t);var n=Sl;if(n&&e){var l=Ga(n).hoistableScripts,o=Nl(e),u=l.get(o);u||(u=n.querySelector(ji(o)),u||(e=y({src:e,async:!0},t),(t=qt.get(o))&&Zc(e,t),u=n.createElement("script"),Ie(u),rt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(o,u))}}function eb(e,t){Nn.M(e,t);var n=Sl;if(n&&e){var l=Ga(n).hoistableScripts,o=Nl(e),u=l.get(o);u||(u=n.querySelector(ji(o)),u||(e=y({src:e,async:!0,type:"module"},t),(t=qt.get(o))&&Zc(e,t),u=n.createElement("script"),Ie(u),rt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(o,u))}}function ag(e,t,n,l){var o=(o=ie.current)?Ir(o):null;if(!o)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Tl(n.href),n=Ga(o).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Tl(n.href);var u=Ga(o).hoistableStyles,b=u.get(e);if(b||(o=o.ownerDocument||o,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,b),(u=o.querySelector(Ai(e)))&&!u._p&&(b.instance=u,b.state.loading=5),qt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},qt.set(e,n),u||tb(o,e,n,b.state))),t&&l===null)throw Error(s(528,""));return b}if(t&&l!==null)throw Error(s(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Nl(n),n=Ga(o).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Tl(e){return'href="'+Ut(e)+'"'}function Ai(e){return'link[rel="stylesheet"]['+e+"]"}function lg(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function tb(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),rt(t,"link",n),Ie(t),e.head.appendChild(t))}function Nl(e){return'[src="'+Ut(e)+'"]'}function ji(e){return"script[async]"+e}function ig(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Ut(n.href)+'"]');if(l)return t.instance=l,Ie(l),l;var o=y({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ie(l),rt(l,"style",o),Fr(l,n.precedence,e),t.instance=l;case"stylesheet":o=Tl(n.href);var u=e.querySelector(Ai(o));if(u)return t.state.loading|=4,t.instance=u,Ie(u),u;l=lg(n),(o=qt.get(o))&&Gc(l,o),u=(e.ownerDocument||e).createElement("link"),Ie(u);var b=u;return b._p=new Promise(function(w,R){b.onload=w,b.onerror=R}),rt(u,"link",l),t.state.loading|=4,Fr(u,n.precedence,e),t.instance=u;case"script":return u=Nl(n.src),(o=e.querySelector(ji(u)))?(t.instance=o,Ie(o),o):(l=n,(o=qt.get(u))&&(l=y({},n),Zc(l,o)),e=e.ownerDocument||e,o=e.createElement("script"),Ie(o),rt(o,"link",l),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Fr(l,n.precedence,e));return t.instance}function Fr(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=l.length?l[l.length-1]:null,u=o,b=0;b<l.length;b++){var w=l[b];if(w.dataset.precedence===t)u=w;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Gc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Zc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var es=null;function rg(e,t,n){if(es===null){var l=new Map,o=es=new Map;o.set(n,l)}else o=es,l=o.get(n),l||(l=new Map,o.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var u=n[o];if(!(u[ql]||u[ot]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var b=u.getAttribute(t)||"";b=e+b;var w=l.get(b);w?w.push(u):l.set(b,[u])}}return l}function sg(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function nb(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function og(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ci=null;function ab(){}function lb(e,t,n){if(Ci===null)throw Error(s(475));var l=Ci;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var o=Tl(n.href),u=e.querySelector(Ai(o));if(u){e=u._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=ts.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=u,Ie(u);return}u=e.ownerDocument||e,n=lg(n),(o=qt.get(o))&&Gc(n,o),u=u.createElement("link"),Ie(u);var b=u;b._p=new Promise(function(w,R){b.onload=w,b.onerror=R}),rt(u,"link",n),t.instance=u}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(l.count++,t=ts.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function ib(){if(Ci===null)throw Error(s(475));var e=Ci;return e.stylesheets&&e.count===0&&Xc(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Xc(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function ts(){if(this.count--,this.count===0){if(this.stylesheets)Xc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ns=null;function Xc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ns=new Map,t.forEach(rb,e),ns=null,ts.call(e))}function rb(e,t){if(!(t.state.loading&4)){var n=ns.get(e);if(n)var l=n.get(null);else{n=new Map,ns.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var b=o[u];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(n.set(b.dataset.precedence,b),l=b)}l&&n.set(null,l)}o=t.instance,b=o.getAttribute("data-precedence"),u=n.get(b)||l,u===l&&n.set(null,o),n.set(b,o),this.count++,l=ts.bind(this),o.addEventListener("load",l),o.addEventListener("error",l),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Di={$$typeof:D,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function sb(e,t,n,l,o,u,b,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ys(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ys(0),this.hiddenUpdates=Ys(null),this.identifierPrefix=l,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function cg(e,t,n,l,o,u,b,w,R,G,P,te){return e=new sb(e,t,n,b,w,R,G,te),t=1,u===!0&&(t|=24),u=Nt(3,null,null,t),e.current=u,u.stateNode=e,t=jo(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:l,isDehydrated:n,cache:t},_o(u),e}function ug(e){return e?(e=nl,e):nl}function fg(e,t,n,l,o,u){o=ug(o),l.context===null?l.context=o:l.pendingContext=o,l=Vn(t),l.payload={element:n},u=u===void 0?null:u,u!==null&&(l.callback=u),n=$n(e,l,t),n!==null&&(Rt(n,e,t),ii(n,e,t))}function dg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Qc(e,t){dg(e,t),(e=e.alternate)&&dg(e,t)}function hg(e){if(e.tag===13){var t=tl(e,67108864);t!==null&&Rt(t,e,67108864),Qc(e,67108864)}}var as=!0;function ob(e,t,n,l){var o=j.T;j.T=null;var u=k.p;try{k.p=2,Kc(e,t,n,l)}finally{k.p=u,j.T=o}}function cb(e,t,n,l){var o=j.T;j.T=null;var u=k.p;try{k.p=8,Kc(e,t,n,l)}finally{k.p=u,j.T=o}}function Kc(e,t,n,l){if(as){var o=Jc(l);if(o===null)zc(e,t,l,ls,n),gg(e,l);else if(fb(o,e,t,n,l))l.stopPropagation();else if(gg(e,l),t&4&&-1<ub.indexOf(e)){for(;o!==null;){var u=$a(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var b=ya(u.pendingLanes);if(b!==0){var w=u;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var R=1<<31-St(b);w.entanglements[1]|=R,b&=~R}Ft(u),(Re&6)===0&&(Yr=qe()+500,wi(0))}}break;case 13:w=tl(u,2),w!==null&&Rt(w,u,2),$r(),Qc(u,2)}if(u=Jc(l),u===null&&zc(e,t,l,ls,n),u===o)break;o=u}o!==null&&l.stopPropagation()}else zc(e,t,l,null,n)}}function Jc(e){return e=Fs(e),Pc(e)}var ls=null;function Pc(e){if(ls=null,e=Va(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ls=e,null}function mg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ki()){case kl:return 2;case cn:return 8;case un:case Ji:return 32;case Pi:return 268435456;default:return 32}default:return 32}}var Wc=!1,na=null,aa=null,la=null,Ri=new Map,_i=new Map,ia=[],ub="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gg(e,t){switch(e){case"focusin":case"focusout":na=null;break;case"dragenter":case"dragleave":aa=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":Ri.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_i.delete(t.pointerId)}}function Mi(e,t,n,l,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:u,targetContainers:[o]},t!==null&&(t=$a(t),t!==null&&hg(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function fb(e,t,n,l,o){switch(t){case"focusin":return na=Mi(na,e,t,n,l,o),!0;case"dragenter":return aa=Mi(aa,e,t,n,l,o),!0;case"mouseover":return la=Mi(la,e,t,n,l,o),!0;case"pointerover":var u=o.pointerId;return Ri.set(u,Mi(Ri.get(u)||null,e,t,n,l,o)),!0;case"gotpointercapture":return u=o.pointerId,_i.set(u,Mi(_i.get(u)||null,e,t,n,l,o)),!0}return!1}function yg(e){var t=Va(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=m(n),t!==null){e.blockedOn=t,lp(e.priority,function(){if(n.tag===13){var l=Dt();l=Vs(l);var o=tl(n,l);o!==null&&Rt(o,n,l),Qc(n,l)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function is(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jc(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);Is=l,n.target.dispatchEvent(l),Is=null}else return t=$a(n),t!==null&&hg(t),e.blockedOn=n,!1;t.shift()}return!0}function pg(e,t,n){is(e)&&n.delete(t)}function db(){Wc=!1,na!==null&&is(na)&&(na=null),aa!==null&&is(aa)&&(aa=null),la!==null&&is(la)&&(la=null),Ri.forEach(pg),_i.forEach(pg)}function rs(e,t){e.blockedOn===t&&(e.blockedOn=null,Wc||(Wc=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,db)))}var ss=null;function vg(e){ss!==e&&(ss=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ss===e&&(ss=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],o=e[t+2];if(typeof l!="function"){if(Pc(l||n)===null)continue;break}var u=$a(n);u!==null&&(e.splice(t,3),t-=3,Po(u,{pending:!0,data:o,method:n.method,action:l},l,o))}}))}function Ui(e){function t(R){return rs(R,e)}na!==null&&rs(na,e),aa!==null&&rs(aa,e),la!==null&&rs(la,e),Ri.forEach(t),_i.forEach(t);for(var n=0;n<ia.length;n++){var l=ia[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ia.length&&(n=ia[0],n.blockedOn===null);)yg(n),n.blockedOn===null&&ia.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var o=n[l],u=n[l+1],b=o[yt]||null;if(typeof u=="function")b||vg(n);else if(b){var w=null;if(u&&u.hasAttribute("formAction")){if(o=u,b=u[yt]||null)w=b.formAction;else if(Pc(o)!==null)continue}else w=b.action;typeof w=="function"?n[l+1]=w:(n.splice(l,3),l-=3),vg(n)}}}function Ic(e){this._internalRoot=e}os.prototype.render=Ic.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var n=t.current,l=Dt();fg(n,l,e,t,null,null)},os.prototype.unmount=Ic.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fg(e.current,2,null,e,null,null),$r(),t[Ya]=null}};function os(e){this._internalRoot=e}os.prototype.unstable_scheduleHydration=function(e){if(e){var t=zf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ia.length&&t!==0&&t<ia[n].priority;n++);ia.splice(n,0,e),n===0&&yg(e)}};var bg=i.version;if(bg!=="19.1.0")throw Error(s(527,bg,"19.1.0"));k.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=h(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var hb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cs.isDisabled&&cs.supportsFiber)try{ga=cs.inject(hb),wt=cs}catch{}}return zi.createRoot=function(e,t){if(!c(e))throw Error(s(299));var n=!1,l="",o=zh,u=Bh,b=kh,w=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(b=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(w=t.unstable_transitionCallbacks)),t=cg(e,1,!1,null,null,n,l,o,u,b,w,null),e[Ya]=t.current,Oc(e),new Ic(t)},zi.hydrateRoot=function(e,t,n){if(!c(e))throw Error(s(299));var l=!1,o="",u=zh,b=Bh,w=kh,R=null,G=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(b=n.onCaughtError),n.onRecoverableError!==void 0&&(w=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(R=n.unstable_transitionCallbacks),n.formState!==void 0&&(G=n.formState)),t=cg(e,1,!0,t,n??null,l,o,u,b,w,R,G),t.context=ug(null),n=t.current,l=Dt(),l=Vs(l),o=Vn(l),o.callback=null,$n(n,o,l),n=l,t.current.lanes=n,Hl(t,n),Ft(t),e[Ya]=t.current,Oc(e),new os(t)},zi.version="19.1.0",zi}var Dg;function Tb(){if(Dg)return tu.exports;Dg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),tu.exports=Sb(),tu.exports}var Nb=Tb(),Bi={},Rg;function Ab(){if(Rg)return Bi;Rg=1,Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.parse=m,Bi.serialize=g;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,i=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,c=Object.prototype.toString,f=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function m(x,S){const T=new f,E=x.length;if(E<2)return T;const N=S?.decode||y;let A=0;do{const L=x.indexOf("=",A);if(L===-1)break;const D=x.indexOf(";",A),q=D===-1?E:D;if(L>q){A=x.lastIndexOf(";",L-1)+1;continue}const O=p(x,A,L),_=h(x,L,O),Y=x.slice(O,_);if(T[Y]===void 0){let H=p(x,L+1,q),K=h(x,q,H);const F=N(x.slice(H,K));T[Y]=F}A=q+1}while(A<E);return T}function p(x,S,T){do{const E=x.charCodeAt(S);if(E!==32&&E!==9)return S}while(++S<T);return T}function h(x,S,T){for(;S>T;){const E=x.charCodeAt(--S);if(E!==32&&E!==9)return S+1}return T}function g(x,S,T){const E=T?.encode||encodeURIComponent;if(!a.test(x))throw new TypeError(`argument name is invalid: ${x}`);const N=E(S);if(!i.test(N))throw new TypeError(`argument val is invalid: ${S}`);let A=x+"="+N;if(!T)return A;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);A+="; Max-Age="+T.maxAge}if(T.domain){if(!r.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);A+="; Domain="+T.domain}if(T.path){if(!s.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);A+="; Path="+T.path}if(T.expires){if(!v(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);A+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(A+="; HttpOnly"),T.secure&&(A+="; Secure"),T.partitioned&&(A+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return A}function y(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function v(x){return c.call(x)==="[object Date]"}return Bi}Ab();var _g="popstate";function jb(a={}){function i(s,c){let{pathname:f,search:m,hash:p}=s.location;return Eu("",{pathname:f,search:m,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(s,c){return typeof c=="string"?c:Yi(c)}return Db(i,r,null,a)}function Le(a,i){if(a===!1||a===null||typeof a>"u")throw new Error(i)}function $t(a,i){if(!a){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function Cb(){return Math.random().toString(36).substring(2,10)}function Mg(a,i){return{usr:a.state,key:a.key,idx:i}}function Eu(a,i,r=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof i=="string"?_l(i):i,state:r,key:i&&i.key||s||Cb()}}function Yi({pathname:a="/",search:i="",hash:r=""}){return i&&i!=="?"&&(a+=i.charAt(0)==="?"?i:"?"+i),r&&r!=="#"&&(a+=r.charAt(0)==="#"?r:"#"+r),a}function _l(a){let i={};if(a){let r=a.indexOf("#");r>=0&&(i.hash=a.substring(r),a=a.substring(0,r));let s=a.indexOf("?");s>=0&&(i.search=a.substring(s),a=a.substring(0,s)),a&&(i.pathname=a)}return i}function Db(a,i,r,s={}){let{window:c=document.defaultView,v5Compat:f=!1}=s,m=c.history,p="POP",h=null,g=y();g==null&&(g=0,m.replaceState({...m.state,idx:g},""));function y(){return(m.state||{idx:null}).idx}function v(){p="POP";let N=y(),A=N==null?null:N-g;g=N,h&&h({action:p,location:E.location,delta:A})}function x(N,A){p="PUSH";let L=Eu(E.location,N,A);g=y()+1;let D=Mg(L,g),q=E.createHref(L);try{m.pushState(D,"",q)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;c.location.assign(q)}f&&h&&h({action:p,location:E.location,delta:1})}function S(N,A){p="REPLACE";let L=Eu(E.location,N,A);g=y();let D=Mg(L,g),q=E.createHref(L);m.replaceState(D,"",q),f&&h&&h({action:p,location:E.location,delta:0})}function T(N){return Rb(N)}let E={get action(){return p},get location(){return a(c,m)},listen(N){if(h)throw new Error("A history only accepts one active listener");return c.addEventListener(_g,v),h=N,()=>{c.removeEventListener(_g,v),h=null}},createHref(N){return i(c,N)},createURL:T,encodeLocation(N){let A=T(N);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:x,replace:S,go(N){return m.go(N)}};return E}function Rb(a,i=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Le(r,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:Yi(a);return s=s.replace(/ $/,"%20"),!i&&s.startsWith("//")&&(s=r+s),new URL(s,r)}function l0(a,i,r="/"){return _b(a,i,r,!1)}function _b(a,i,r,s){let c=typeof i=="string"?_l(i):i,f=Rn(c.pathname||"/",r);if(f==null)return null;let m=i0(a);Mb(m);let p=null;for(let h=0;p==null&&h<m.length;++h){let g=$b(f);p=Yb(m[h],g,s)}return p}function i0(a,i=[],r=[],s=""){let c=(f,m,p)=>{let h={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};h.relativePath.startsWith("/")&&(Le(h.relativePath.startsWith(s),`Absolute route path "${h.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(s.length));let g=Dn([s,h.relativePath]),y=r.concat(h);f.children&&f.children.length>0&&(Le(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),i0(f.children,i,y,g)),!(f.path==null&&!f.index)&&i.push({path:g,score:Hb(g,f.index),routesMeta:y})};return a.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))c(f,m);else for(let p of r0(f.path))c(f,m,p)}),i}function r0(a){let i=a.split("/");if(i.length===0)return[];let[r,...s]=i,c=r.endsWith("?"),f=r.replace(/\?$/,"");if(s.length===0)return c?[f,""]:[f];let m=r0(s.join("/")),p=[];return p.push(...m.map(h=>h===""?f:[f,h].join("/"))),c&&p.push(...m),p.map(h=>a.startsWith("/")&&h===""?"/":h)}function Mb(a){a.sort((i,r)=>i.score!==r.score?r.score-i.score:qb(i.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}var Ub=/^:[\w-]+$/,Ob=3,zb=2,Bb=1,kb=10,Lb=-2,Ug=a=>a==="*";function Hb(a,i){let r=a.split("/"),s=r.length;return r.some(Ug)&&(s+=Lb),i&&(s+=zb),r.filter(c=>!Ug(c)).reduce((c,f)=>c+(Ub.test(f)?Ob:f===""?Bb:kb),s)}function qb(a,i){return a.length===i.length&&a.slice(0,-1).every((s,c)=>s===i[c])?a[a.length-1]-i[i.length-1]:0}function Yb(a,i,r=!1){let{routesMeta:s}=a,c={},f="/",m=[];for(let p=0;p<s.length;++p){let h=s[p],g=p===s.length-1,y=f==="/"?i:i.slice(f.length)||"/",v=gs({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},y),x=h.route;if(!v&&g&&r&&!s[s.length-1].route.index&&(v=gs({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!v)return null;Object.assign(c,v.params),m.push({params:c,pathname:Dn([f,v.pathname]),pathnameBase:Qb(Dn([f,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(f=Dn([f,v.pathnameBase]))}return m}function gs(a,i){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[r,s]=Vb(a.path,a.caseSensitive,a.end),c=i.match(r);if(!c)return null;let f=c[0],m=f.replace(/(.)\/+$/,"$1"),p=c.slice(1);return{params:s.reduce((g,{paramName:y,isOptional:v},x)=>{if(y==="*"){let T=p[x]||"";m=f.slice(0,f.length-T.length).replace(/(.)\/+$/,"$1")}const S=p[x];return v&&!S?g[y]=void 0:g[y]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:f,pathnameBase:m,pattern:a}}function Vb(a,i=!1,r=!0){$t(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],c="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,p,h)=>(s.push({paramName:p,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(s.push({paramName:"*"}),c+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?c+="\\/*$":a!==""&&a!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,i?void 0:"i"),s]}function $b(a){try{return a.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return $t(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),a}}function Rn(a,i){if(i==="/")return a;if(!a.toLowerCase().startsWith(i.toLowerCase()))return null;let r=i.endsWith("/")?i.length-1:i.length,s=a.charAt(r);return s&&s!=="/"?null:a.slice(r)||"/"}function Gb(a,i="/"){let{pathname:r,search:s="",hash:c=""}=typeof a=="string"?_l(a):a;return{pathname:r?r.startsWith("/")?r:Zb(r,i):i,search:Kb(s),hash:Jb(c)}}function Zb(a,i){let r=i.replace(/\/+$/,"").split("/");return a.split("/").forEach(c=>{c===".."?r.length>1&&r.pop():c!=="."&&r.push(c)}),r.length>1?r.join("/"):"/"}function iu(a,i,r,s){return`Cannot include a '${a}' character in a manually specified \`to.${i}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Xb(a){return a.filter((i,r)=>r===0||i.route.path&&i.route.path.length>0)}function ku(a){let i=Xb(a);return i.map((r,s)=>s===i.length-1?r.pathname:r.pathnameBase)}function Lu(a,i,r,s=!1){let c;typeof a=="string"?c=_l(a):(c={...a},Le(!c.pathname||!c.pathname.includes("?"),iu("?","pathname","search",c)),Le(!c.pathname||!c.pathname.includes("#"),iu("#","pathname","hash",c)),Le(!c.search||!c.search.includes("#"),iu("#","search","hash",c)));let f=a===""||c.pathname==="",m=f?"/":c.pathname,p;if(m==null)p=r;else{let v=i.length-1;if(!s&&m.startsWith("..")){let x=m.split("/");for(;x[0]==="..";)x.shift(),v-=1;c.pathname=x.join("/")}p=v>=0?i[v]:"/"}let h=Gb(c,p),g=m&&m!=="/"&&m.endsWith("/"),y=(f||m===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(g||y)&&(h.pathname+="/"),h}var Dn=a=>a.join("/").replace(/\/\/+/g,"/"),Qb=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),Kb=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,Jb=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function Pb(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var s0=["POST","PUT","PATCH","DELETE"];new Set(s0);var Wb=["GET",...s0];new Set(Wb);var Ml=M.createContext(null);Ml.displayName="DataRouter";var ws=M.createContext(null);ws.displayName="DataRouterState";var o0=M.createContext({isTransitioning:!1});o0.displayName="ViewTransition";var Ib=M.createContext(new Map);Ib.displayName="Fetchers";var Fb=M.createContext(null);Fb.displayName="Await";var Kt=M.createContext(null);Kt.displayName="Navigation";var Zi=M.createContext(null);Zi.displayName="Location";var rn=M.createContext({outlet:null,matches:[],isDataRoute:!1});rn.displayName="Route";var Hu=M.createContext(null);Hu.displayName="RouteError";function e1(a,{relative:i}={}){Le(Ul(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=M.useContext(Kt),{hash:c,pathname:f,search:m}=Xi(a,{relative:i}),p=f;return r!=="/"&&(p=f==="/"?r:Dn([r,f])),s.createHref({pathname:p,search:m,hash:c})}function Ul(){return M.useContext(Zi)!=null}function Mn(){return Le(Ul(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Zi).location}var c0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function u0(a){M.useContext(Kt).static||M.useLayoutEffect(a)}function Ss(){let{isDataRoute:a}=M.useContext(rn);return a?h1():t1()}function t1(){Le(Ul(),"useNavigate() may be used only in the context of a <Router> component.");let a=M.useContext(Ml),{basename:i,navigator:r}=M.useContext(Kt),{matches:s}=M.useContext(rn),{pathname:c}=Mn(),f=JSON.stringify(ku(s)),m=M.useRef(!1);return u0(()=>{m.current=!0}),M.useCallback((h,g={})=>{if($t(m.current,c0),!m.current)return;if(typeof h=="number"){r.go(h);return}let y=Lu(h,JSON.parse(f),c,g.relative==="path");a==null&&i!=="/"&&(y.pathname=y.pathname==="/"?i:Dn([i,y.pathname])),(g.replace?r.replace:r.push)(y,g.state,g)},[i,r,f,c,a])}M.createContext(null);function Xi(a,{relative:i}={}){let{matches:r}=M.useContext(rn),{pathname:s}=Mn(),c=JSON.stringify(ku(r));return M.useMemo(()=>Lu(a,JSON.parse(c),s,i==="path"),[a,c,s,i])}function n1(a,i){return f0(a,i)}function f0(a,i,r,s){Le(Ul(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=M.useContext(Kt),{matches:f}=M.useContext(rn),m=f[f.length-1],p=m?m.params:{},h=m?m.pathname:"/",g=m?m.pathnameBase:"/",y=m&&m.route;{let A=y&&y.path||"";d0(h,!y||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let v=Mn(),x;if(i){let A=typeof i=="string"?_l(i):i;Le(g==="/"||A.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${A.pathname}" was given in the \`location\` prop.`),x=A}else x=v;let S=x.pathname||"/",T=S;if(g!=="/"){let A=g.replace(/^\//,"").split("/");T="/"+S.replace(/^\//,"").split("/").slice(A.length).join("/")}let E=l0(a,{pathname:T});$t(y||E!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),$t(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=s1(E&&E.map(A=>Object.assign({},A,{params:Object.assign({},p,A.params),pathname:Dn([g,c.encodeLocation?c.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?g:Dn([g,c.encodeLocation?c.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),f,r,s);return i&&N?M.createElement(Zi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},N):N}function a1(){let a=d1(),i=Pb(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),r=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:s},f={padding:"2px 4px",backgroundColor:s},m=null;return console.error("Error handled by React Router default ErrorBoundary:",a),m=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:f},"ErrorBoundary")," or"," ",M.createElement("code",{style:f},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},i),r?M.createElement("pre",{style:c},r):null,m)}var l1=M.createElement(a1,null),i1=class extends M.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,i){return i.location!==a.location||i.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:i.error,location:i.location,revalidation:a.revalidation||i.revalidation}}componentDidCatch(a,i){console.error("React Router caught the following error during render",a,i)}render(){return this.state.error!==void 0?M.createElement(rn.Provider,{value:this.props.routeContext},M.createElement(Hu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function r1({routeContext:a,match:i,children:r}){let s=M.useContext(Ml);return s&&s.static&&s.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=i.route.id),M.createElement(rn.Provider,{value:a},r)}function s1(a,i=[],r=null,s=null){if(a==null){if(!r)return null;if(r.errors)a=r.matches;else if(i.length===0&&!r.initialized&&r.matches.length>0)a=r.matches;else return null}let c=a,f=r?.errors;if(f!=null){let h=c.findIndex(g=>g.route.id&&f?.[g.route.id]!==void 0);Le(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,h+1))}let m=!1,p=-1;if(r)for(let h=0;h<c.length;h++){let g=c[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=h),g.route.id){let{loaderData:y,errors:v}=r,x=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||x){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((h,g,y)=>{let v,x=!1,S=null,T=null;r&&(v=f&&g.route.id?f[g.route.id]:void 0,S=g.route.errorElement||l1,m&&(p<0&&y===0?(d0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,T=null):p===y&&(x=!0,T=g.route.hydrateFallbackElement||null)));let E=i.concat(c.slice(0,y+1)),N=()=>{let A;return v?A=S:x?A=T:g.route.Component?A=M.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=h,M.createElement(r1,{match:g,routeContext:{outlet:h,matches:E,isDataRoute:r!=null},children:A})};return r&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?M.createElement(i1,{location:r.location,revalidation:r.revalidation,component:S,error:v,children:N(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):N()},null)}function qu(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o1(a){let i=M.useContext(Ml);return Le(i,qu(a)),i}function c1(a){let i=M.useContext(ws);return Le(i,qu(a)),i}function u1(a){let i=M.useContext(rn);return Le(i,qu(a)),i}function Yu(a){let i=u1(a),r=i.matches[i.matches.length-1];return Le(r.route.id,`${a} can only be used on routes that contain a unique "id"`),r.route.id}function f1(){return Yu("useRouteId")}function d1(){let a=M.useContext(Hu),i=c1("useRouteError"),r=Yu("useRouteError");return a!==void 0?a:i.errors?.[r]}function h1(){let{router:a}=o1("useNavigate"),i=Yu("useNavigate"),r=M.useRef(!1);return u0(()=>{r.current=!0}),M.useCallback(async(c,f={})=>{$t(r.current,c0),r.current&&(typeof c=="number"?a.navigate(c):await a.navigate(c,{fromRouteId:i,...f}))},[a,i])}var Og={};function d0(a,i,r){!i&&!Og[a]&&(Og[a]=!0,$t(!1,r))}M.memo(m1);function m1({routes:a,future:i,state:r}){return f0(a,void 0,r,i)}function g1({to:a,replace:i,state:r,relative:s}){Le(Ul(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=M.useContext(Kt);$t(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=M.useContext(rn),{pathname:m}=Mn(),p=Ss(),h=Lu(a,ku(f),m,s==="path"),g=JSON.stringify(h);return M.useEffect(()=>{p(JSON.parse(g),{replace:i,state:r,relative:s})},[p,g,s,i,r]),null}function Oa(a){Le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function y1({basename:a="/",children:i=null,location:r,navigationType:s="POP",navigator:c,static:f=!1}){Le(!Ul(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=a.replace(/^\/*/,"/"),p=M.useMemo(()=>({basename:m,navigator:c,static:f,future:{}}),[m,c,f]);typeof r=="string"&&(r=_l(r));let{pathname:h="/",search:g="",hash:y="",state:v=null,key:x="default"}=r,S=M.useMemo(()=>{let T=Rn(h,m);return T==null?null:{location:{pathname:T,search:g,hash:y,state:v,key:x},navigationType:s}},[m,h,g,y,v,x,s]);return $t(S!=null,`<Router basename="${m}"> is not able to match the URL "${h}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:M.createElement(Kt.Provider,{value:p},M.createElement(Zi.Provider,{children:i,value:S}))}function p1({children:a,location:i}){return n1(wu(a),i)}function wu(a,i=[]){let r=[];return M.Children.forEach(a,(s,c)=>{if(!M.isValidElement(s))return;let f=[...i,c];if(s.type===M.Fragment){r.push.apply(r,wu(s.props.children,f));return}Le(s.type===Oa,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Le(!s.props.index||!s.props.children,"An index route cannot have child routes.");let m={id:s.props.id||f.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(m.children=wu(s.props.children,f)),r.push(m)}),r}var ds="get",hs="application/x-www-form-urlencoded";function Ts(a){return a!=null&&typeof a.tagName=="string"}function v1(a){return Ts(a)&&a.tagName.toLowerCase()==="button"}function b1(a){return Ts(a)&&a.tagName.toLowerCase()==="form"}function x1(a){return Ts(a)&&a.tagName.toLowerCase()==="input"}function E1(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function w1(a,i){return a.button===0&&(!i||i==="_self")&&!E1(a)}function Su(a=""){return new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((i,r)=>{let s=a[r];return i.concat(Array.isArray(s)?s.map(c=>[r,c]):[[r,s]])},[]))}function S1(a,i){let r=Su(a);return i&&i.forEach((s,c)=>{r.has(c)||i.getAll(c).forEach(f=>{r.append(c,f)})}),r}var us=null;function T1(){if(us===null)try{new FormData(document.createElement("form"),0),us=!1}catch{us=!0}return us}var N1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ru(a){return a!=null&&!N1.has(a)?($t(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hs}"`),null):a}function A1(a,i){let r,s,c,f,m;if(b1(a)){let p=a.getAttribute("action");s=p?Rn(p,i):null,r=a.getAttribute("method")||ds,c=ru(a.getAttribute("enctype"))||hs,f=new FormData(a)}else if(v1(a)||x1(a)&&(a.type==="submit"||a.type==="image")){let p=a.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=a.getAttribute("formaction")||p.getAttribute("action");if(s=h?Rn(h,i):null,r=a.getAttribute("formmethod")||p.getAttribute("method")||ds,c=ru(a.getAttribute("formenctype"))||ru(p.getAttribute("enctype"))||hs,f=new FormData(p,a),!T1()){let{name:g,type:y,value:v}=a;if(y==="image"){let x=g?`${g}.`:"";f.append(`${x}x`,"0"),f.append(`${x}y`,"0")}else g&&f.append(g,v)}}else{if(Ts(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=ds,s=null,c=hs,m=a}return f&&c==="text/plain"&&(m=f,f=void 0),{action:s,method:r.toLowerCase(),encType:c,formData:f,body:m}}function Vu(a,i){if(a===!1||a===null||typeof a>"u")throw new Error(i)}async function j1(a,i){if(a.id in i)return i[a.id];try{let r=await import(a.module);return i[a.id]=r,r}catch(r){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function C1(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function D1(a,i,r){let s=await Promise.all(a.map(async c=>{let f=i.routes[c.route.id];if(f){let m=await j1(f,r);return m.links?m.links():[]}return[]}));return U1(s.flat(1).filter(C1).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function zg(a,i,r,s,c,f){let m=(h,g)=>r[g]?h.route.id!==r[g].route.id:!0,p=(h,g)=>r[g].pathname!==h.pathname||r[g].route.path?.endsWith("*")&&r[g].params["*"]!==h.params["*"];return f==="assets"?i.filter((h,g)=>m(h,g)||p(h,g)):f==="data"?i.filter((h,g)=>{let y=s.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(m(h,g)||p(h,g))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function R1(a,i,{includeHydrateFallback:r}={}){return _1(a.map(s=>{let c=i.routes[s.route.id];if(!c)return[];let f=[c.module];return c.clientActionModule&&(f=f.concat(c.clientActionModule)),c.clientLoaderModule&&(f=f.concat(c.clientLoaderModule)),r&&c.hydrateFallbackModule&&(f=f.concat(c.hydrateFallbackModule)),c.imports&&(f=f.concat(c.imports)),f}).flat(1))}function _1(a){return[...new Set(a)]}function M1(a){let i={},r=Object.keys(a).sort();for(let s of r)i[s]=a[s];return i}function U1(a,i){let r=new Set;return new Set(i),a.reduce((s,c)=>{let f=JSON.stringify(M1(c));return r.has(f)||(r.add(f),s.push({key:f,link:c})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var O1=new Set([100,101,204,205]);function z1(a,i){let r=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return r.pathname==="/"?r.pathname="_root.data":i&&Rn(r.pathname,i)==="/"?r.pathname=`${i.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function h0(){let a=M.useContext(Ml);return Vu(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function B1(){let a=M.useContext(ws);return Vu(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var $u=M.createContext(void 0);$u.displayName="FrameworkContext";function m0(){let a=M.useContext($u);return Vu(a,"You must render this element inside a <HydratedRouter> element"),a}function k1(a,i){let r=M.useContext($u),[s,c]=M.useState(!1),[f,m]=M.useState(!1),{onFocus:p,onBlur:h,onMouseEnter:g,onMouseLeave:y,onTouchStart:v}=i,x=M.useRef(null);M.useEffect(()=>{if(a==="render"&&m(!0),a==="viewport"){let E=A=>{A.forEach(L=>{m(L.isIntersecting)})},N=new IntersectionObserver(E,{threshold:.5});return x.current&&N.observe(x.current),()=>{N.disconnect()}}},[a]),M.useEffect(()=>{if(s){let E=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(E)}}},[s]);let S=()=>{c(!0)},T=()=>{c(!1),m(!1)};return r?a!=="intent"?[f,x,{}]:[f,x,{onFocus:ki(p,S),onBlur:ki(h,T),onMouseEnter:ki(g,S),onMouseLeave:ki(y,T),onTouchStart:ki(v,S)}]:[!1,x,{}]}function ki(a,i){return r=>{a&&a(r),r.defaultPrevented||i(r)}}function L1({page:a,...i}){let{router:r}=h0(),s=M.useMemo(()=>l0(r.routes,a,r.basename),[r.routes,a,r.basename]);return s?M.createElement(q1,{page:a,matches:s,...i}):null}function H1(a){let{manifest:i,routeModules:r}=m0(),[s,c]=M.useState([]);return M.useEffect(()=>{let f=!1;return D1(a,i,r).then(m=>{f||c(m)}),()=>{f=!0}},[a,i,r]),s}function q1({page:a,matches:i,...r}){let s=Mn(),{manifest:c,routeModules:f}=m0(),{basename:m}=h0(),{loaderData:p,matches:h}=B1(),g=M.useMemo(()=>zg(a,i,h,c,s,"data"),[a,i,h,c,s]),y=M.useMemo(()=>zg(a,i,h,c,s,"assets"),[a,i,h,c,s]),v=M.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let T=new Set,E=!1;if(i.forEach(A=>{let L=c.routes[A.route.id];!L||!L.hasLoader||(!g.some(D=>D.route.id===A.route.id)&&A.route.id in p&&f[A.route.id]?.shouldRevalidate||L.hasClientLoader?E=!0:T.add(A.route.id))}),T.size===0)return[];let N=z1(a,m);return E&&T.size>0&&N.searchParams.set("_routes",i.filter(A=>T.has(A.route.id)).map(A=>A.route.id).join(",")),[N.pathname+N.search]},[m,p,s,c,g,i,a,f]),x=M.useMemo(()=>R1(y,c),[y,c]),S=H1(y);return M.createElement(M.Fragment,null,v.map(T=>M.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...r})),x.map(T=>M.createElement("link",{key:T,rel:"modulepreload",href:T,...r})),S.map(({key:T,link:E})=>M.createElement("link",{key:T,...E})))}function Y1(...a){return i=>{a.forEach(r=>{typeof r=="function"?r(i):r!=null&&(r.current=i)})}}var g0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{g0&&(window.__reactRouterVersion="7.6.3")}catch{}function V1({basename:a,children:i,window:r}){let s=M.useRef();s.current==null&&(s.current=jb({window:r,v5Compat:!0}));let c=s.current,[f,m]=M.useState({action:c.action,location:c.location}),p=M.useCallback(h=>{M.startTransition(()=>m(h))},[m]);return M.useLayoutEffect(()=>c.listen(p),[c,p]),M.createElement(y1,{basename:a,children:i,location:f.location,navigationType:f.action,navigator:c})}var y0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qi=M.forwardRef(function({onClick:i,discover:r="render",prefetch:s="none",relative:c,reloadDocument:f,replace:m,state:p,target:h,to:g,preventScrollReset:y,viewTransition:v,...x},S){let{basename:T}=M.useContext(Kt),E=typeof g=="string"&&y0.test(g),N,A=!1;if(typeof g=="string"&&E&&(N=g,g0))try{let K=new URL(window.location.href),F=g.startsWith("//")?new URL(K.protocol+g):new URL(g),re=Rn(F.pathname,T);F.origin===K.origin&&re!=null?g=re+F.search+F.hash:A=!0}catch{$t(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=e1(g,{relative:c}),[D,q,O]=k1(s,x),_=X1(g,{replace:m,state:p,target:h,preventScrollReset:y,relative:c,viewTransition:v});function Y(K){i&&i(K),K.defaultPrevented||_(K)}let H=M.createElement("a",{...x,...O,href:N||L,onClick:A||f?i:Y,ref:Y1(S,q),target:h,"data-discover":!E&&r==="render"?"true":void 0});return D&&!E?M.createElement(M.Fragment,null,H,M.createElement(L1,{page:L})):H});qi.displayName="Link";var $1=M.forwardRef(function({"aria-current":i="page",caseSensitive:r=!1,className:s="",end:c=!1,style:f,to:m,viewTransition:p,children:h,...g},y){let v=Xi(m,{relative:g.relative}),x=Mn(),S=M.useContext(ws),{navigator:T,basename:E}=M.useContext(Kt),N=S!=null&&I1(v)&&p===!0,A=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,L=x.pathname,D=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;r||(L=L.toLowerCase(),D=D?D.toLowerCase():null,A=A.toLowerCase()),D&&E&&(D=Rn(D,E)||D);const q=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let O=L===A||!c&&L.startsWith(A)&&L.charAt(q)==="/",_=D!=null&&(D===A||!c&&D.startsWith(A)&&D.charAt(A.length)==="/"),Y={isActive:O,isPending:_,isTransitioning:N},H=O?i:void 0,K;typeof s=="function"?K=s(Y):K=[s,O?"active":null,_?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let F=typeof f=="function"?f(Y):f;return M.createElement(qi,{...g,"aria-current":H,className:K,ref:y,style:F,to:m,viewTransition:p},typeof h=="function"?h(Y):h)});$1.displayName="NavLink";var G1=M.forwardRef(({discover:a="render",fetcherKey:i,navigate:r,reloadDocument:s,replace:c,state:f,method:m=ds,action:p,onSubmit:h,relative:g,preventScrollReset:y,viewTransition:v,...x},S)=>{let T=P1(),E=W1(p,{relative:g}),N=m.toLowerCase()==="get"?"get":"post",A=typeof p=="string"&&y0.test(p),L=D=>{if(h&&h(D),D.defaultPrevented)return;D.preventDefault();let q=D.nativeEvent.submitter,O=q?.getAttribute("formmethod")||m;T(q||D.currentTarget,{fetcherKey:i,method:O,navigate:r,replace:c,state:f,relative:g,preventScrollReset:y,viewTransition:v})};return M.createElement("form",{ref:S,method:N,action:E,onSubmit:s?h:L,...x,"data-discover":!A&&a==="render"?"true":void 0})});G1.displayName="Form";function Z1(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p0(a){let i=M.useContext(Ml);return Le(i,Z1(a)),i}function X1(a,{target:i,replace:r,state:s,preventScrollReset:c,relative:f,viewTransition:m}={}){let p=Ss(),h=Mn(),g=Xi(a,{relative:f});return M.useCallback(y=>{if(w1(y,i)){y.preventDefault();let v=r!==void 0?r:Yi(h)===Yi(g);p(a,{replace:v,state:s,preventScrollReset:c,relative:f,viewTransition:m})}},[h,p,g,r,s,i,a,c,f,m])}function Q1(a){$t(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let i=M.useRef(Su(a)),r=M.useRef(!1),s=Mn(),c=M.useMemo(()=>S1(s.search,r.current?null:i.current),[s.search]),f=Ss(),m=M.useCallback((p,h)=>{const g=Su(typeof p=="function"?p(c):p);r.current=!0,f("?"+g,h)},[f,c]);return[c,m]}var K1=0,J1=()=>`__${String(++K1)}__`;function P1(){let{router:a}=p0("useSubmit"),{basename:i}=M.useContext(Kt),r=f1();return M.useCallback(async(s,c={})=>{let{action:f,method:m,encType:p,formData:h,body:g}=A1(s,i);if(c.navigate===!1){let y=c.fetcherKey||J1();await a.fetch(y,r,c.action||f,{preventScrollReset:c.preventScrollReset,formData:h,body:g,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await a.navigate(c.action||f,{preventScrollReset:c.preventScrollReset,formData:h,body:g,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,i,r])}function W1(a,{relative:i}={}){let{basename:r}=M.useContext(Kt),s=M.useContext(rn);Le(s,"useFormAction must be used inside a RouteContext");let[c]=s.matches.slice(-1),f={...Xi(a||".",{relative:i})},m=Mn();if(a==null){f.search=m.search;let p=new URLSearchParams(f.search),h=p.getAll("index");if(h.some(y=>y==="")){p.delete("index"),h.filter(v=>v).forEach(v=>p.append("index",v));let y=p.toString();f.search=y?`?${y}`:""}}return(!a||a===".")&&c.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(f.pathname=f.pathname==="/"?r:Dn([r,f.pathname])),Yi(f)}function I1(a,i={}){let r=M.useContext(o0);Le(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=p0("useViewTransitionState"),c=Xi(a,{relative:i.relative});if(!r.isTransitioning)return!1;let f=Rn(r.currentLocation.pathname,s)||r.currentLocation.pathname,m=Rn(r.nextLocation.pathname,s)||r.nextLocation.pathname;return gs(c.pathname,m)!=null||gs(c.pathname,f)!=null}[...O1];const v0=M.createContext(null);function F1({children:a}){const[i,r]=M.useState(!1),[s,c]=M.useState(null),[f,m]=M.useState(null);M.useEffect(()=>{const v=localStorage.getItem("nostrcal_user");if(v)try{const x=JSON.parse(v);c(x),r(!0),console.log("Restored user from localStorage:",x)}catch(x){console.error("Failed to parse saved user data:",x),localStorage.removeItem("nostrcal_user")}},[]);const y={isLoggedIn:i,user:s,userProfile:f,login:v=>{console.log("AuthContext.login called with:",v),c(v),r(!0),localStorage.setItem("nostrcal_user",JSON.stringify(v)),console.log("User logged in successfully, isLoggedIn:",!0)},logout:()=>{console.log("Logging out..."),c(null),r(!1),localStorage.removeItem("nostrcal_user")},updateProfile:v=>{if(m(v),s){const x={...s,profile:v};c(x),localStorage.setItem("nostrcal_user",JSON.stringify(x))}}};return d.jsx(v0.Provider,{value:y,children:a})}function Un(){const a=M.useContext(v0);if(!a)throw new Error("useAuth must be used within an AuthProvider");return a}function Bg(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`Wrong positive integer: ${a}`)}function b0(a,...i){if(!(a instanceof Uint8Array))throw new Error("Expected Uint8Array");if(i.length>0&&!i.includes(a.length))throw new Error(`Expected Uint8Array of length ${i}, not of length=${a.length}`)}function ex(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Bg(a.outputLen),Bg(a.blockLen)}function ys(a,i=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(i&&a.finished)throw new Error("Hash#digest() has already been called")}function tx(a,i){b0(a);const r=i.outputLen;if(a.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const su=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const x0=a=>a instanceof Uint8Array,ou=a=>new DataView(a.buffer,a.byteOffset,a.byteLength),en=(a,i)=>a<<32-i|a>>>i,nx=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!nx)throw new Error("Non little-endian hardware is not supported");function ax(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function Gu(a){if(typeof a=="string"&&(a=ax(a)),!x0(a))throw new Error(`expected Uint8Array, got ${typeof a}`);return a}function lx(...a){const i=new Uint8Array(a.reduce((s,c)=>s+c.length,0));let r=0;return a.forEach(s=>{if(!x0(s))throw new Error("Uint8Array expected");i.set(s,r),r+=s.length}),i}let E0=class{clone(){return this._cloneInto()}};function ix(a){const i=s=>a().update(Gu(s)).digest(),r=a();return i.outputLen=r.outputLen,i.blockLen=r.blockLen,i.create=()=>a(),i}function w0(a=32){if(su&&typeof su.getRandomValues=="function")return su.getRandomValues(new Uint8Array(a));throw new Error("crypto.getRandomValues must be defined")}function rx(a,i,r,s){if(typeof a.setBigUint64=="function")return a.setBigUint64(i,r,s);const c=BigInt(32),f=BigInt(4294967295),m=Number(r>>c&f),p=Number(r&f),h=s?4:0,g=s?0:4;a.setUint32(i+h,m,s),a.setUint32(i+g,p,s)}let sx=class extends E0{constructor(i,r,s,c){super(),this.blockLen=i,this.outputLen=r,this.padOffset=s,this.isLE=c,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(i),this.view=ou(this.buffer)}update(i){ys(this);const{view:r,buffer:s,blockLen:c}=this;i=Gu(i);const f=i.length;for(let m=0;m<f;){const p=Math.min(c-this.pos,f-m);if(p===c){const h=ou(i);for(;c<=f-m;m+=c)this.process(h,m);continue}s.set(i.subarray(m,m+p),this.pos),this.pos+=p,m+=p,this.pos===c&&(this.process(r,0),this.pos=0)}return this.length+=i.length,this.roundClean(),this}digestInto(i){ys(this),tx(i,this),this.finished=!0;const{buffer:r,view:s,blockLen:c,isLE:f}=this;let{pos:m}=this;r[m++]=128,this.buffer.subarray(m).fill(0),this.padOffset>c-m&&(this.process(s,0),m=0);for(let v=m;v<c;v++)r[v]=0;rx(s,c-8,BigInt(this.length*8),f),this.process(s,0);const p=ou(i),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const g=h/4,y=this.get();if(g>y.length)throw new Error("_sha2: outputLen bigger than state");for(let v=0;v<g;v++)p.setUint32(4*v,y[v],f)}digest(){const{buffer:i,outputLen:r}=this;this.digestInto(i);const s=i.slice(0,r);return this.destroy(),s}_cloneInto(i){i||(i=new this.constructor),i.set(...this.get());const{blockLen:r,buffer:s,length:c,finished:f,destroyed:m,pos:p}=this;return i.length=c,i.pos=p,i.finished=f,i.destroyed=m,c%r&&i.buffer.set(s),i}};const ox=(a,i,r)=>a&i^~a&r,cx=(a,i,r)=>a&i^a&r^i&r,ux=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),sa=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),oa=new Uint32Array(64);let fx=class extends sx{constructor(){super(64,32,8,!1),this.A=sa[0]|0,this.B=sa[1]|0,this.C=sa[2]|0,this.D=sa[3]|0,this.E=sa[4]|0,this.F=sa[5]|0,this.G=sa[6]|0,this.H=sa[7]|0}get(){const{A:i,B:r,C:s,D:c,E:f,F:m,G:p,H:h}=this;return[i,r,s,c,f,m,p,h]}set(i,r,s,c,f,m,p,h){this.A=i|0,this.B=r|0,this.C=s|0,this.D=c|0,this.E=f|0,this.F=m|0,this.G=p|0,this.H=h|0}process(i,r){for(let v=0;v<16;v++,r+=4)oa[v]=i.getUint32(r,!1);for(let v=16;v<64;v++){const x=oa[v-15],S=oa[v-2],T=en(x,7)^en(x,18)^x>>>3,E=en(S,17)^en(S,19)^S>>>10;oa[v]=E+oa[v-7]+T+oa[v-16]|0}let{A:s,B:c,C:f,D:m,E:p,F:h,G:g,H:y}=this;for(let v=0;v<64;v++){const x=en(p,6)^en(p,11)^en(p,25),S=y+x+ox(p,h,g)+ux[v]+oa[v]|0,E=(en(s,2)^en(s,13)^en(s,22))+cx(s,c,f)|0;y=g,g=h,h=p,p=m+S|0,m=f,f=c,c=s,s=S+E|0}s=s+this.A|0,c=c+this.B|0,f=f+this.C|0,m=m+this.D|0,p=p+this.E|0,h=h+this.F|0,g=g+this.G|0,y=y+this.H|0,this.set(s,c,f,m,p,h,g,y)}roundClean(){oa.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Tu=ix(()=>new fx);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const S0=BigInt(0),Ns=BigInt(1),dx=BigInt(2),As=a=>a instanceof Uint8Array,hx=Array.from({length:256},(a,i)=>i.toString(16).padStart(2,"0"));function Cl(a){if(!As(a))throw new Error("Uint8Array expected");let i="";for(let r=0;r<a.length;r++)i+=hx[a[r]];return i}function T0(a){const i=a.toString(16);return i.length&1?`0${i}`:i}function Zu(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);return BigInt(a===""?"0":`0x${a}`)}function Dl(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const i=a.length;if(i%2)throw new Error("padded hex string expected, got unpadded hex of length "+i);const r=new Uint8Array(i/2);for(let s=0;s<r.length;s++){const c=s*2,f=a.slice(c,c+2),m=Number.parseInt(f,16);if(Number.isNaN(m)||m<0)throw new Error("Invalid byte sequence");r[s]=m}return r}function Et(a){return Zu(Cl(a))}function Xu(a){if(!As(a))throw new Error("Uint8Array expected");return Zu(Cl(Uint8Array.from(a).reverse()))}function ha(a,i){return Dl(a.toString(16).padStart(i*2,"0"))}function Qu(a,i){return ha(a,i).reverse()}function mx(a){return Dl(T0(a))}function ft(a,i,r){let s;if(typeof i=="string")try{s=Dl(i)}catch(f){throw new Error(`${a} must be valid hex string, got "${i}". Cause: ${f}`)}else if(As(i))s=Uint8Array.from(i);else throw new Error(`${a} must be hex string or Uint8Array`);const c=s.length;if(typeof r=="number"&&c!==r)throw new Error(`${a} expected ${r} bytes, got ${c}`);return s}function Ha(...a){const i=new Uint8Array(a.reduce((s,c)=>s+c.length,0));let r=0;return a.forEach(s=>{if(!As(s))throw new Error("Uint8Array expected");i.set(s,r),r+=s.length}),i}function gx(a,i){if(a.length!==i.length)return!1;for(let r=0;r<a.length;r++)if(a[r]!==i[r])return!1;return!0}function yx(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function px(a){let i;for(i=0;a>S0;a>>=Ns,i+=1);return i}function vx(a,i){return a>>BigInt(i)&Ns}const bx=(a,i,r)=>a|(r?Ns:S0)<<BigInt(i),Ku=a=>(dx<<BigInt(a-1))-Ns,cu=a=>new Uint8Array(a),kg=a=>Uint8Array.from(a);function N0(a,i,r){if(typeof a!="number"||a<2)throw new Error("hashLen must be a number");if(typeof i!="number"||i<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let s=cu(a),c=cu(a),f=0;const m=()=>{s.fill(1),c.fill(0),f=0},p=(...v)=>r(c,s,...v),h=(v=cu())=>{c=p(kg([0]),v),s=p(),v.length!==0&&(c=p(kg([1]),v),s=p())},g=()=>{if(f++>=1e3)throw new Error("drbg: tried 1000 values");let v=0;const x=[];for(;v<i;){s=p();const S=s.slice();x.push(S),v+=s.length}return Ha(...x)};return(v,x)=>{m(),h(v);let S;for(;!(S=x(g()));)h();return m(),S}}const xx={bigint:a=>typeof a=="bigint",function:a=>typeof a=="function",boolean:a=>typeof a=="boolean",string:a=>typeof a=="string",stringOrUint8Array:a=>typeof a=="string"||a instanceof Uint8Array,isSafeInteger:a=>Number.isSafeInteger(a),array:a=>Array.isArray(a),field:(a,i)=>i.Fp.isValid(a),hash:a=>typeof a=="function"&&Number.isSafeInteger(a.outputLen)};function Qi(a,i,r={}){const s=(c,f,m)=>{const p=xx[f];if(typeof p!="function")throw new Error(`Invalid validator "${f}", expected function`);const h=a[c];if(!(m&&h===void 0)&&!p(h,a))throw new Error(`Invalid param ${String(c)}=${h} (${typeof h}), expected ${f}`)};for(const[c,f]of Object.entries(i))s(c,f,!1);for(const[c,f]of Object.entries(r))s(c,f,!0);return a}const Ex=Object.freeze(Object.defineProperty({__proto__:null,bitGet:vx,bitLen:px,bitMask:Ku,bitSet:bx,bytesToHex:Cl,bytesToNumberBE:Et,bytesToNumberLE:Xu,concatBytes:Ha,createHmacDrbg:N0,ensureBytes:ft,equalBytes:gx,hexToBytes:Dl,hexToNumber:Zu,numberToBytesBE:ha,numberToBytesLE:Qu,numberToHexUnpadded:T0,numberToVarBytesBE:mx,utf8ToBytes:yx,validateObject:Qi},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const at=BigInt(0),Qe=BigInt(1),za=BigInt(2),wx=BigInt(3),Nu=BigInt(4),Lg=BigInt(5),Hg=BigInt(8);BigInt(9);BigInt(16);function st(a,i){const r=a%i;return r>=at?r:i+r}function Sx(a,i,r){if(r<=at||i<at)throw new Error("Expected power/modulo > 0");if(r===Qe)return at;let s=Qe;for(;i>at;)i&Qe&&(s=s*a%r),a=a*a%r,i>>=Qe;return s}function Yt(a,i,r){let s=a;for(;i-- >at;)s*=s,s%=r;return s}function Au(a,i){if(a===at||i<=at)throw new Error(`invert: expected positive integers, got n=${a} mod=${i}`);let r=st(a,i),s=i,c=at,f=Qe;for(;r!==at;){const p=s/r,h=s%r,g=c-f*p;s=r,r=h,c=f,f=g}if(s!==Qe)throw new Error("invert: does not exist");return st(c,i)}function Tx(a){const i=(a-Qe)/za;let r,s,c;for(r=a-Qe,s=0;r%za===at;r/=za,s++);for(c=za;c<a&&Sx(c,i,a)!==a-Qe;c++);if(s===1){const m=(a+Qe)/Nu;return function(h,g){const y=h.pow(g,m);if(!h.eql(h.sqr(y),g))throw new Error("Cannot find square root");return y}}const f=(r+Qe)/za;return function(p,h){if(p.pow(h,i)===p.neg(p.ONE))throw new Error("Cannot find square root");let g=s,y=p.pow(p.mul(p.ONE,c),r),v=p.pow(h,f),x=p.pow(h,r);for(;!p.eql(x,p.ONE);){if(p.eql(x,p.ZERO))return p.ZERO;let S=1;for(let E=p.sqr(x);S<g&&!p.eql(E,p.ONE);S++)E=p.sqr(E);const T=p.pow(y,Qe<<BigInt(g-S-1));y=p.sqr(T),v=p.mul(v,T),x=p.mul(x,y),g=S}return v}}function Nx(a){if(a%Nu===wx){const i=(a+Qe)/Nu;return function(s,c){const f=s.pow(c,i);if(!s.eql(s.sqr(f),c))throw new Error("Cannot find square root");return f}}if(a%Hg===Lg){const i=(a-Lg)/Hg;return function(s,c){const f=s.mul(c,za),m=s.pow(f,i),p=s.mul(c,m),h=s.mul(s.mul(p,za),m),g=s.mul(p,s.sub(h,s.ONE));if(!s.eql(s.sqr(g),c))throw new Error("Cannot find square root");return g}}return Tx(a)}const Ax=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function jx(a){const i={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Ax.reduce((s,c)=>(s[c]="function",s),i);return Qi(a,r)}function Cx(a,i,r){if(r<at)throw new Error("Expected power > 0");if(r===at)return a.ONE;if(r===Qe)return i;let s=a.ONE,c=i;for(;r>at;)r&Qe&&(s=a.mul(s,c)),c=a.sqr(c),r>>=Qe;return s}function Dx(a,i){const r=new Array(i.length),s=i.reduce((f,m,p)=>a.is0(m)?f:(r[p]=f,a.mul(f,m)),a.ONE),c=a.inv(s);return i.reduceRight((f,m,p)=>a.is0(m)?f:(r[p]=a.mul(f,r[p]),a.mul(f,m)),c),r}function A0(a,i){const r=i!==void 0?i:a.toString(2).length,s=Math.ceil(r/8);return{nBitLength:r,nByteLength:s}}function Rx(a,i,r=!1,s={}){if(a<=at)throw new Error(`Expected Field ORDER > 0, got ${a}`);const{nBitLength:c,nByteLength:f}=A0(a,i);if(f>2048)throw new Error("Field lengths over 2048 bytes are not supported");const m=Nx(a),p=Object.freeze({ORDER:a,BITS:c,BYTES:f,MASK:Ku(c),ZERO:at,ONE:Qe,create:h=>st(h,a),isValid:h=>{if(typeof h!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof h}`);return at<=h&&h<a},is0:h=>h===at,isOdd:h=>(h&Qe)===Qe,neg:h=>st(-h,a),eql:(h,g)=>h===g,sqr:h=>st(h*h,a),add:(h,g)=>st(h+g,a),sub:(h,g)=>st(h-g,a),mul:(h,g)=>st(h*g,a),pow:(h,g)=>Cx(p,h,g),div:(h,g)=>st(h*Au(g,a),a),sqrN:h=>h*h,addN:(h,g)=>h+g,subN:(h,g)=>h-g,mulN:(h,g)=>h*g,inv:h=>Au(h,a),sqrt:s.sqrt||(h=>m(p,h)),invertBatch:h=>Dx(p,h),cmov:(h,g,y)=>y?g:h,toBytes:h=>r?Qu(h,f):ha(h,f),fromBytes:h=>{if(h.length!==f)throw new Error(`Fp.fromBytes: expected ${f}, got ${h.length}`);return r?Xu(h):Et(h)}});return Object.freeze(p)}function j0(a){if(typeof a!="bigint")throw new Error("field order must be bigint");const i=a.toString(2).length;return Math.ceil(i/8)}function C0(a){const i=j0(a);return i+Math.ceil(i/2)}function _x(a,i,r=!1){const s=a.length,c=j0(i),f=C0(i);if(s<16||s<f||s>1024)throw new Error(`expected ${f}-1024 bytes of input, got ${s}`);const m=r?Et(a):Xu(a),p=st(m,i-Qe)+Qe;return r?Qu(p,c):ha(p,c)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mx=BigInt(0),uu=BigInt(1);function Ux(a,i){const r=(c,f)=>{const m=f.negate();return c?m:f},s=c=>{const f=Math.ceil(i/c)+1,m=2**(c-1);return{windows:f,windowSize:m}};return{constTimeNegate:r,unsafeLadder(c,f){let m=a.ZERO,p=c;for(;f>Mx;)f&uu&&(m=m.add(p)),p=p.double(),f>>=uu;return m},precomputeWindow(c,f){const{windows:m,windowSize:p}=s(f),h=[];let g=c,y=g;for(let v=0;v<m;v++){y=g,h.push(y);for(let x=1;x<p;x++)y=y.add(g),h.push(y);g=y.double()}return h},wNAF(c,f,m){const{windows:p,windowSize:h}=s(c);let g=a.ZERO,y=a.BASE;const v=BigInt(2**c-1),x=2**c,S=BigInt(c);for(let T=0;T<p;T++){const E=T*h;let N=Number(m&v);m>>=S,N>h&&(N-=x,m+=uu);const A=E,L=E+Math.abs(N)-1,D=T%2!==0,q=N<0;N===0?y=y.add(r(D,f[A])):g=g.add(r(q,f[L]))}return{p:g,f:y}},wNAFCached(c,f,m,p){const h=c._WINDOW_SIZE||1;let g=f.get(c);return g||(g=this.precomputeWindow(c,h),h!==1&&f.set(c,p(g))),this.wNAF(h,g,m)}}}function D0(a){return jx(a.Fp),Qi(a,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...A0(a.n,a.nBitLength),...a,p:a.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ox(a){const i=D0(a);Qi(i,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:s,a:c}=i;if(r){if(!s.eql(c,s.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...i})}const{bytesToNumberBE:zx,hexToBytes:Bx}=Ex,Ba={Err:class extends Error{constructor(i=""){super(i)}},_parseInt(a){const{Err:i}=Ba;if(a.length<2||a[0]!==2)throw new i("Invalid signature integer tag");const r=a[1],s=a.subarray(2,r+2);if(!r||s.length!==r)throw new i("Invalid signature integer: wrong length");if(s[0]&128)throw new i("Invalid signature integer: negative");if(s[0]===0&&!(s[1]&128))throw new i("Invalid signature integer: unnecessary leading zero");return{d:zx(s),l:a.subarray(r+2)}},toSig(a){const{Err:i}=Ba,r=typeof a=="string"?Bx(a):a;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let s=r.length;if(s<2||r[0]!=48)throw new i("Invalid signature tag");if(r[1]!==s-2)throw new i("Invalid signature: incorrect length");const{d:c,l:f}=Ba._parseInt(r.subarray(2)),{d:m,l:p}=Ba._parseInt(f);if(p.length)throw new i("Invalid signature: left bytes after parsing");return{r:c,s:m}},hexFromSig(a){const i=g=>Number.parseInt(g[0],16)&8?"00"+g:g,r=g=>{const y=g.toString(16);return y.length&1?`0${y}`:y},s=i(r(a.s)),c=i(r(a.r)),f=s.length/2,m=c.length/2,p=r(f),h=r(m);return`30${r(m+f+4)}02${h}${c}02${p}${s}`}},An=BigInt(0),Vt=BigInt(1);BigInt(2);const qg=BigInt(3);BigInt(4);function kx(a){const i=Ox(a),{Fp:r}=i,s=i.toBytes||((T,E,N)=>{const A=E.toAffine();return Ha(Uint8Array.from([4]),r.toBytes(A.x),r.toBytes(A.y))}),c=i.fromBytes||(T=>{const E=T.subarray(1),N=r.fromBytes(E.subarray(0,r.BYTES)),A=r.fromBytes(E.subarray(r.BYTES,2*r.BYTES));return{x:N,y:A}});function f(T){const{a:E,b:N}=i,A=r.sqr(T),L=r.mul(A,T);return r.add(r.add(L,r.mul(T,E)),N)}if(!r.eql(r.sqr(i.Gy),f(i.Gx)))throw new Error("bad generator point: equation left != right");function m(T){return typeof T=="bigint"&&An<T&&T<i.n}function p(T){if(!m(T))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function h(T){const{allowedPrivateKeyLengths:E,nByteLength:N,wrapPrivateKey:A,n:L}=i;if(E&&typeof T!="bigint"){if(T instanceof Uint8Array&&(T=Cl(T)),typeof T!="string"||!E.includes(T.length))throw new Error("Invalid key");T=T.padStart(N*2,"0")}let D;try{D=typeof T=="bigint"?T:Et(ft("private key",T,N))}catch{throw new Error(`private key must be ${N} bytes, hex or bigint, not ${typeof T}`)}return A&&(D=st(D,L)),p(D),D}const g=new Map;function y(T){if(!(T instanceof v))throw new Error("ProjectivePoint expected")}class v{constructor(E,N,A){if(this.px=E,this.py=N,this.pz=A,E==null||!r.isValid(E))throw new Error("x required");if(N==null||!r.isValid(N))throw new Error("y required");if(A==null||!r.isValid(A))throw new Error("z required")}static fromAffine(E){const{x:N,y:A}=E||{};if(!E||!r.isValid(N)||!r.isValid(A))throw new Error("invalid affine point");if(E instanceof v)throw new Error("projective point not allowed");const L=D=>r.eql(D,r.ZERO);return L(N)&&L(A)?v.ZERO:new v(N,A,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){const N=r.invertBatch(E.map(A=>A.pz));return E.map((A,L)=>A.toAffine(N[L])).map(v.fromAffine)}static fromHex(E){const N=v.fromAffine(c(ft("pointHex",E)));return N.assertValidity(),N}static fromPrivateKey(E){return v.BASE.multiply(h(E))}_setWindowSize(E){this._WINDOW_SIZE=E,g.delete(this)}assertValidity(){if(this.is0()){if(i.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:E,y:N}=this.toAffine();if(!r.isValid(E)||!r.isValid(N))throw new Error("bad point: x or y not FE");const A=r.sqr(N),L=f(E);if(!r.eql(A,L))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:E}=this.toAffine();if(r.isOdd)return!r.isOdd(E);throw new Error("Field doesn't support isOdd")}equals(E){y(E);const{px:N,py:A,pz:L}=this,{px:D,py:q,pz:O}=E,_=r.eql(r.mul(N,O),r.mul(D,L)),Y=r.eql(r.mul(A,O),r.mul(q,L));return _&&Y}negate(){return new v(this.px,r.neg(this.py),this.pz)}double(){const{a:E,b:N}=i,A=r.mul(N,qg),{px:L,py:D,pz:q}=this;let O=r.ZERO,_=r.ZERO,Y=r.ZERO,H=r.mul(L,L),K=r.mul(D,D),F=r.mul(q,q),re=r.mul(L,D);return re=r.add(re,re),Y=r.mul(L,q),Y=r.add(Y,Y),O=r.mul(E,Y),_=r.mul(A,F),_=r.add(O,_),O=r.sub(K,_),_=r.add(K,_),_=r.mul(O,_),O=r.mul(re,O),Y=r.mul(A,Y),F=r.mul(E,F),re=r.sub(H,F),re=r.mul(E,re),re=r.add(re,Y),Y=r.add(H,H),H=r.add(Y,H),H=r.add(H,F),H=r.mul(H,re),_=r.add(_,H),F=r.mul(D,q),F=r.add(F,F),H=r.mul(F,re),O=r.sub(O,H),Y=r.mul(F,K),Y=r.add(Y,Y),Y=r.add(Y,Y),new v(O,_,Y)}add(E){y(E);const{px:N,py:A,pz:L}=this,{px:D,py:q,pz:O}=E;let _=r.ZERO,Y=r.ZERO,H=r.ZERO;const K=i.a,F=r.mul(i.b,qg);let re=r.mul(N,D),ce=r.mul(A,q),oe=r.mul(L,O),$=r.add(N,A),z=r.add(D,q);$=r.mul($,z),z=r.add(re,ce),$=r.sub($,z),z=r.add(N,L);let j=r.add(D,O);return z=r.mul(z,j),j=r.add(re,oe),z=r.sub(z,j),j=r.add(A,L),_=r.add(q,O),j=r.mul(j,_),_=r.add(ce,oe),j=r.sub(j,_),H=r.mul(K,z),_=r.mul(F,oe),H=r.add(_,H),_=r.sub(ce,H),H=r.add(ce,H),Y=r.mul(_,H),ce=r.add(re,re),ce=r.add(ce,re),oe=r.mul(K,oe),z=r.mul(F,z),ce=r.add(ce,oe),oe=r.sub(re,oe),oe=r.mul(K,oe),z=r.add(z,oe),re=r.mul(ce,z),Y=r.add(Y,re),re=r.mul(j,z),_=r.mul($,_),_=r.sub(_,re),re=r.mul($,ce),H=r.mul(j,H),H=r.add(H,re),new v(_,Y,H)}subtract(E){return this.add(E.negate())}is0(){return this.equals(v.ZERO)}wNAF(E){return S.wNAFCached(this,g,E,N=>{const A=r.invertBatch(N.map(L=>L.pz));return N.map((L,D)=>L.toAffine(A[D])).map(v.fromAffine)})}multiplyUnsafe(E){const N=v.ZERO;if(E===An)return N;if(p(E),E===Vt)return this;const{endo:A}=i;if(!A)return S.unsafeLadder(this,E);let{k1neg:L,k1:D,k2neg:q,k2:O}=A.splitScalar(E),_=N,Y=N,H=this;for(;D>An||O>An;)D&Vt&&(_=_.add(H)),O&Vt&&(Y=Y.add(H)),H=H.double(),D>>=Vt,O>>=Vt;return L&&(_=_.negate()),q&&(Y=Y.negate()),Y=new v(r.mul(Y.px,A.beta),Y.py,Y.pz),_.add(Y)}multiply(E){p(E);let N=E,A,L;const{endo:D}=i;if(D){const{k1neg:q,k1:O,k2neg:_,k2:Y}=D.splitScalar(N);let{p:H,f:K}=this.wNAF(O),{p:F,f:re}=this.wNAF(Y);H=S.constTimeNegate(q,H),F=S.constTimeNegate(_,F),F=new v(r.mul(F.px,D.beta),F.py,F.pz),A=H.add(F),L=K.add(re)}else{const{p:q,f:O}=this.wNAF(N);A=q,L=O}return v.normalizeZ([A,L])[0]}multiplyAndAddUnsafe(E,N,A){const L=v.BASE,D=(O,_)=>_===An||_===Vt||!O.equals(L)?O.multiplyUnsafe(_):O.multiply(_),q=D(this,N).add(D(E,A));return q.is0()?void 0:q}toAffine(E){const{px:N,py:A,pz:L}=this,D=this.is0();E==null&&(E=D?r.ONE:r.inv(L));const q=r.mul(N,E),O=r.mul(A,E),_=r.mul(L,E);if(D)return{x:r.ZERO,y:r.ZERO};if(!r.eql(_,r.ONE))throw new Error("invZ was invalid");return{x:q,y:O}}isTorsionFree(){const{h:E,isTorsionFree:N}=i;if(E===Vt)return!0;if(N)return N(v,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:E,clearCofactor:N}=i;return E===Vt?this:N?N(v,this):this.multiplyUnsafe(i.h)}toRawBytes(E=!0){return this.assertValidity(),s(v,this,E)}toHex(E=!0){return Cl(this.toRawBytes(E))}}v.BASE=new v(i.Gx,i.Gy,r.ONE),v.ZERO=new v(r.ZERO,r.ONE,r.ZERO);const x=i.nBitLength,S=Ux(v,i.endo?Math.ceil(x/2):x);return{CURVE:i,ProjectivePoint:v,normPrivateKeyToScalar:h,weierstrassEquation:f,isWithinCurveOrder:m}}function Lx(a){const i=D0(a);return Qi(i,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...i})}function Hx(a){const i=Lx(a),{Fp:r,n:s}=i,c=r.BYTES+1,f=2*r.BYTES+1;function m(z){return An<z&&z<r.ORDER}function p(z){return st(z,s)}function h(z){return Au(z,s)}const{ProjectivePoint:g,normPrivateKeyToScalar:y,weierstrassEquation:v,isWithinCurveOrder:x}=kx({...i,toBytes(z,j,k){const W=j.toAffine(),ae=r.toBytes(W.x),C=Ha;return k?C(Uint8Array.from([j.hasEvenY()?2:3]),ae):C(Uint8Array.from([4]),ae,r.toBytes(W.y))},fromBytes(z){const j=z.length,k=z[0],W=z.subarray(1);if(j===c&&(k===2||k===3)){const ae=Et(W);if(!m(ae))throw new Error("Point is not on curve");const C=v(ae);let Z=r.sqrt(C);const ee=(Z&Vt)===Vt;return(k&1)===1!==ee&&(Z=r.neg(Z)),{x:ae,y:Z}}else if(j===f&&k===4){const ae=r.fromBytes(W.subarray(0,r.BYTES)),C=r.fromBytes(W.subarray(r.BYTES,2*r.BYTES));return{x:ae,y:C}}else throw new Error(`Point of length ${j} was invalid. Expected ${c} compressed bytes or ${f} uncompressed bytes`)}}),S=z=>Cl(ha(z,i.nByteLength));function T(z){const j=s>>Vt;return z>j}function E(z){return T(z)?p(-z):z}const N=(z,j,k)=>Et(z.slice(j,k));class A{constructor(j,k,W){this.r=j,this.s=k,this.recovery=W,this.assertValidity()}static fromCompact(j){const k=i.nByteLength;return j=ft("compactSignature",j,k*2),new A(N(j,0,k),N(j,k,2*k))}static fromDER(j){const{r:k,s:W}=Ba.toSig(ft("DER",j));return new A(k,W)}assertValidity(){if(!x(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!x(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(j){return new A(this.r,this.s,j)}recoverPublicKey(j){const{r:k,s:W,recovery:ae}=this,C=Y(ft("msgHash",j));if(ae==null||![0,1,2,3].includes(ae))throw new Error("recovery id invalid");const Z=ae===2||ae===3?k+i.n:k;if(Z>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const ee=(ae&1)===0?"02":"03",ne=g.fromHex(ee+S(Z)),J=h(Z),se=p(-C*J),ie=p(W*J),ue=g.BASE.multiplyAndAddUnsafe(ne,se,ie);if(!ue)throw new Error("point at infinify");return ue.assertValidity(),ue}hasHighS(){return T(this.s)}normalizeS(){return this.hasHighS()?new A(this.r,p(-this.s),this.recovery):this}toDERRawBytes(){return Dl(this.toDERHex())}toDERHex(){return Ba.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Dl(this.toCompactHex())}toCompactHex(){return S(this.r)+S(this.s)}}const L={isValidPrivateKey(z){try{return y(z),!0}catch{return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{const z=C0(i.n);return _x(i.randomBytes(z),i.n)},precompute(z=8,j=g.BASE){return j._setWindowSize(z),j.multiply(BigInt(3)),j}};function D(z,j=!0){return g.fromPrivateKey(z).toRawBytes(j)}function q(z){const j=z instanceof Uint8Array,k=typeof z=="string",W=(j||k)&&z.length;return j?W===c||W===f:k?W===2*c||W===2*f:z instanceof g}function O(z,j,k=!0){if(q(z))throw new Error("first arg must be private key");if(!q(j))throw new Error("second arg must be public key");return g.fromHex(j).multiply(y(z)).toRawBytes(k)}const _=i.bits2int||function(z){const j=Et(z),k=z.length*8-i.nBitLength;return k>0?j>>BigInt(k):j},Y=i.bits2int_modN||function(z){return p(_(z))},H=Ku(i.nBitLength);function K(z){if(typeof z!="bigint")throw new Error("bigint expected");if(!(An<=z&&z<H))throw new Error(`bigint expected < 2^${i.nBitLength}`);return ha(z,i.nByteLength)}function F(z,j,k=re){if(["recovered","canonical"].some(le=>le in k))throw new Error("sign() legacy options not supported");const{hash:W,randomBytes:ae}=i;let{lowS:C,prehash:Z,extraEntropy:ee}=k;C==null&&(C=!0),z=ft("msgHash",z),Z&&(z=ft("prehashed msgHash",W(z)));const ne=Y(z),J=y(j),se=[K(J),K(ne)];if(ee!=null){const le=ee===!0?ae(r.BYTES):ee;se.push(ft("extraEntropy",le))}const ie=Ha(...se),ue=ne;function ye(le){const pe=_(le);if(!x(pe))return;const De=h(pe),Ne=g.BASE.multiply(pe).toAffine(),Ve=p(Ne.x);if(Ve===An)return;const Se=p(De*p(ue+Ve*J));if(Se===An)return;let _t=(Ne.x===Ve?0:2)|Number(Ne.y&Vt),mt=Se;return C&&T(Se)&&(mt=E(Se),_t^=1),new A(Ve,mt,_t)}return{seed:ie,k2sig:ye}}const re={lowS:i.lowS,prehash:!1},ce={lowS:i.lowS,prehash:!1};function oe(z,j,k=re){const{seed:W,k2sig:ae}=F(z,j,k),C=i;return N0(C.hash.outputLen,C.nByteLength,C.hmac)(W,ae)}g.BASE._setWindowSize(8);function $(z,j,k,W=ce){const ae=z;if(j=ft("msgHash",j),k=ft("publicKey",k),"strict"in W)throw new Error("options.strict was renamed to lowS");const{lowS:C,prehash:Z}=W;let ee,ne;try{if(typeof ae=="string"||ae instanceof Uint8Array)try{ee=A.fromDER(ae)}catch(Ne){if(!(Ne instanceof Ba.Err))throw Ne;ee=A.fromCompact(ae)}else if(typeof ae=="object"&&typeof ae.r=="bigint"&&typeof ae.s=="bigint"){const{r:Ne,s:Ve}=ae;ee=new A(Ne,Ve)}else throw new Error("PARSE");ne=g.fromHex(k)}catch(Ne){if(Ne.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(C&&ee.hasHighS())return!1;Z&&(j=i.hash(j));const{r:J,s:se}=ee,ie=Y(j),ue=h(se),ye=p(ie*ue),le=p(J*ue),pe=g.BASE.multiplyAndAddUnsafe(ne,ye,le)?.toAffine();return pe?p(pe.x)===J:!1}return{CURVE:i,getPublicKey:D,getSharedSecret:O,sign:oe,verify:$,ProjectivePoint:g,Signature:A,utils:L}}let R0=class extends E0{constructor(i,r){super(),this.finished=!1,this.destroyed=!1,ex(i);const s=Gu(r);if(this.iHash=i.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const c=this.blockLen,f=new Uint8Array(c);f.set(s.length>c?i.create().update(s).digest():s);for(let m=0;m<f.length;m++)f[m]^=54;this.iHash.update(f),this.oHash=i.create();for(let m=0;m<f.length;m++)f[m]^=106;this.oHash.update(f),f.fill(0)}update(i){return ys(this),this.iHash.update(i),this}digestInto(i){ys(this),b0(i,this.outputLen),this.finished=!0,this.iHash.digestInto(i),this.oHash.update(i),this.oHash.digestInto(i),this.destroy()}digest(){const i=new Uint8Array(this.oHash.outputLen);return this.digestInto(i),i}_cloneInto(i){i||(i=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:s,finished:c,destroyed:f,blockLen:m,outputLen:p}=this;return i=i,i.finished=c,i.destroyed=f,i.blockLen=m,i.outputLen=p,i.oHash=r._cloneInto(i.oHash),i.iHash=s._cloneInto(i.iHash),i}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const _0=(a,i,r)=>new R0(a,i).update(r).digest();_0.create=(a,i)=>new R0(a,i);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function qx(a){return{hash:a,hmac:(i,...r)=>_0(a,i,lx(...r)),randomBytes:w0}}function Yx(a,i){const r=s=>Hx({...a,...qx(s)});return Object.freeze({...r(i),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const js=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ps=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),M0=BigInt(1),vs=BigInt(2),Yg=(a,i)=>(a+i/vs)/i;function U0(a){const i=js,r=BigInt(3),s=BigInt(6),c=BigInt(11),f=BigInt(22),m=BigInt(23),p=BigInt(44),h=BigInt(88),g=a*a*a%i,y=g*g*a%i,v=Yt(y,r,i)*y%i,x=Yt(v,r,i)*y%i,S=Yt(x,vs,i)*g%i,T=Yt(S,c,i)*S%i,E=Yt(T,f,i)*T%i,N=Yt(E,p,i)*E%i,A=Yt(N,h,i)*N%i,L=Yt(A,p,i)*E%i,D=Yt(L,r,i)*y%i,q=Yt(D,m,i)*T%i,O=Yt(q,s,i)*g%i,_=Yt(O,vs,i);if(!ju.eql(ju.sqr(_),a))throw new Error("Cannot find square root");return _}const ju=Rx(js,void 0,void 0,{sqrt:U0}),Ol=Yx({a:BigInt(0),b:BigInt(7),Fp:ju,n:ps,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:a=>{const i=ps,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),s=-M0*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),c=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),f=r,m=BigInt("0x100000000000000000000000000000000"),p=Yg(f*a,i),h=Yg(-s*a,i);let g=st(a-p*r-h*c,i),y=st(-p*s-h*f,i);const v=g>m,x=y>m;if(v&&(g=i-g),x&&(y=i-y),g>m||y>m)throw new Error("splitScalar: Endomorphism failed, k="+a);return{k1neg:v,k1:g,k2neg:x,k2:y}}}},Tu),Cs=BigInt(0),O0=a=>typeof a=="bigint"&&Cs<a&&a<js,Vx=a=>typeof a=="bigint"&&Cs<a&&a<ps,Vg={};function bs(a,...i){let r=Vg[a];if(r===void 0){const s=Tu(Uint8Array.from(a,c=>c.charCodeAt(0)));r=Ha(s,s),Vg[a]=r}return Tu(Ha(r,...i))}const Ju=a=>a.toRawBytes(!0).slice(1),Cu=a=>ha(a,32),fu=a=>st(a,js),Vi=a=>st(a,ps),Pu=Ol.ProjectivePoint,$x=(a,i,r)=>Pu.BASE.multiplyAndAddUnsafe(a,i,r);function Du(a){let i=Ol.utils.normPrivateKeyToScalar(a),r=Pu.fromPrivateKey(i);return{scalar:r.hasEvenY()?i:Vi(-i),bytes:Ju(r)}}function z0(a){if(!O0(a))throw new Error("bad x: need 0 < x < p");const i=fu(a*a),r=fu(i*a+BigInt(7));let s=U0(r);s%vs!==Cs&&(s=fu(-s));const c=new Pu(a,s,M0);return c.assertValidity(),c}function B0(...a){return Vi(Et(bs("BIP0340/challenge",...a)))}function Gx(a){return Du(a).bytes}function Zx(a,i,r=w0(32)){const s=ft("message",a),{bytes:c,scalar:f}=Du(i),m=ft("auxRand",r,32),p=Cu(f^Et(bs("BIP0340/aux",m))),h=bs("BIP0340/nonce",p,c,s),g=Vi(Et(h));if(g===Cs)throw new Error("sign failed: k is zero");const{bytes:y,scalar:v}=Du(g),x=B0(y,c,s),S=new Uint8Array(64);if(S.set(y,0),S.set(Cu(Vi(v+x*f)),32),!k0(S,s,c))throw new Error("sign: Invalid signature produced");return S}function k0(a,i,r){const s=ft("signature",a,64),c=ft("message",i),f=ft("publicKey",r,32);try{const m=z0(Et(f)),p=Et(s.subarray(0,32));if(!O0(p))return!1;const h=Et(s.subarray(32,64));if(!Vx(h))return!1;const g=B0(Cu(p),Ju(m),c),y=$x(m,h,Vi(-g));return!(!y||!y.hasEvenY()||y.toAffine().x!==p)}catch{return!1}}const Li={getPublicKey:Gx,sign:Zx,verify:k0,utils:{randomPrivateKey:Ol.utils.randomPrivateKey,lift_x:z0,pointToBytes:Ju,numberToBytesBE:ha,bytesToNumberBE:Et,taggedHash:bs,mod:st}},du=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Wu=a=>a instanceof Uint8Array,hu=a=>new DataView(a.buffer,a.byteOffset,a.byteLength),tn=(a,i)=>a<<32-i|a>>>i,Xx=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Xx)throw new Error("Non little-endian hardware is not supported");const Qx=Array.from({length:256},(a,i)=>i.toString(16).padStart(2,"0"));function dt(a){if(!Wu(a))throw new Error("Uint8Array expected");let i="";for(let r=0;r<a.length;r++)i+=Qx[a[r]];return i}function qa(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const i=a.length;if(i%2)throw new Error("padded hex string expected, got unpadded hex of length "+i);const r=new Uint8Array(i/2);for(let s=0;s<r.length;s++){const c=s*2,f=a.slice(c,c+2),m=Number.parseInt(f,16);if(Number.isNaN(m)||m<0)throw new Error("Invalid byte sequence");r[s]=m}return r}function Kx(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function $i(a){if(typeof a=="string"&&(a=Kx(a)),!Wu(a))throw new Error(`expected Uint8Array, got ${typeof a}`);return a}function Ds(...a){const i=new Uint8Array(a.reduce((s,c)=>s+c.length,0));let r=0;return a.forEach(s=>{if(!Wu(s))throw new Error("Uint8Array expected");i.set(s,r),r+=s.length}),i}class L0{clone(){return this._cloneInto()}}function H0(a){const i=s=>a().update($i(s)).digest(),r=a();return i.outputLen=r.outputLen,i.blockLen=r.blockLen,i.create=()=>a(),i}function q0(a=32){if(du&&typeof du.getRandomValues=="function")return du.getRandomValues(new Uint8Array(a));throw new Error("crypto.getRandomValues must be defined")}function Ru(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`Wrong positive integer: ${a}`)}function Jx(a){if(typeof a!="boolean")throw new Error(`Expected boolean, not ${a}`)}function Y0(a,...i){if(!(a instanceof Uint8Array))throw new Error("Expected Uint8Array");if(i.length>0&&!i.includes(a.length))throw new Error(`Expected Uint8Array of length ${i}, not of length=${a.length}`)}function Px(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ru(a.outputLen),Ru(a.blockLen)}function Wx(a,i=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(i&&a.finished)throw new Error("Hash#digest() has already been called")}function Ix(a,i){Y0(a);const r=i.outputLen;if(a.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const nn={number:Ru,bool:Jx,bytes:Y0,hash:Px,exists:Wx,output:Ix};function Fx(a,i,r,s){if(typeof a.setBigUint64=="function")return a.setBigUint64(i,r,s);const c=BigInt(32),f=BigInt(4294967295),m=Number(r>>c&f),p=Number(r&f),h=s?4:0,g=s?0:4;a.setUint32(i+h,m,s),a.setUint32(i+g,p,s)}class eE extends L0{constructor(i,r,s,c){super(),this.blockLen=i,this.outputLen=r,this.padOffset=s,this.isLE=c,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(i),this.view=hu(this.buffer)}update(i){nn.exists(this);const{view:r,buffer:s,blockLen:c}=this;i=$i(i);const f=i.length;for(let m=0;m<f;){const p=Math.min(c-this.pos,f-m);if(p===c){const h=hu(i);for(;c<=f-m;m+=c)this.process(h,m);continue}s.set(i.subarray(m,m+p),this.pos),this.pos+=p,m+=p,this.pos===c&&(this.process(r,0),this.pos=0)}return this.length+=i.length,this.roundClean(),this}digestInto(i){nn.exists(this),nn.output(i,this),this.finished=!0;const{buffer:r,view:s,blockLen:c,isLE:f}=this;let{pos:m}=this;r[m++]=128,this.buffer.subarray(m).fill(0),this.padOffset>c-m&&(this.process(s,0),m=0);for(let v=m;v<c;v++)r[v]=0;Fx(s,c-8,BigInt(this.length*8),f),this.process(s,0);const p=hu(i),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const g=h/4,y=this.get();if(g>y.length)throw new Error("_sha2: outputLen bigger than state");for(let v=0;v<g;v++)p.setUint32(4*v,y[v],f)}digest(){const{buffer:i,outputLen:r}=this;this.digestInto(i);const s=i.slice(0,r);return this.destroy(),s}_cloneInto(i){i||(i=new this.constructor),i.set(...this.get());const{blockLen:r,buffer:s,length:c,finished:f,destroyed:m,pos:p}=this;return i.length=c,i.pos=p,i.finished=f,i.destroyed=m,c%r&&i.buffer.set(s),i}}const tE=(a,i,r)=>a&i^~a&r,nE=(a,i,r)=>a&i^a&r^i&r,aE=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ca=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ua=new Uint32Array(64);class V0 extends eE{constructor(){super(64,32,8,!1),this.A=ca[0]|0,this.B=ca[1]|0,this.C=ca[2]|0,this.D=ca[3]|0,this.E=ca[4]|0,this.F=ca[5]|0,this.G=ca[6]|0,this.H=ca[7]|0}get(){const{A:i,B:r,C:s,D:c,E:f,F:m,G:p,H:h}=this;return[i,r,s,c,f,m,p,h]}set(i,r,s,c,f,m,p,h){this.A=i|0,this.B=r|0,this.C=s|0,this.D=c|0,this.E=f|0,this.F=m|0,this.G=p|0,this.H=h|0}process(i,r){for(let v=0;v<16;v++,r+=4)ua[v]=i.getUint32(r,!1);for(let v=16;v<64;v++){const x=ua[v-15],S=ua[v-2],T=tn(x,7)^tn(x,18)^x>>>3,E=tn(S,17)^tn(S,19)^S>>>10;ua[v]=E+ua[v-7]+T+ua[v-16]|0}let{A:s,B:c,C:f,D:m,E:p,F:h,G:g,H:y}=this;for(let v=0;v<64;v++){const x=tn(p,6)^tn(p,11)^tn(p,25),S=y+x+tE(p,h,g)+aE[v]+ua[v]|0,E=(tn(s,2)^tn(s,13)^tn(s,22))+nE(s,c,f)|0;y=g,g=h,h=p,p=m+S|0,m=f,f=c,c=s,s=S+E|0}s=s+this.A|0,c=c+this.B|0,f=f+this.C|0,m=m+this.D|0,p=p+this.E|0,h=h+this.F|0,g=g+this.G|0,y=y+this.H|0,this.set(s,c,f,m,p,h,g,y)}roundClean(){ua.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class lE extends V0{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const zl=H0(()=>new V0);H0(()=>new lE);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Bl(a){if(!Number.isSafeInteger(a))throw new Error(`Wrong integer: ${a}`)}function On(...a){const i=(c,f)=>m=>c(f(m)),r=Array.from(a).reverse().reduce((c,f)=>c?i(c,f.encode):f.encode,void 0),s=a.reduce((c,f)=>c?i(c,f.decode):f.decode,void 0);return{encode:r,decode:s}}function zn(a){return{encode:i=>{if(!Array.isArray(i)||i.length&&typeof i[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return i.map(r=>{if(Bl(r),r<0||r>=a.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${a.length})`);return a[r]})},decode:i=>{if(!Array.isArray(i)||i.length&&typeof i[0]!="string")throw new Error("alphabet.decode input should be array of strings");return i.map(r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);const s=a.indexOf(r);if(s===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${a}`);return s})}}}function Bn(a=""){if(typeof a!="string")throw new Error("join separator should be string");return{encode:i=>{if(!Array.isArray(i)||i.length&&typeof i[0]!="string")throw new Error("join.encode input should be array of strings");for(let r of i)if(typeof r!="string")throw new Error(`join.encode: non-string input=${r}`);return i.join(a)},decode:i=>{if(typeof i!="string")throw new Error("join.decode input should be string");return i.split(a)}}}function Rs(a,i="="){if(Bl(a),typeof i!="string")throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("padding.encode input should be array of strings");for(let s of r)if(typeof s!="string")throw new Error(`padding.encode: non-string input=${s}`);for(;r.length*a%8;)r.push(i);return r},decode(r){if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("padding.encode input should be array of strings");for(let c of r)if(typeof c!="string")throw new Error(`padding.decode: non-string input=${c}`);let s=r.length;if(s*a%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;s>0&&r[s-1]===i;s--)if(!((s-1)*a%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,s)}}}function $0(a){if(typeof a!="function")throw new Error("normalize fn should be function");return{encode:i=>i,decode:i=>a(i)}}function $g(a,i,r){if(i<2)throw new Error(`convertRadix: wrong from=${i}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(a))throw new Error("convertRadix: data should be array");if(!a.length)return[];let s=0;const c=[],f=Array.from(a);for(f.forEach(m=>{if(Bl(m),m<0||m>=i)throw new Error(`Wrong integer: ${m}`)});;){let m=0,p=!0;for(let h=s;h<f.length;h++){const g=f[h],y=i*m+g;if(!Number.isSafeInteger(y)||i*m/i!==m||y-g!==i*m)throw new Error("convertRadix: carry overflow");if(m=y%r,f[h]=Math.floor(y/r),!Number.isSafeInteger(f[h])||f[h]*r+m!==y)throw new Error("convertRadix: carry overflow");if(p)f[h]?p=!1:s=h;else continue}if(c.push(m),p)break}for(let m=0;m<a.length-1&&a[m]===0;m++)c.push(0);return c.reverse()}const G0=(a,i)=>i?G0(i,a%i):a,xs=(a,i)=>a+(i-G0(a,i));function _u(a,i,r,s){if(!Array.isArray(a))throw new Error("convertRadix2: data should be array");if(i<=0||i>32)throw new Error(`convertRadix2: wrong from=${i}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(xs(i,r)>32)throw new Error(`convertRadix2: carry overflow from=${i} to=${r} carryBits=${xs(i,r)}`);let c=0,f=0;const m=2**r-1,p=[];for(const h of a){if(Bl(h),h>=2**i)throw new Error(`convertRadix2: invalid data word=${h} from=${i}`);if(c=c<<i|h,f+i>32)throw new Error(`convertRadix2: carry overflow pos=${f} from=${i}`);for(f+=i;f>=r;f-=r)p.push((c>>f-r&m)>>>0);c&=2**f-1}if(c=c<<r-f&m,!s&&f>=i)throw new Error("Excess padding");if(!s&&c)throw new Error(`Non-zero padding: ${c}`);return s&&f>0&&p.push(c>>>0),p}function iE(a){return Bl(a),{encode:i=>{if(!(i instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return $g(Array.from(i),2**8,a)},decode:i=>{if(!Array.isArray(i)||i.length&&typeof i[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from($g(i,a,2**8))}}}function ma(a,i=!1){if(Bl(a),a<=0||a>32)throw new Error("radix2: bits should be in (0..32]");if(xs(8,a)>32||xs(a,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!(r instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return _u(Array.from(r),8,a,!i)},decode:r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(_u(r,a,8,i))}}}function Gg(a){if(typeof a!="function")throw new Error("unsafeWrapper fn should be function");return function(...i){try{return a.apply(null,i)}catch{}}}const rE=On(ma(4),zn("0123456789ABCDEF"),Bn("")),sE=On(ma(5),zn("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Rs(5),Bn(""));On(ma(5),zn("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Rs(5),Bn(""));On(ma(5),zn("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Bn(""),$0(a=>a.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const _n=On(ma(6),zn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Rs(6),Bn("")),oE=On(ma(6),zn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Rs(6),Bn("")),Iu=a=>On(iE(58),zn(a),Bn("")),Mu=Iu("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");Iu("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");Iu("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const Zg=[0,2,3,5,6,7,9,10,11],cE={encode(a){let i="";for(let r=0;r<a.length;r+=8){const s=a.subarray(r,r+8);i+=Mu.encode(s).padStart(Zg[s.length],"1")}return i},decode(a){let i=[];for(let r=0;r<a.length;r+=11){const s=a.slice(r,r+11),c=Zg.indexOf(s.length),f=Mu.decode(s);for(let m=0;m<f.length-c;m++)if(f[m]!==0)throw new Error("base58xmr: wrong padding");i=i.concat(Array.from(f.slice(f.length-c)))}return Uint8Array.from(i)}},Uu=On(zn("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Bn("")),Xg=[996825010,642813549,513874426,1027748829,705979059];function Hi(a){const i=a>>25;let r=(a&33554431)<<5;for(let s=0;s<Xg.length;s++)(i>>s&1)===1&&(r^=Xg[s]);return r}function Qg(a,i,r=1){const s=a.length;let c=1;for(let f=0;f<s;f++){const m=a.charCodeAt(f);if(m<33||m>126)throw new Error(`Invalid prefix (${a})`);c=Hi(c)^m>>5}c=Hi(c);for(let f=0;f<s;f++)c=Hi(c)^a.charCodeAt(f)&31;for(let f of i)c=Hi(c)^f;for(let f=0;f<6;f++)c=Hi(c);return c^=r,Uu.encode(_u([c%2**30],30,5,!1))}function Z0(a){const i=a==="bech32"?1:734539939,r=ma(5),s=r.decode,c=r.encode,f=Gg(s);function m(y,v,x=90){if(typeof y!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof y}`);if(!Array.isArray(v)||v.length&&typeof v[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof v}`);const S=y.length+7+v.length;if(x!==!1&&S>x)throw new TypeError(`Length ${S} exceeds limit ${x}`);return y=y.toLowerCase(),`${y}1${Uu.encode(v)}${Qg(y,v,i)}`}function p(y,v=90){if(typeof y!="string")throw new Error(`bech32.decode input should be string, not ${typeof y}`);if(y.length<8||v!==!1&&y.length>v)throw new TypeError(`Wrong string length: ${y.length} (${y}). Expected (8..${v})`);const x=y.toLowerCase();if(y!==x&&y!==y.toUpperCase())throw new Error("String must be lowercase or uppercase");y=x;const S=y.lastIndexOf("1");if(S===0||S===-1)throw new Error('Letter "1" must be present between prefix and data only');const T=y.slice(0,S),E=y.slice(S+1);if(E.length<6)throw new Error("Data must be at least 6 characters long");const N=Uu.decode(E).slice(0,-6),A=Qg(T,N,i);if(!E.endsWith(A))throw new Error(`Invalid checksum in ${y}: expected "${A}"`);return{prefix:T,words:N}}const h=Gg(p);function g(y){const{prefix:v,words:x}=p(y,!1);return{prefix:v,words:x,bytes:s(x)}}return{encode:m,decode:p,decodeToBytes:g,decodeUnsafe:h,fromWords:s,fromWordsUnsafe:f,toWords:c}}const Rl=Z0("bech32");Z0("bech32m");const uE={encode:a=>new TextDecoder().decode(a),decode:a=>new TextEncoder().encode(a)},fE=On(ma(4),zn("0123456789abcdef"),Bn(""),$0(a=>{if(typeof a!="string"||a.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof a} with length ${a.length}`);return a.toLowerCase()})),dE={utf8:uE,hex:fE,base16:rE,base32:sE,base64:_n,base64url:oE,base58:Mu,base58xmr:cE};`${Object.keys(dE).join(", ")}`;function mu(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`positive integer expected, not ${a}`)}function Kg(a){if(typeof a!="boolean")throw new Error(`boolean expected, not ${a}`)}function hE(a){return a instanceof Uint8Array||a!=null&&typeof a=="object"&&a.constructor.name==="Uint8Array"}function jn(a,...i){if(!hE(a))throw new Error("Uint8Array expected");if(i.length>0&&!i.includes(a.length))throw new Error(`Uint8Array expected of length ${i}, not of length=${a.length}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const ht=a=>new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)),mE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!mE)throw new Error("Non little-endian hardware is not supported");function gE(a,i){if(i==null||typeof i!="object")throw new Error("options must be defined");return Object.assign(a,i)}function yE(a,i){if(a.length!==i.length)return!1;let r=0;for(let s=0;s<a.length;s++)r|=a[s]^i[s];return r===0}const pE=(a,i)=>(Object.assign(i,a),i),da=16,vE=283;function Fu(a){return a<<1^vE&-(a>>7)}function jl(a,i){let r=0;for(;i>0;i>>=1)r^=a&-(i&1),a=Fu(a);return r}const Ou=(()=>{let a=new Uint8Array(256);for(let r=0,s=1;r<256;r++,s^=Fu(s))a[r]=s;const i=new Uint8Array(256);i[0]=99;for(let r=0;r<255;r++){let s=a[255-r];s|=s<<8,i[a[r]]=(s^s>>4^s>>5^s>>6^s>>7^99)&255}return i})(),bE=Ou.map((a,i)=>Ou.indexOf(i)),xE=a=>a<<24|a>>>8,gu=a=>a<<8|a>>>24;function X0(a,i){if(a.length!==256)throw new Error("Wrong sbox length");const r=new Uint32Array(256).map((g,y)=>i(a[y])),s=r.map(gu),c=s.map(gu),f=c.map(gu),m=new Uint32Array(256*256),p=new Uint32Array(256*256),h=new Uint16Array(256*256);for(let g=0;g<256;g++)for(let y=0;y<256;y++){const v=g*256+y;m[v]=r[g]^s[y],p[v]=c[g]^f[y],h[v]=a[g]<<8|a[y]}return{sbox:a,sbox2:h,T0:r,T1:s,T2:c,T3:f,T01:m,T23:p}}const ef=X0(Ou,a=>jl(a,3)<<24|a<<16|a<<8|jl(a,2)),Q0=X0(bE,a=>jl(a,11)<<24|jl(a,13)<<16|jl(a,9)<<8|jl(a,14)),EE=(()=>{const a=new Uint8Array(16);for(let i=0,r=1;i<16;i++,r=Fu(r))a[i]=r;return a})();function K0(a){jn(a);const i=a.length;if(![16,24,32].includes(i))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${i}`);const{sbox2:r}=ef,s=ht(a),c=s.length,f=p=>an(r,p,p,p,p),m=new Uint32Array(i+28);m.set(s);for(let p=c;p<m.length;p++){let h=m[p-1];p%c===0?h=f(xE(h))^EE[p/c-1]:c>6&&p%c===4&&(h=f(h)),m[p]=m[p-c]^h}return m}function wE(a){const i=K0(a),r=i.slice(),s=i.length,{sbox2:c}=ef,{T0:f,T1:m,T2:p,T3:h}=Q0;for(let g=0;g<s;g+=4)for(let y=0;y<4;y++)r[g+y]=i[s-g-4+y];i.fill(0);for(let g=4;g<s-4;g++){const y=r[g],v=an(c,y,y,y,y);r[g]=f[v&255]^m[v>>>8&255]^p[v>>>16&255]^h[v>>>24]}return r}function fa(a,i,r,s,c,f){return a[r<<8&65280|s>>>8&255]^i[c>>>8&65280|f>>>24&255]}function an(a,i,r,s,c){return a[i&255|r&65280]|a[s>>>16&255|c>>>16&65280]<<16}function Jg(a,i,r,s,c){const{sbox2:f,T01:m,T23:p}=ef;let h=0;i^=a[h++],r^=a[h++],s^=a[h++],c^=a[h++];const g=a.length/4-2;for(let T=0;T<g;T++){const E=a[h++]^fa(m,p,i,r,s,c),N=a[h++]^fa(m,p,r,s,c,i),A=a[h++]^fa(m,p,s,c,i,r),L=a[h++]^fa(m,p,c,i,r,s);i=E,r=N,s=A,c=L}const y=a[h++]^an(f,i,r,s,c),v=a[h++]^an(f,r,s,c,i),x=a[h++]^an(f,s,c,i,r),S=a[h++]^an(f,c,i,r,s);return{s0:y,s1:v,s2:x,s3:S}}function SE(a,i,r,s,c){const{sbox2:f,T01:m,T23:p}=Q0;let h=0;i^=a[h++],r^=a[h++],s^=a[h++],c^=a[h++];const g=a.length/4-2;for(let T=0;T<g;T++){const E=a[h++]^fa(m,p,i,c,s,r),N=a[h++]^fa(m,p,r,i,c,s),A=a[h++]^fa(m,p,s,r,i,c),L=a[h++]^fa(m,p,c,s,r,i);i=E,r=N,s=A,c=L}const y=a[h++]^an(f,i,c,s,r),v=a[h++]^an(f,r,i,c,s),x=a[h++]^an(f,s,r,i,c),S=a[h++]^an(f,c,s,r,i);return{s0:y,s1:v,s2:x,s3:S}}function J0(a,i){if(!i)return new Uint8Array(a);if(jn(i),i.length<a)throw new Error(`aes: wrong destination length, expected at least ${a}, got: ${i.length}`);return i}function TE(a){if(jn(a),a.length%da!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${da}`)}function NE(a,i,r){let s=a.length;const c=s%da;if(!i&&c!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const f=ht(a);if(i){let h=da-c;h||(h=da),s=s+h}const m=J0(s,r),p=ht(m);return{b:f,o:p,out:m}}function AE(a,i){if(!i)return a;const r=a.length;if(!r)throw new Error("aes/pcks5: empty ciphertext not allowed");const s=a[r-1];if(s<=0||s>16)throw new Error(`aes/pcks5: wrong padding byte: ${s}`);const c=a.subarray(0,-s);for(let f=0;f<s;f++)if(a[r-f-1]!==s)throw new Error("aes/pcks5: wrong padding");return c}function jE(a){const i=new Uint8Array(16),r=ht(i);i.set(a);const s=da-a.length;for(let c=da-s;c<da;c++)i[c]=s;return r}const P0=pE({blockSize:16,nonceLength:16},function(i,r,s={}){jn(i),jn(r,16);const c=!s.disablePadding;return{encrypt:(f,m)=>{const p=K0(i),{b:h,o:g,out:y}=NE(f,c,m),v=ht(r);let x=v[0],S=v[1],T=v[2],E=v[3],N=0;for(;N+4<=h.length;)x^=h[N+0],S^=h[N+1],T^=h[N+2],E^=h[N+3],{s0:x,s1:S,s2:T,s3:E}=Jg(p,x,S,T,E),g[N++]=x,g[N++]=S,g[N++]=T,g[N++]=E;if(c){const A=jE(f.subarray(N*4));x^=A[0],S^=A[1],T^=A[2],E^=A[3],{s0:x,s1:S,s2:T,s3:E}=Jg(p,x,S,T,E),g[N++]=x,g[N++]=S,g[N++]=T,g[N++]=E}return p.fill(0),y},decrypt:(f,m)=>{TE(f);const p=wE(i),h=ht(r),g=J0(f.length,m),y=ht(f),v=ht(g);let x=h[0],S=h[1],T=h[2],E=h[3];for(let N=0;N+4<=y.length;){const A=x,L=S,D=T,q=E;x=y[N+0],S=y[N+1],T=y[N+2],E=y[N+3];const{s0:O,s1:_,s2:Y,s3:H}=SE(p,x,S,T,E);v[N++]=O^A,v[N++]=_^L,v[N++]=Y^D,v[N++]=H^q}return p.fill(0),AE(g,c)}}}),W0=a=>Uint8Array.from(a.split("").map(i=>i.charCodeAt(0))),CE=W0("expand 16-byte k"),DE=W0("expand 32-byte k"),RE=ht(CE),I0=ht(DE);I0.slice();function je(a,i){return a<<i|a>>>32-i}function zu(a){return a.byteOffset%4===0}const fs=64,_E=16,F0=2**32-1,Pg=new Uint32Array;function ME(a,i,r,s,c,f,m,p){const h=c.length,g=new Uint8Array(fs),y=ht(g),v=zu(c)&&zu(f),x=v?ht(c):Pg,S=v?ht(f):Pg;for(let T=0;T<h;m++){if(a(i,r,s,y,m,p),m>=F0)throw new Error("arx: counter overflow");const E=Math.min(fs,h-T);if(v&&E===fs){const N=T/4;if(T%4!==0)throw new Error("arx: invalid block position");for(let A=0,L;A<_E;A++)L=N+A,S[L]=x[L]^y[A];T+=fs;continue}for(let N=0,A;N<E;N++)A=T+N,f[A]=c[A]^g[N];T+=E}}function UE(a,i){const{allowShortKeys:r,extendNonceFn:s,counterLength:c,counterRight:f,rounds:m}=gE({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},i);if(typeof a!="function")throw new Error("core must be a function");return mu(c),mu(m),Kg(f),Kg(r),(p,h,g,y,v=0)=>{jn(p),jn(h),jn(g);const x=g.length;if(y||(y=new Uint8Array(x)),jn(y),mu(v),v<0||v>=F0)throw new Error("arx: counter overflow");if(y.length<x)throw new Error(`arx: output (${y.length}) is shorter than data (${x})`);const S=[];let T=p.length,E,N;if(T===32)E=p.slice(),S.push(E),N=I0;else if(T===16&&r)E=new Uint8Array(32),E.set(p),E.set(p,16),N=RE,S.push(E);else throw new Error(`arx: invalid 32-byte key, got length=${T}`);zu(h)||(h=h.slice(),S.push(h));const A=ht(E);if(s){if(h.length!==24)throw new Error("arx: extended nonce must be 24 bytes");s(N,A,ht(h.subarray(0,16)),A),h=h.subarray(16)}const L=16-c;if(L!==h.length)throw new Error(`arx: nonce must be ${L} or 16 bytes`);if(L!==12){const q=new Uint8Array(12);q.set(h,f?0:12-h.length),h=q,S.push(h)}const D=ht(h);for(ME(a,N,A,D,g,y,v,m);S.length>0;)S.pop().fill(0);return y}}function OE(a,i,r,s,c,f=20){let m=a[0],p=a[1],h=a[2],g=a[3],y=i[0],v=i[1],x=i[2],S=i[3],T=i[4],E=i[5],N=i[6],A=i[7],L=c,D=r[0],q=r[1],O=r[2],_=m,Y=p,H=h,K=g,F=y,re=v,ce=x,oe=S,$=T,z=E,j=N,k=A,W=L,ae=D,C=q,Z=O;for(let ne=0;ne<f;ne+=2)_=_+F|0,W=je(W^_,16),$=$+W|0,F=je(F^$,12),_=_+F|0,W=je(W^_,8),$=$+W|0,F=je(F^$,7),Y=Y+re|0,ae=je(ae^Y,16),z=z+ae|0,re=je(re^z,12),Y=Y+re|0,ae=je(ae^Y,8),z=z+ae|0,re=je(re^z,7),H=H+ce|0,C=je(C^H,16),j=j+C|0,ce=je(ce^j,12),H=H+ce|0,C=je(C^H,8),j=j+C|0,ce=je(ce^j,7),K=K+oe|0,Z=je(Z^K,16),k=k+Z|0,oe=je(oe^k,12),K=K+oe|0,Z=je(Z^K,8),k=k+Z|0,oe=je(oe^k,7),_=_+re|0,Z=je(Z^_,16),j=j+Z|0,re=je(re^j,12),_=_+re|0,Z=je(Z^_,8),j=j+Z|0,re=je(re^j,7),Y=Y+ce|0,W=je(W^Y,16),k=k+W|0,ce=je(ce^k,12),Y=Y+ce|0,W=je(W^Y,8),k=k+W|0,ce=je(ce^k,7),H=H+oe|0,ae=je(ae^H,16),$=$+ae|0,oe=je(oe^$,12),H=H+oe|0,ae=je(ae^H,8),$=$+ae|0,oe=je(oe^$,7),K=K+F|0,C=je(C^K,16),z=z+C|0,F=je(F^z,12),K=K+F|0,C=je(C^K,8),z=z+C|0,F=je(F^z,7);let ee=0;s[ee++]=m+_|0,s[ee++]=p+Y|0,s[ee++]=h+H|0,s[ee++]=g+K|0,s[ee++]=y+F|0,s[ee++]=v+re|0,s[ee++]=x+ce|0,s[ee++]=S+oe|0,s[ee++]=T+$|0,s[ee++]=E+z|0,s[ee++]=N+j|0,s[ee++]=A+k|0,s[ee++]=L+W|0,s[ee++]=D+ae|0,s[ee++]=q+C|0,s[ee++]=O+Z|0}const ey=UE(OE,{counterRight:!1,counterLength:4,allowShortKeys:!1});class ty extends L0{constructor(i,r){super(),this.finished=!1,this.destroyed=!1,nn.hash(i);const s=$i(r);if(this.iHash=i.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const c=this.blockLen,f=new Uint8Array(c);f.set(s.length>c?i.create().update(s).digest():s);for(let m=0;m<f.length;m++)f[m]^=54;this.iHash.update(f),this.oHash=i.create();for(let m=0;m<f.length;m++)f[m]^=106;this.oHash.update(f),f.fill(0)}update(i){return nn.exists(this),this.iHash.update(i),this}digestInto(i){nn.exists(this),nn.bytes(i,this.outputLen),this.finished=!0,this.iHash.digestInto(i),this.oHash.update(i),this.oHash.digestInto(i),this.destroy()}digest(){const i=new Uint8Array(this.oHash.outputLen);return this.digestInto(i),i}_cloneInto(i){i||(i=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:s,finished:c,destroyed:f,blockLen:m,outputLen:p}=this;return i=i,i.finished=c,i.destroyed=f,i.blockLen=m,i.outputLen=p,i.oHash=r._cloneInto(i.oHash),i.iHash=s._cloneInto(i.iHash),i}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const _s=(a,i,r)=>new ty(a,i).update(r).digest();_s.create=(a,i)=>new ty(a,i);function zE(a,i,r){return nn.hash(a),_s(a,$i(r),$i(i))}const yu=new Uint8Array([0]),Wg=new Uint8Array;function BE(a,i,r,s=32){if(nn.hash(a),nn.number(s),s>255*a.outputLen)throw new Error("Length should be <= 255*HashLen");const c=Math.ceil(s/a.outputLen);r===void 0&&(r=Wg);const f=new Uint8Array(c*a.outputLen),m=_s.create(a,i),p=m._cloneInto(),h=new Uint8Array(m.outputLen);for(let g=0;g<c;g++)yu[0]=g+1,p.update(g===0?Wg:h).update(r).update(yu).digestInto(h),f.set(h,a.outputLen*g),m._cloneInto(p);return m.destroy(),p.destroy(),h.fill(0),yu.fill(0),f.slice(0,s)}var kE=Object.defineProperty,He=(a,i)=>{for(var r in i)kE(a,r,{get:i[r],enumerable:!0})},Al=Symbol("verified"),LE=a=>a instanceof Object;function tf(a){if(!LE(a)||typeof a.kind!="number"||typeof a.content!="string"||typeof a.created_at!="number"||typeof a.pubkey!="string"||!a.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(a.tags))return!1;for(let i=0;i<a.tags.length;i++){let r=a.tags[i];if(!Array.isArray(r))return!1;for(let s=0;s<r.length;s++)if(typeof r[s]!="string")return!1}return!0}var HE={};He(HE,{Queue:()=>$E,QueueNode:()=>ny,binarySearch:()=>nf,bytesToHex:()=>dt,hexToBytes:()=>qa,insertEventIntoAscendingList:()=>VE,insertEventIntoDescendingList:()=>YE,normalizeURL:()=>qE,utf8Decoder:()=>Cn,utf8Encoder:()=>Qt});var Cn=new TextDecoder("utf-8"),Qt=new TextEncoder;function qE(a){try{a.indexOf("://")===-1&&(a="wss://"+a);let i=new URL(a);return i.pathname=i.pathname.replace(/\/+/g,"/"),i.pathname.endsWith("/")&&(i.pathname=i.pathname.slice(0,-1)),(i.port==="80"&&i.protocol==="ws:"||i.port==="443"&&i.protocol==="wss:")&&(i.port=""),i.searchParams.sort(),i.hash="",i.toString()}catch{throw new Error(`Invalid URL: ${a}`)}}function YE(a,i){const[r,s]=nf(a,c=>i.id===c.id?0:i.created_at===c.created_at?-1:c.created_at-i.created_at);return s||a.splice(r,0,i),a}function VE(a,i){const[r,s]=nf(a,c=>i.id===c.id?0:i.created_at===c.created_at?-1:i.created_at-c.created_at);return s||a.splice(r,0,i),a}function nf(a,i){let r=0,s=a.length-1;for(;r<=s;){const c=Math.floor((r+s)/2),f=i(a[c]);if(f===0)return[c,!0];f<0?s=c-1:r=c+1}return[r,!1]}var ny=class{value;next=null;prev=null;constructor(a){this.value=a}},$E=class{first;last;constructor(){this.first=null,this.last=null}enqueue(a){const i=new ny(a);return this.last?this.last===this.first?(this.last=i,this.last.prev=this.first,this.first.next=i):(i.prev=this.last,this.last.next=i,this.last=i):(this.first=i,this.last=i),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const i=this.first;return this.first=null,this.last=null,i.value}const a=this.first;return this.first=a.next,this.first&&(this.first.prev=null),a.value}},GE=class{generateSecretKey(){return Li.utils.randomPrivateKey()}getPublicKey(a){return dt(Li.getPublicKey(a))}finalizeEvent(a,i){const r=a;return r.pubkey=dt(Li.getPublicKey(i)),r.id=ms(r),r.sig=dt(Li.sign(ms(r),i)),r[Al]=!0,r}verifyEvent(a){if(typeof a[Al]=="boolean")return a[Al];const i=ms(a);if(i!==a.id)return a[Al]=!1,!1;try{const r=Li.verify(a.sig,i,a.pubkey);return a[Al]=r,r}catch{return a[Al]=!1,!1}}};function ZE(a){if(!tf(a))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,a.pubkey,a.created_at,a.kind,a.tags,a.content])}function ms(a){let i=zl(Qt.encode(ZE(a)));return dt(i)}var Ms=new GE,XE=Ms.generateSecretKey,Us=Ms.getPublicKey,sn=Ms.finalizeEvent,af=Ms.verifyEvent,QE={};He(QE,{Application:()=>Xw,BadgeAward:()=>tw,BadgeDefinition:()=>Hw,BlockedRelaysList:()=>Sw,BookmarkList:()=>xw,Bookmarksets:()=>Bw,Calendar:()=>Fw,CalendarEventRSVP:()=>e2,ChannelCreation:()=>oy,ChannelHideMessage:()=>fy,ChannelMessage:()=>uy,ChannelMetadata:()=>cy,ChannelMuteUser:()=>dy,ClassifiedListing:()=>Jw,ClientAuth:()=>my,CommunitiesList:()=>Ew,CommunityDefinition:()=>a2,CommunityPostApproval:()=>cw,Contacts:()=>IE,CreateOrUpdateProduct:()=>Vw,CreateOrUpdateStall:()=>Yw,Curationsets:()=>kw,Date:()=>Ww,DirectMessageRelaysList:()=>jw,DraftClassifiedListing:()=>Pw,DraftLong:()=>Gw,Emojisets:()=>Zw,EncryptedDirectMessage:()=>FE,EventDeletion:()=>ew,FileMetadata:()=>aw,FileServerPreference:()=>Cw,Followsets:()=>Uw,GenericRepost:()=>cf,Genericlists:()=>Ow,GiftWrap:()=>hy,HTTPAuth:()=>uf,Handlerinformation:()=>n2,Handlerrecommendation:()=>t2,Highlights:()=>yw,InterestsList:()=>Nw,Interestsets:()=>qw,JobFeedback:()=>dw,JobRequest:()=>uw,JobResult:()=>fw,Label:()=>ow,LightningPubRPC:()=>Rw,LiveChatMessage:()=>lw,LiveEvent:()=>Qw,LongFormArticle:()=>$w,Metadata:()=>PE,Mutelist:()=>pw,NWCWalletInfo:()=>Dw,NWCWalletRequest:()=>gy,NWCWalletResponse:()=>_w,NostrConnect:()=>Mw,OpenTimestamps:()=>nw,Pinlist:()=>vw,PrivateDirectMessage:()=>sy,ProblemTracker:()=>iw,ProfileBadges:()=>Lw,PublicChatsList:()=>ww,Reaction:()=>of,RecommendRelay:()=>WE,RelayList:()=>bw,Relaysets:()=>zw,Report:()=>rw,Reporting:()=>sw,Repost:()=>sf,Seal:()=>ry,SearchRelaysList:()=>Tw,ShortTextNote:()=>iy,Time:()=>Iw,UserEmojiList:()=>Aw,UserStatuses:()=>Kw,Zap:()=>gw,ZapGoal:()=>hw,ZapRequest:()=>mw,classifyKind:()=>KE,isAddressableKind:()=>rf,isEphemeralKind:()=>ly,isKind:()=>JE,isRegularKind:()=>ay,isReplaceableKind:()=>lf});function ay(a){return 1e3<=a&&a<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(a)}function lf(a){return[0,3].includes(a)||1e4<=a&&a<2e4}function ly(a){return 2e4<=a&&a<3e4}function rf(a){return 3e4<=a&&a<4e4}function KE(a){return ay(a)?"regular":lf(a)?"replaceable":ly(a)?"ephemeral":rf(a)?"parameterized":"unknown"}function JE(a,i){const r=i instanceof Array?i:[i];return tf(a)&&r.includes(a.kind)||!1}var PE=0,iy=1,WE=2,IE=3,FE=4,ew=5,sf=6,of=7,tw=8,ry=13,sy=14,cf=16,oy=40,cy=41,uy=42,fy=43,dy=44,nw=1040,hy=1059,aw=1063,lw=1311,iw=1971,rw=1984,sw=1984,ow=1985,cw=4550,uw=5999,fw=6999,dw=7e3,hw=9041,mw=9734,gw=9735,yw=9802,pw=1e4,vw=10001,bw=10002,xw=10003,Ew=10004,ww=10005,Sw=10006,Tw=10007,Nw=10015,Aw=10030,jw=10050,Cw=10096,Dw=13194,Rw=21e3,my=22242,gy=23194,_w=23195,Mw=24133,uf=27235,Uw=3e4,Ow=30001,zw=30002,Bw=30003,kw=30004,Lw=30008,Hw=30009,qw=30015,Yw=30017,Vw=30018,$w=30023,Gw=30024,Zw=30030,Xw=30078,Qw=30311,Kw=30315,Jw=30402,Pw=30403,Ww=31922,Iw=31923,Fw=31924,e2=31925,t2=31989,n2=31990,a2=34550,l2={};He(l2,{getHex64:()=>ff,getInt:()=>yy,getSubscriptionId:()=>i2,matchEventId:()=>r2,matchEventKind:()=>o2,matchEventPubkey:()=>s2});function ff(a,i){let r=i.length+3,s=a.indexOf(`"${i}":`)+r,c=a.slice(s).indexOf('"')+s+1;return a.slice(c,c+64)}function yy(a,i){let r=i.length,s=a.indexOf(`"${i}":`)+r+3,c=a.slice(s),f=Math.min(c.indexOf(","),c.indexOf("}"));return parseInt(c.slice(0,f),10)}function i2(a){let i=a.slice(0,22).indexOf('"EVENT"');if(i===-1)return null;let r=a.slice(i+7+1).indexOf('"');if(r===-1)return null;let s=i+7+1+r,c=a.slice(s+1,80).indexOf('"');if(c===-1)return null;let f=s+1+c;return a.slice(s+1,f)}function r2(a,i){return i===ff(a,"id")}function s2(a,i){return i===ff(a,"pubkey")}function o2(a,i){return i===yy(a,"kind")}var c2={};He(c2,{makeAuthEvent:()=>u2});function u2(a,i){return{kind:my,created_at:Math.floor(Date.now()/1e3),tags:[["relay",a],["challenge",i]],content:""}}var f2;try{f2=WebSocket}catch{}var d2;try{d2=WebSocket}catch{}var nt={};He(nt,{BECH32_REGEX:()=>py,Bech32MaxSize:()=>df,NostrTypeGuard:()=>h2,decode:()=>Os,decodeNostrURI:()=>g2,encodeBytes:()=>Bs,naddrEncode:()=>E2,neventEncode:()=>x2,noteEncode:()=>v2,nprofileEncode:()=>b2,npubEncode:()=>p2,nsecEncode:()=>y2});var h2={isNProfile:a=>/^nprofile1[a-z\d]+$/.test(a||""),isNEvent:a=>/^nevent1[a-z\d]+$/.test(a||""),isNAddr:a=>/^naddr1[a-z\d]+$/.test(a||""),isNSec:a=>/^nsec1[a-z\d]{58}$/.test(a||""),isNPub:a=>/^npub1[a-z\d]{58}$/.test(a||""),isNote:a=>/^note1[a-z\d]+$/.test(a||""),isNcryptsec:a=>/^ncryptsec1[a-z\d]+$/.test(a||"")},df=5e3,py=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function m2(a){const i=new Uint8Array(4);return i[0]=a>>24&255,i[1]=a>>16&255,i[2]=a>>8&255,i[3]=a&255,i}function g2(a){try{return a.startsWith("nostr:")&&(a=a.substring(6)),Os(a)}catch{return{type:"invalid",data:null}}}function Os(a){let{prefix:i,words:r}=Rl.decode(a,df),s=new Uint8Array(Rl.fromWords(r));switch(i){case"nprofile":{let c=pu(s);if(!c[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(c[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:dt(c[0][0]),relays:c[1]?c[1].map(f=>Cn.decode(f)):[]}}}case"nevent":{let c=pu(s);if(!c[0]?.[0])throw new Error("missing TLV 0 for nevent");if(c[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(c[2]&&c[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(c[3]&&c[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:dt(c[0][0]),relays:c[1]?c[1].map(f=>Cn.decode(f)):[],author:c[2]?.[0]?dt(c[2][0]):void 0,kind:c[3]?.[0]?parseInt(dt(c[3][0]),16):void 0}}}case"naddr":{let c=pu(s);if(!c[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!c[2]?.[0])throw new Error("missing TLV 2 for naddr");if(c[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!c[3]?.[0])throw new Error("missing TLV 3 for naddr");if(c[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Cn.decode(c[0][0]),pubkey:dt(c[2][0]),kind:parseInt(dt(c[3][0]),16),relays:c[1]?c[1].map(f=>Cn.decode(f)):[]}}}case"nsec":return{type:i,data:s};case"npub":case"note":return{type:i,data:dt(s)};default:throw new Error(`unknown prefix ${i}`)}}function pu(a){let i={},r=a;for(;r.length>0;){let s=r[0],c=r[1],f=r.slice(2,2+c);if(r=r.slice(2+c),f.length<c)throw new Error(`not enough data to read on TLV ${s}`);i[s]=i[s]||[],i[s].push(f)}return i}function y2(a){return Bs("nsec",a)}function p2(a){return Bs("npub",qa(a))}function v2(a){return Bs("note",qa(a))}function zs(a,i){let r=Rl.toWords(i);return Rl.encode(a,r,df)}function Bs(a,i){return zs(a,i)}function b2(a){let i=hf({0:[qa(a.pubkey)],1:(a.relays||[]).map(r=>Qt.encode(r))});return zs("nprofile",i)}function x2(a){let i;a.kind!==void 0&&(i=m2(a.kind));let r=hf({0:[qa(a.id)],1:(a.relays||[]).map(s=>Qt.encode(s)),2:a.author?[qa(a.author)]:[],3:i?[new Uint8Array(i)]:[]});return zs("nevent",r)}function E2(a){let i=new ArrayBuffer(4);new DataView(i).setUint32(0,a.kind,!1);let r=hf({0:[Qt.encode(a.identifier)],1:(a.relays||[]).map(s=>Qt.encode(s)),2:[qa(a.pubkey)],3:[new Uint8Array(i)]});return zs("naddr",r)}function hf(a){let i=[];return Object.entries(a).reverse().forEach(([r,s])=>{s.forEach(c=>{let f=new Uint8Array(c.length+2);f.set([parseInt(r)],0),f.set([c.length],1),f.set(c,2),i.push(f)})}),Ds(...i)}var w2={};He(w2,{decrypt:()=>S2,encrypt:()=>vy});function vy(a,i,r){const s=a instanceof Uint8Array?dt(a):a,c=Ol.getSharedSecret(s,"02"+i),f=by(c);let m=Uint8Array.from(q0(16)),p=Qt.encode(r),h=P0(f,m).encrypt(p),g=_n.encode(new Uint8Array(h)),y=_n.encode(new Uint8Array(m.buffer));return`${g}?iv=${y}`}function S2(a,i,r){const s=a instanceof Uint8Array?dt(a):a;let[c,f]=r.split("?iv="),m=Ol.getSharedSecret(s,"02"+i),p=by(m),h=_n.decode(f),g=_n.decode(c),y=P0(p,h).decrypt(g);return Cn.decode(y)}function by(a){return a.slice(1,33)}var T2={};He(T2,{NIP05_REGEX:()=>mf,isNip05:()=>N2,isValid:()=>C2,queryProfile:()=>xy,searchDomain:()=>j2,useFetchImplementation:()=>A2});var mf=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,N2=a=>mf.test(a||""),ks;try{ks=fetch}catch{}function A2(a){ks=a}async function j2(a,i=""){try{const r=`https://${a}/.well-known/nostr.json?name=${i}`,s=await ks(r,{redirect:"manual"});if(s.status!==200)throw Error("Wrong response code");return(await s.json()).names}catch{return{}}}async function xy(a){const i=a.match(mf);if(!i)return null;const[,r="_",s]=i;try{const c=`https://${s}/.well-known/nostr.json?name=${r}`,f=await ks(c,{redirect:"manual"});if(f.status!==200)throw Error("Wrong response code");const m=await f.json(),p=m.names[r];return p?{pubkey:p,relays:m.relays?.[p]}:null}catch{return null}}async function C2(a,i){const r=await xy(i);return r?r.pubkey===a:!1}var D2={};He(D2,{parse:()=>R2});function R2(a){const i={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let r,s;for(let c=a.tags.length-1;c>=0;c--){const f=a.tags[c];if(f[0]==="e"&&f[1]){const[m,p,h,g,y]=f,v={id:p,relays:h?[h]:[],author:y};if(g==="root"){i.root=v;continue}if(g==="reply"){i.reply=v;continue}if(g==="mention"){i.mentions.push(v);continue}r?s=v:r=v,i.mentions.push(v);continue}if(f[0]==="q"&&f[1]){const[m,p,h]=f;i.quotes.push({id:p,relays:h?[h]:[]})}if(f[0]==="p"&&f[1]){i.profiles.push({pubkey:f[1],relays:f[2]?[f[2]]:[]});continue}}return i.root||(i.root=s||r||i.reply),i.reply||(i.reply=r||i.root),[i.reply,i.root].forEach(c=>{if(!c)return;let f=i.mentions.indexOf(c);if(f!==-1&&i.mentions.splice(f,1),c.author){let m=i.profiles.find(p=>p.pubkey===c.author);m&&m.relays&&(c.relays||(c.relays=[]),m.relays.forEach(p=>{c.relays?.indexOf(p)===-1&&c.relays.push(p)}),m.relays=c.relays)}}),i.mentions.forEach(c=>{if(c.author){let f=i.profiles.find(m=>m.pubkey===c.author);f&&f.relays&&(c.relays||(c.relays=[]),f.relays.forEach(m=>{c.relays.indexOf(m)===-1&&c.relays.push(m)}),f.relays=c.relays)}}),i}var _2={};He(_2,{fetchRelayInformation:()=>U2,useFetchImplementation:()=>M2});var Ey;try{Ey=fetch}catch{}function M2(a){Ey=a}async function U2(a){return await(await fetch(a.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var O2={};He(O2,{fastEventHash:()=>Sy,getPow:()=>wy,minePow:()=>z2});function wy(a){let i=0;for(let r=0;r<64;r+=8){const s=parseInt(a.substring(r,r+8),16);if(s===0)i+=32;else{i+=Math.clz32(s);break}}return i}function z2(a,i){let r=0;const s=a,c=["nonce",r.toString(),i.toString()];for(s.tags.push(c);;){const f=Math.floor(new Date().getTime()/1e3);if(f!==s.created_at&&(r=0,s.created_at=f),c[1]=(++r).toString(),s.id=Sy(s),wy(s.id)>=i)break}return s}function Sy(a){return dt(zl(Qt.encode(JSON.stringify([0,a.pubkey,a.created_at,a.kind,a.tags,a.content]))))}var B2={};He(B2,{unwrapEvent:()=>K2,unwrapManyEvents:()=>J2,wrapEvent:()=>By,wrapManyEvents:()=>Q2});var k2={};He(k2,{createRumor:()=>My,createSeal:()=>Uy,createWrap:()=>Oy,unwrapEvent:()=>bf,unwrapManyEvents:()=>zy,wrapEvent:()=>Es,wrapManyEvents:()=>Z2});var L2={};He(L2,{decrypt:()=>vf,encrypt:()=>pf,getConversationKey:()=>gf,v2:()=>$2});var Ty=1,Ny=65535;function gf(a,i){const r=Ol.getSharedSecret(a,"02"+i).subarray(1,33);return zE(zl,r,"nip44-v2")}function Ay(a,i){const r=BE(zl,a,i,76);return{chacha_key:r.subarray(0,32),chacha_nonce:r.subarray(32,44),hmac_key:r.subarray(44,76)}}function yf(a){if(!Number.isSafeInteger(a)||a<1)throw new Error("expected positive integer");if(a<=32)return 32;const i=1<<Math.floor(Math.log2(a-1))+1,r=i<=256?32:i/8;return r*(Math.floor((a-1)/r)+1)}function H2(a){if(!Number.isSafeInteger(a)||a<Ty||a>Ny)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const i=new Uint8Array(2);return new DataView(i.buffer).setUint16(0,a,!1),i}function q2(a){const i=Qt.encode(a),r=i.length,s=H2(r),c=new Uint8Array(yf(r)-r);return Ds(s,i,c)}function Y2(a){const i=new DataView(a.buffer).getUint16(0),r=a.subarray(2,2+i);if(i<Ty||i>Ny||r.length!==i||a.length!==2+yf(i))throw new Error("invalid padding");return Cn.decode(r)}function jy(a,i,r){if(r.length!==32)throw new Error("AAD associated data must be 32 bytes");const s=Ds(r,i);return _s(zl,a,s)}function V2(a){if(typeof a!="string")throw new Error("payload must be a valid string");const i=a.length;if(i<132||i>87472)throw new Error("invalid payload length: "+i);if(a[0]==="#")throw new Error("unknown encryption version");let r;try{r=_n.decode(a)}catch(f){throw new Error("invalid base64: "+f.message)}const s=r.length;if(s<99||s>65603)throw new Error("invalid data length: "+s);const c=r[0];if(c!==2)throw new Error("unknown encryption version "+c);return{nonce:r.subarray(1,33),ciphertext:r.subarray(33,-32),mac:r.subarray(-32)}}function pf(a,i,r=q0(32)){const{chacha_key:s,chacha_nonce:c,hmac_key:f}=Ay(i,r),m=q2(a),p=ey(s,c,m),h=jy(f,p,r);return _n.encode(Ds(new Uint8Array([2]),r,p,h))}function vf(a,i){const{nonce:r,ciphertext:s,mac:c}=V2(a),{chacha_key:f,chacha_nonce:m,hmac_key:p}=Ay(i,r),h=jy(p,s,r);if(!yE(h,c))throw new Error("invalid MAC");const g=ey(f,m,s);return Y2(g)}var $2={utils:{getConversationKey:gf,calcPaddedLen:yf},encrypt:pf,decrypt:vf},G2=2*24*60*60,Cy=()=>Math.round(Date.now()/1e3),Dy=()=>Math.round(Cy()-Math.random()*G2),Ry=(a,i)=>gf(a,i),_y=(a,i,r)=>pf(JSON.stringify(a),Ry(i,r)),Ig=(a,i)=>JSON.parse(vf(a.content,Ry(i,a.pubkey)));function My(a,i){const r={created_at:Cy(),content:"",tags:[],...a,pubkey:Us(i)};return r.id=ms(r),r}function Uy(a,i,r){return sn({kind:ry,content:_y(a,i,r),created_at:Dy(),tags:[]},i)}function Oy(a,i){const r=XE();return sn({kind:hy,content:_y(a,r,i),created_at:Dy(),tags:[["p",i]]},r)}function Es(a,i,r){const s=My(a,i),c=Uy(s,i,r);return Oy(c,r)}function Z2(a,i,r){if(!r||r.length===0)throw new Error("At least one recipient is required.");const s=Us(i),c=[Es(a,i,s)];return r.forEach(f=>{c.push(Es(a,i,f))}),c}function bf(a,i){const r=Ig(a,i);return Ig(r,i)}function zy(a,i){let r=[];return a.forEach(s=>{r.push(bf(s,i))}),r.sort((s,c)=>s.created_at-c.created_at),r}function X2(a,i,r,s){const c={created_at:Math.ceil(Date.now()/1e3),kind:sy,tags:[],content:i};return(Array.isArray(a)?a:[a]).forEach(({publicKey:m,relayUrl:p})=>{c.tags.push(p?["p",m,p]:["p",m])}),s&&c.tags.push(["e",s.eventId,s.relayUrl||"","reply"]),r&&c.tags.push(["subject",r]),c}function By(a,i,r,s,c){const f=X2(i,r,s,c);return Es(f,a,i.publicKey)}function Q2(a,i,r,s,c){if(!i||i.length===0)throw new Error("At least one recipient is required.");return[{publicKey:Us(a)},...i].map(m=>By(a,m,r,s,c))}var K2=bf,J2=zy,P2={};He(P2,{finishRepostEvent:()=>W2,getRepostedEvent:()=>I2,getRepostedEventPointer:()=>ky});function W2(a,i,r,s){let c;const f=[...a.tags??[],["e",i.id,r],["p",i.pubkey]];return i.kind===iy?c=sf:(c=cf,f.push(["k",String(i.kind)])),sn({kind:c,tags:f,content:a.content===""||i.tags?.find(m=>m[0]==="-")?"":JSON.stringify(i),created_at:a.created_at},s)}function ky(a){if(![sf,cf].includes(a.kind))return;let i,r;for(let s=a.tags.length-1;s>=0&&(i===void 0||r===void 0);s--){const c=a.tags[s];c.length>=2&&(c[0]==="e"&&i===void 0?i=c:c[0]==="p"&&r===void 0&&(r=c))}if(i!==void 0)return{id:i[1],relays:[i[2],r?.[2]].filter(s=>typeof s=="string"),author:r?.[1]}}function I2(a,{skipVerification:i}={}){const r=ky(a);if(r===void 0||a.content==="")return;let s;try{s=JSON.parse(a.content)}catch{return}if(s.id===r.id&&!(!i&&!af(s)))return s}var F2={};He(F2,{NOSTR_URI_REGEX:()=>xf,parse:()=>tS,test:()=>eS});var xf=new RegExp(`nostr:(${py.source})`);function eS(a){return typeof a=="string"&&new RegExp(`^${xf.source}$`).test(a)}function tS(a){const i=a.match(new RegExp(`^${xf.source}$`));if(!i)throw new Error(`Invalid Nostr URI: ${a}`);return{uri:i[0],value:i[1],decoded:Os(i[1])}}var nS={};He(nS,{finishReactionEvent:()=>aS,getReactedEventPointer:()=>lS});function aS(a,i,r){const s=i.tags.filter(c=>c.length>=2&&(c[0]==="e"||c[0]==="p"));return sn({...a,kind:of,tags:[...a.tags??[],...s,["e",i.id],["p",i.pubkey]],content:a.content??"+"},r)}function lS(a){if(a.kind!==of)return;let i,r;for(let s=a.tags.length-1;s>=0&&(i===void 0||r===void 0);s--){const c=a.tags[s];c.length>=2&&(c[0]==="e"&&i===void 0?i=c:c[0]==="p"&&r===void 0&&(r=c))}if(!(i===void 0||r===void 0))return{id:i[1],relays:[i[2],r[2]].filter(s=>s!==void 0),author:r[1]}}var iS={};He(iS,{parse:()=>sS});var rS=/\W/m,Fg=/\W |\W$|$|,| /m;function*sS(a){const i=a.length;let r=0,s=0;for(;s<i;){let c=a.indexOf(":",s);if(c===-1)break;if(a.substring(c-5,c)==="nostr"){const f=a.substring(c+60).match(rS),m=f?c+60+f.index:i;try{let p,{data:h,type:g}=Os(a.substring(c+1,m));switch(g){case"npub":p={pubkey:h};break;case"nsec":case"note":s=m+1;continue;default:p=h}r!==c-5&&(yield{type:"text",text:a.substring(r,c-5)}),yield{type:"reference",pointer:p},s=m,r=s;continue}catch{s=c+1;continue}}else if(a.substring(c-5,c)==="https"||a.substring(c-4,c)==="http"){const f=a.substring(c+4).match(Fg),m=f?c+4+f.index:i,p=a[c-1]==="s"?5:4;try{let h=new URL(a.substring(c-p,m));if(h.hostname.indexOf(".")===-1)throw new Error("invalid url");if(r!==c-p&&(yield{type:"text",text:a.substring(r,c-p)}),h.pathname.endsWith(".png")||h.pathname.endsWith(".jpg")||h.pathname.endsWith(".jpeg")||h.pathname.endsWith(".gif")||h.pathname.endsWith(".webp")){yield{type:"image",url:h.toString()},s=m,r=s;continue}if(h.pathname.endsWith(".mp4")||h.pathname.endsWith(".avi")||h.pathname.endsWith(".webm")||h.pathname.endsWith(".mkv")){yield{type:"video",url:h.toString()},s=m,r=s;continue}if(h.pathname.endsWith(".mp3")||h.pathname.endsWith(".aac")||h.pathname.endsWith(".ogg")||h.pathname.endsWith(".opus")){yield{type:"audio",url:h.toString()},s=m,r=s;continue}yield{type:"url",url:h.toString()},s=m,r=s;continue}catch{s=m+1;continue}}else if(a.substring(c-3,c)==="wss"||a.substring(c-2,c)==="ws"){const f=a.substring(c+4).match(Fg),m=f?c+4+f.index:i,p=a[c-1]==="s"?3:2;try{let h=new URL(a.substring(c-p,m));if(h.hostname.indexOf(".")===-1)throw new Error("invalid ws url");r!==c-p&&(yield{type:"text",text:a.substring(r,c-p)}),yield{type:"relay",url:h.toString()},s=m,r=s;continue}catch{s=m+1;continue}}else{s=c+1;continue}}r!==i&&(yield{type:"text",text:a.substring(r)})}var oS={};He(oS,{channelCreateEvent:()=>cS,channelHideMessageEvent:()=>dS,channelMessageEvent:()=>fS,channelMetadataEvent:()=>uS,channelMuteUserEvent:()=>hS});var cS=(a,i)=>{let r;if(typeof a.content=="object")r=JSON.stringify(a.content);else if(typeof a.content=="string")r=a.content;else return;return sn({kind:oy,tags:[...a.tags??[]],content:r,created_at:a.created_at},i)},uS=(a,i)=>{let r;if(typeof a.content=="object")r=JSON.stringify(a.content);else if(typeof a.content=="string")r=a.content;else return;return sn({kind:cy,tags:[["e",a.channel_create_event_id],...a.tags??[]],content:r,created_at:a.created_at},i)},fS=(a,i)=>{const r=[["e",a.channel_create_event_id,a.relay_url,"root"]];return a.reply_to_channel_message_event_id&&r.push(["e",a.reply_to_channel_message_event_id,a.relay_url,"reply"]),sn({kind:uy,tags:[...r,...a.tags??[]],content:a.content,created_at:a.created_at},i)},dS=(a,i)=>{let r;if(typeof a.content=="object")r=JSON.stringify(a.content);else if(typeof a.content=="string")r=a.content;else return;return sn({kind:fy,tags:[["e",a.channel_message_event_id],...a.tags??[]],content:r,created_at:a.created_at},i)},hS=(a,i)=>{let r;if(typeof a.content=="object")r=JSON.stringify(a.content);else if(typeof a.content=="string")r=a.content;else return;return sn({kind:dy,tags:[["p",a.pubkey_to_mute],...a.tags??[]],content:r,created_at:a.created_at},i)},mS={};He(mS,{EMOJI_SHORTCODE_REGEX:()=>Ly,matchAll:()=>gS,regex:()=>Ef,replaceAll:()=>yS});var Ly=/:(\w+):/,Ef=()=>new RegExp(`\\B${Ly.source}\\B`,"g");function*gS(a){const i=a.matchAll(Ef());for(const r of i)try{const[s,c]=r;yield{shortcode:s,name:c,start:r.index,end:r.index+s.length}}catch{}}function yS(a,i){return a.replaceAll(Ef(),(r,s)=>i({shortcode:r,name:s}))}var pS={};He(pS,{useFetchImplementation:()=>vS,validateGithub:()=>bS});var wf;try{wf=fetch}catch{}function vS(a){wf=a}async function bS(a,i,r){try{return await(await wf(`https://gist.github.com/${i}/${r}/raw`)).text()===`Verifying that I control the following Nostr public key: ${a}`}catch{return!1}}var xS={};He(xS,{makeNwcRequestEvent:()=>wS,parseConnectionString:()=>ES});function ES(a){const{pathname:i,searchParams:r}=new URL(a),s=i,c=r.get("relay"),f=r.get("secret");if(!s||!c||!f)throw new Error("invalid connection string");return{pubkey:s,relay:c,secret:f}}async function wS(a,i,r){const c=vy(i,a,JSON.stringify({method:"pay_invoice",params:{invoice:r}})),f={kind:gy,created_at:Math.round(Date.now()/1e3),content:c,tags:[["p",a]]};return sn(f,i)}var SS={};He(SS,{normalizeIdentifier:()=>TS});function TS(a){return a=a.trim().toLowerCase(),a=a.normalize("NFKC"),Array.from(a).map(i=>new RegExp("\\p{Letter}","u").test(i)||new RegExp("\\p{Number}","u").test(i)?i:"-").join("")}var NS={};He(NS,{getSatoshisAmountFromBolt11:()=>_S,getZapEndpoint:()=>jS,makeZapReceipt:()=>RS,makeZapRequest:()=>CS,useFetchImplementation:()=>AS,validateZapRequest:()=>DS});var Sf;try{Sf=fetch}catch{}function AS(a){Sf=a}async function jS(a){try{let i="",{lud06:r,lud16:s}=JSON.parse(a.content);if(r){let{words:m}=Rl.decode(r,1e3),p=Rl.fromWords(m);i=Cn.decode(p)}else if(s){let[m,p]=s.split("@");i=new URL(`/.well-known/lnurlp/${m}`,`https://${p}`).toString()}else return null;let f=await(await Sf(i)).json();if(f.allowsNostr&&f.nostrPubkey)return f.callback}catch{}return null}function CS({profile:a,event:i,amount:r,relays:s,comment:c=""}){if(!r)throw new Error("amount not given");if(!a)throw new Error("profile not given");let f={kind:9734,created_at:Math.round(Date.now()/1e3),content:c,tags:[["p",a],["amount",r.toString()],["relays",...s]]};if(i&&typeof i=="string"&&f.tags.push(["e",i]),i&&typeof i=="object"){if(lf(i.kind)){const m=["a",`${i.kind}:${i.pubkey}:`];f.tags.push(m)}else if(rf(i.kind)){let m=i.tags.find(([h,g])=>h==="d"&&g);if(!m)throw new Error("d tag not found or is empty");const p=["a",`${i.kind}:${i.pubkey}:${m[1]}`];f.tags.push(p)}}return f}function DS(a){let i;try{i=JSON.parse(a)}catch{return"Invalid zap request JSON."}if(!tf(i))return"Zap request is not a valid Nostr event.";if(!af(i))return"Invalid signature on zap request.";let r=i.tags.find(([f,m])=>f==="p"&&m);if(!r)return"Zap request doesn't have a 'p' tag.";if(!r[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let s=i.tags.find(([f,m])=>f==="e"&&m);return s&&!s[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":i.tags.find(([f,m])=>f==="relays"&&m)?null:"Zap request doesn't have a 'relays' tag."}function RS({zapRequest:a,preimage:i,bolt11:r,paidAt:s}){let c=JSON.parse(a),f=c.tags.filter(([p])=>p==="e"||p==="p"||p==="a"),m={kind:9735,created_at:Math.round(s.getTime()/1e3),content:"",tags:[...f,["P",c.pubkey],["bolt11",r],["description",a]]};return i&&m.tags.push(["preimage",i]),m}function _S(a){if(a.length<50)return 0;a=a.substring(0,50);const i=a.lastIndexOf("1");if(i===-1)return 0;const r=a.substring(0,i);if(!r.startsWith("lnbc"))return 0;const s=r.substring(4);if(s.length<1)return 0;const c=s[s.length-1],f=c.charCodeAt(0)-48,m=f>=0&&f<=9;let p=s.length-1;if(m&&p++,p<1)return 0;const h=parseInt(s.substring(0,p));switch(c){case"m":return h*1e5;case"u":return h*100;case"n":return h/10;case"p":return h/1e4;default:return h*1e8}}var MS={};He(MS,{getToken:()=>US,hashPayload:()=>Tf,unpackEventFromToken:()=>qy,validateEvent:()=>Xy,validateEventKind:()=>Vy,validateEventMethodTag:()=>Gy,validateEventPayloadTag:()=>Zy,validateEventTimestamp:()=>Yy,validateEventUrlTag:()=>$y,validateToken:()=>OS});var Hy="Nostr ";async function US(a,i,r,s=!1,c){const f={kind:uf,tags:[["u",a],["method",i]],created_at:Math.round(new Date().getTime()/1e3),content:""};c&&f.tags.push(["payload",Tf(c)]);const m=await r(f);return(s?Hy:"")+_n.encode(Qt.encode(JSON.stringify(m)))}async function OS(a,i,r){const s=await qy(a).catch(f=>{throw f});return await Xy(s,i,r).catch(f=>{throw f})}async function qy(a){if(!a)throw new Error("Missing token");a=a.replace(Hy,"");const i=Cn.decode(_n.decode(a));if(!i||i.length===0||!i.startsWith("{"))throw new Error("Invalid token");return JSON.parse(i)}function Yy(a){return a.created_at?Math.round(new Date().getTime()/1e3)-a.created_at<60:!1}function Vy(a){return a.kind===uf}function $y(a,i){const r=a.tags.find(s=>s[0]==="u");return r?r.length>0&&r[1]===i:!1}function Gy(a,i){const r=a.tags.find(s=>s[0]==="method");return r?r.length>0&&r[1].toLowerCase()===i.toLowerCase():!1}function Tf(a){const i=zl(Qt.encode(JSON.stringify(a)));return dt(i)}function Zy(a,i){const r=a.tags.find(c=>c[0]==="payload");if(!r)return!1;const s=Tf(i);return r.length>0&&r[1]===s}async function Xy(a,i,r,s){if(!af(a))throw new Error("Invalid nostr event, signature invalid");if(!Vy(a))throw new Error("Invalid nostr event, kind invalid");if(!Yy(a))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!$y(a,i))throw new Error("Invalid nostr event, url tag invalid");if(!Gy(a,r))throw new Error("Invalid nostr event, method tag invalid");if(s&&typeof s=="object"&&Object.keys(s).length>0&&!Zy(a,s))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}class zS{constructor(i){this.url=i,this.ws=null,this.connected=!1,this.subscriptions=new Map,this.messageHandlers=new Map}async connect(){return new Promise((i,r)=>{try{this.ws=new WebSocket(this.url),this.ws.onopen=()=>{console.log(`Connected to relay: ${this.url}`),this.connected=!0,i()},this.ws.onmessage=s=>{try{const c=JSON.parse(s.data);this.handleMessage(c)}catch(c){console.error("Failed to parse message:",c)}},this.ws.onerror=s=>{console.error(`Relay error (${this.url}):`,s),r(s)},this.ws.onclose=()=>{console.log(`Disconnected from relay: ${this.url}`),this.connected=!1}}catch(s){r(s)}})}handleMessage(i){const[r,s,...c]=i;if(r==="EVENT"&&this.subscriptions.has(s)){const f=this.subscriptions.get(s);f&&c[0]&&f(c[0])}else if(r==="EOSE"&&this.messageHandlers.has(s)){const f=this.messageHandlers.get(s);f.onEose&&f.onEose()}}subscribe(i,r,s,c){if(!this.connected){console.error("Not connected to relay");return}this.subscriptions.set(r,s),this.messageHandlers.set(r,{onEvent:s,onEose:c});const f=["REQ",r,...i];this.ws.send(JSON.stringify(f))}unsubscribe(i){if(!this.connected)return;this.subscriptions.delete(i),this.messageHandlers.delete(i);const r=["CLOSE",i];this.ws.send(JSON.stringify(r))}close(){this.ws&&this.connected&&this.ws.close()}}class BS{constructor(){this.relays=new Map,this.defaultRelays=["wss://relay.nostrcal.com","wss://filter.nostrcal.com","wss://relay.damus.io","wss://relay.nostr.band","wss://nos.lol","wss://relay.primal.net"],this.eventCache=new Map,this.profileCache=new Map,this.cacheTimeout=5*60*1e3}async connect(i=this.defaultRelays){const r=i.map(async s=>{try{const c=new zS(s);await c.connect(),this.relays.set(s,c)}catch(c){console.error(`Failed to connect to ${s}:`,c)}});await Promise.allSettled(r),console.log(`Connected to ${this.relays.size} relays`)}async getProfile(i){return new Promise(r=>{const s=[];let c=0;const f=this.relays.size;let m=i;i.startsWith("npub")&&(m=nt.decode(i).data);const p="profile-"+Math.random().toString(36).substring(7),h={kinds:[0],authors:[m],limit:1};this.relays.forEach((g,y)=>{g.subscribe([h],p,v=>{if(v&&v.content)try{const x=JSON.parse(v.content);s.push({...x,relay:y,created_at:v.created_at})}catch(x){console.error("Failed to parse profile metadata:",x)}},()=>{if(c++,c===f)if(this.relays.forEach(v=>{v.unsubscribe(p)}),s.length>0){s.sort((x,S)=>S.created_at-x.created_at);const v=s[0];delete v.created_at,delete v.relay,r(v)}else r(null)})}),setTimeout(()=>{if(this.relays.forEach(g=>{g.unsubscribe(p)}),s.length>0){s.sort((y,v)=>v.created_at-y.created_at);const g=s[0];delete g.created_at,delete g.relay,r(g)}else r(null)},5e3)})}async getCalendars(i){return new Promise(r=>{const s=[];let c=0;const f=this.relays.size;let m=i;i.startsWith("npub")&&(m=nt.decode(i).data);const p="calendars-"+Math.random().toString(36).substring(7),h={kinds:[31924],authors:[m]};this.relays.forEach((g,y)=>{g.subscribe([h],p,v=>{if(v)try{const x=v.tags.find(D=>D[0]==="d")?.[1],S=v.tags.find(D=>D[0]==="color")?.[1],T=v.tags.find(D=>D[0]==="title")?.[1];let E={},N=T||"Untitled Calendar",A="";if(v.content)try{E=JSON.parse(v.content),N=E.name||T||"Untitled Calendar",A=E.description||""}catch{v.content.length<100?N=v.content:A=v.content}const L={id:v.id,dTag:x||v.id,name:N,description:A,color:S||"#1a73e8",created_at:v.created_at,pubkey:v.pubkey,relay:y,rawEvent:v,eventReferences:v.tags.filter(D=>D[0]==="a").map(D=>D[1])};s.push(L)}catch(x){console.error("Failed to parse calendar data:",x)}},()=>{if(c++,c===f){this.relays.forEach(x=>{x.unsubscribe(p)});const v=s.reduce((x,S)=>{const T=x.find(E=>E.dTag===S.dTag);return!T||S.created_at>T.created_at?x.filter(E=>E.dTag!==S.dTag).concat(S):x},[]);v.sort((x,S)=>S.created_at-x.created_at),r(v)}})}),setTimeout(()=>{this.relays.forEach(y=>{y.unsubscribe(p)});const g=s.reduce((y,v)=>{const x=y.find(S=>S.dTag===v.dTag);return!x||v.created_at>x.created_at?y.filter(S=>S.dTag!==v.dTag).concat(v):y},[]);g.sort((y,v)=>v.created_at-y.created_at),r(g)},5e3)})}async createCalendar(i,r,s,c){return new Promise((f,m)=>{try{const p=Math.random().toString(36).substring(2,15),h={kind:31924,created_at:Math.floor(Date.now()/1e3),tags:[["d",p],["color",s],["title",i]],content:JSON.stringify({name:i,description:r})};console.log("Would create calendar event:",h),f({...h,dTag:p,name:i,description:r,color:s})}catch(p){m(p)}})}async createEvent(i){return new Promise((r,s)=>{try{const{kind:c,title:f,description:m,summary:p,image:h,start:g,end:y,location:v,geohash:x,hashtags:S,startTimezone:T,endTimezone:E}=i,A=[["d",Math.random().toString(36).substring(2,15)],["title",f]];c===31922?(A.push(["start",g]),y&&y!==g&&A.push(["end",y])):c===31923&&(A.push(["start",g]),y&&y!==g&&A.push(["end",y]),T&&A.push(["start_tzid",T]),E?A.push(["end_tzid",E]):T&&A.push(["end_tzid",T])),p&&A.push(["summary",p]),h&&A.push(["image",h]),v&&A.push(["location",v]),x&&A.push(["g",x]),S&&S.split(",").map(q=>q.trim().replace(/^#/,"")).filter(Boolean).forEach(q=>A.push(["t",q]));const L={kind:c,created_at:Math.floor(Date.now()/1e3),tags:A,content:m||""};console.log("Created event structure:",L),console.log("Event tags:",A),console.log("Event content:",m||""),r(L)}catch(c){s(c)}})}async publishEvent(i){const r=[];this.relays.forEach((f,m)=>{f.connected&&r.push(new Promise((p,h)=>{const g=["EVENT",i];f.ws.send(JSON.stringify(g)),setTimeout(()=>{p({relay:m,success:!0})},1e3)}))});const c=(await Promise.allSettled(r)).filter(f=>f.status==="fulfilled").length;return console.log(`Published event to ${c}/${this.relays.size} relays`),{successful:c,total:this.relays.size}}async getEvents(i,r=[31922,31923]){console.log("nostrPool.getEvents called with pubkey:",i,"kinds:",r);const s=`${i}-${r.join(",")}`,c=this.eventCache.get(s);return c&&Date.now()-c.timestamp<this.cacheTimeout?(console.log("Returning cached events for:",s),c.events):new Promise(f=>{const m=[];let p=0;const h=this.relays.size;let g=!1,y=i;i.startsWith("npub")&&(y=nt.decode(i).data),console.log("Querying events with hex pubkey:",y,"kinds:",r);const v="events-"+Math.random().toString(36).substring(7),x={kinds:r,authors:[y]},S=()=>{g||p>=Math.min(2,this.relays.size)&&m.length>0&&(g=!0,console.log("Early resolve with",m.length,"events from",p,"relays"),this.eventCache.set(s,{events:[...m],timestamp:Date.now()}),f(m))};this.relays.forEach((T,E)=>{T.subscribe([x],v,N=>{if(N){console.log("Received event from relay:",E,"Kind:",N.kind,"Event:",N);try{const A=N.tags.find(oe=>oe[0]==="title")?.[1],L=N.tags.find(oe=>oe[0]==="name")?.[1],D=N.tags.find(oe=>oe[0]==="summary")?.[1],q=N.tags.find(oe=>oe[0]==="start")?.[1],O=N.tags.find(oe=>oe[0]==="end")?.[1],_=N.tags.find(oe=>oe[0]==="location")?.[1],Y=N.tags.find(oe=>oe[0]==="start_tzid")?.[1],H=N.tags.find(oe=>oe[0]==="end_tzid")?.[1];let K={},F=A||L||"Untitled Event",re=D||"";if(N.content)try{K=JSON.parse(N.content),F=K.title||A||K.name||L||"Untitled Event",re=K.summary||D||K.description||""}catch{re=N.content}const ce={id:N.id,kind:N.kind,title:F,description:re,start:q,end:O,location:_,startTimezone:Y,endTimezone:H,allDay:N.kind===31922,created_at:N.created_at,pubkey:N.pubkey,relay:E,rawEvent:N};m.push(ce),S()}catch(A){console.error("Failed to parse event data:",A)}}},()=>{if(p++,S(),p===h&&!g){this.relays.forEach(A=>{A.unsubscribe(v)});const N=m.reduce((A,L)=>{const D=A.find(q=>q.id===L.id);return!D||L.created_at>D.created_at?A.filter(q=>q.id!==L.id).concat(L):A},[]);N.sort((A,L)=>L.created_at-A.created_at),this.eventCache.set(s,{events:N,timestamp:Date.now()}),f(N)}})}),setTimeout(()=>{if(g)return;this.relays.forEach(E=>{E.unsubscribe(v)});const T=m.reduce((E,N)=>{const A=E.find(L=>L.id===N.id);return!A||N.created_at>A.created_at?E.filter(L=>L.id!==N.id).concat(N):E},[]);T.sort((E,N)=>N.created_at-E.created_at),this.eventCache.set(s,{events:T,timestamp:Date.now()}),f(T)},5e3)})}async getAllUserEvents(i){console.log("nostrPool.getAllUserEvents called with pubkey:",i);const r=`all-${i}`,s=this.eventCache.get(r);if(s&&Date.now()-s.timestamp<this.cacheTimeout)return console.log("Returning cached all events for:",r),s.events;try{let c=i;i.startsWith("npub")&&(c=nt.decode(i).data);const[f,m,p]=await Promise.all([this.getEvents(c,[31922]),this.getEvents(c,[31923]),this.getRSVPs(c)]),h={dayEvents:f,timeEvents:m,rsvpEvents:p};return this.eventCache.set(r,{events:h,timestamp:Date.now()}),h}catch(c){return console.error("Failed to load all user events:",c),{dayEvents:[],timeEvents:[],rsvpEvents:[]}}}async getRSVPs(i){return console.log("nostrPool.getRSVPs called with pubkey:",i),new Promise(r=>{const s=[],c=new Set;let f=0;const m=this.relays.size;let p=i;i.startsWith("npub")&&(p=nt.decode(i).data),console.log("Querying RSVPs with hex pubkey:",p);const h="rsvps-"+Math.random().toString(36).substring(7),g={kinds:[31925],authors:[p]};this.relays.forEach((y,v)=>{y.subscribe([g],h,x=>{if(x)try{const S=x.tags.find(E=>E[0]==="e")?.[1],T=x.tags.find(E=>E[0]==="status")?.[1];T==="accepted"&&S&&(c.add(S),s.push({id:x.id,originalEventId:S,status:T,created_at:x.created_at,pubkey:x.pubkey,relay:v}))}catch(S){console.error("Failed to parse RSVP data:",S)}},()=>{f++,f===m&&(this.relays.forEach(x=>{x.unsubscribe(h)}),c.size>0?this.getEventsByIds(Array.from(c)).then(x=>{const S=x.map(T=>{const E=s.find(N=>N.originalEventId===T.id);return{...T,rsvpId:E?.id,rsvpEventId:E?.id,isRSVP:!0}});r(S)}):r([]))})}),setTimeout(()=>{this.relays.forEach(y=>{y.unsubscribe(h)}),c.size>0?this.getEventsByIds(Array.from(c)).then(y=>{const v=y.map(x=>{const S=s.find(T=>T.originalEventId===x.id);return{...x,rsvpId:S?.id,rsvpEventId:S?.id,isRSVP:!0}});r(v)}):r([])},5e3)})}async getEventsByIds(i){return console.log("nostrPool.getEventsByIds called with eventIds:",i),new Promise(r=>{const s=[];let c=0;const f=this.relays.size,m="events-by-id-"+Math.random().toString(36).substring(7),p={ids:i};this.relays.forEach((h,g)=>{h.subscribe([p],m,y=>{if(y){console.log("Received original event for RSVP from relay:",g,"Kind:",y.kind,"Event:",y);try{const v=y.tags.find(K=>K[0]==="name")?.[1],x=y.tags.find(K=>K[0]==="title")?.[1],S=y.tags.find(K=>K[0]==="summary")?.[1],T=y.tags.find(K=>K[0]==="start")?.[1],E=y.tags.find(K=>K[0]==="end")?.[1],N=y.tags.find(K=>K[0]==="location")?.[1],A=y.tags.find(K=>K[0]==="start_tzid")?.[1],L=y.tags.find(K=>K[0]==="end_tzid")?.[1];let D={},q=x||v||"Untitled Event",O=S||"",_=T,Y=E;if(T&&!isNaN(T)&&(_=new Date(parseInt(T)*1e3).toISOString()),E&&!isNaN(E)&&(Y=new Date(parseInt(E)*1e3).toISOString()),y.content)try{D=JSON.parse(y.content),q=D.name||x||v||"Untitled Event",O=D.summary||S||D.description||""}catch{y.content&&!x&&!v&&(O=y.content)}const H={id:y.id,kind:y.kind,title:q,description:O,start:_,end:Y,location:N,startTimezone:A,endTimezone:L,allDay:y.kind===31922,created_at:y.created_at,pubkey:y.pubkey,relay:g,rawEvent:y,isRSVP:!0};s.push(H)}catch(v){console.error("Failed to parse original event data:",v)}}},()=>{if(c++,c===f){this.relays.forEach(v=>{v.unsubscribe(m)});const y=s.reduce((v,x)=>{const S=v.find(T=>T.id===x.id);return!S||x.created_at>S.created_at?v.filter(T=>T.id!==x.id).concat(x):v},[]);y.sort((v,x)=>x.created_at-v.created_at),console.log("Resolved original events for RSVPs:",y),r(y)}})}),setTimeout(()=>{this.relays.forEach(g=>{g.unsubscribe(m)});const h=s.reduce((g,y)=>{const v=g.find(x=>x.id===y.id);return!v||y.created_at>v.created_at?g.filter(x=>x.id!==y.id).concat(y):g},[]);h.sort((g,y)=>y.created_at-g.created_at),console.log("Resolved original events for RSVPs (timeout):",h),r(h)},5e3)})}async getEventsByReferences(i){return new Promise(r=>{const s=[];let c=0;const f=this.relays.size,m="ref-events-"+Math.random().toString(36).substring(7),p=i.map(h=>{const[g,y,v]=h.split(":");return{kinds:[parseInt(g)],authors:[y],"#d":v?[v]:void 0}}).filter(h=>h["#d"]);if(p.length===0){r([]);return}this.relays.forEach((h,g)=>{h.subscribe(p,m,y=>{if(y)try{const v=y.tags.find(Y=>Y[0]==="title")?.[1],x=y.tags.find(Y=>Y[0]==="name")?.[1],S=y.tags.find(Y=>Y[0]==="summary")?.[1],T=y.tags.find(Y=>Y[0]==="start")?.[1],E=y.tags.find(Y=>Y[0]==="end")?.[1],N=y.tags.find(Y=>Y[0]==="location")?.[1],A=y.tags.find(Y=>Y[0]==="start_tzid")?.[1],L=y.tags.find(Y=>Y[0]==="end_tzid")?.[1];let D={},q=v||x||"Untitled Event",O=S||"";if(y.content)try{D=JSON.parse(y.content),q=D.title||v||D.name||x||"Untitled Event",O=D.summary||S||D.description||""}catch{O=y.content}const _={id:y.id,kind:y.kind,title:q,description:O,start:T,end:E,location:N,startTimezone:A,endTimezone:L,allDay:y.kind===31922,created_at:y.created_at,pubkey:y.pubkey,relay:g,rawEvent:y,isRSVP:!0};s.push(_)}catch(v){console.error("Failed to parse referenced event data:",v)}},()=>{if(c++,c===f){this.relays.forEach(v=>{v.unsubscribe(m)});const y=s.reduce((v,x)=>{const S=v.find(T=>T.id===x.id);return!S||x.created_at>S.created_at?v.filter(T=>T.id!==x.id).concat(x):v},[]);y.sort((v,x)=>x.created_at-v.created_at),r(y)}})}),setTimeout(()=>{this.relays.forEach(g=>{g.unsubscribe(m)});const h=s.reduce((g,y)=>{const v=g.find(x=>x.id===y.id);return!v||y.created_at>v.created_at?g.filter(x=>x.id!==y.id).concat(y):g},[]);h.sort((g,y)=>y.created_at-g.created_at),r(h)},5e3)})}async getAvailabilityTemplates(i){return new Promise(r=>{const s=[];let c=0;const f=this.relays.size;let m=i;i.startsWith("npub")&&(m=nt.decode(i).data);const p="availability-"+Math.random().toString(36).substring(7),h={kinds:[31926],authors:[m]};this.relays.forEach((g,y)=>{g.subscribe([h],p,v=>{if(v)try{const x=v.tags.find(k=>k[0]==="d")?.[1],S=v.tags.find(k=>k[0]==="a")?.[1],T=v.tags.find(k=>k[0]==="title")?.[1]||"Untitled Template",E=v.content||"",N=v.tags.find(k=>k[0]==="duration")?.[1]||"PT30M",A=v.tags.find(k=>k[0]==="interval")?.[1]||N,L=v.tags.find(k=>k[0]==="tzid")?.[1]||"UTC",D=v.tags.find(k=>k[0]==="amount_sats")?.[1]||"0",q=v.tags.find(k=>k[0]==="buffer_before")?.[1]||"PT0S",O=v.tags.find(k=>k[0]==="buffer_after")?.[1]||"PT0S",_=v.tags.find(k=>k[0]==="min_notice")?.[1]||"PT0S",Y=v.tags.find(k=>k[0]==="max_advance")?.[1]||"P30D",H=v.tags.find(k=>k[0]==="max_advance_business")?.[1]||"false",K=this.parseDuration(N),F=this.parseDuration(A),re=this.parseDuration(q),ce=this.parseDuration(O),oe=this.parseDuration(_),$=this.parseAdvancePeriod(Y),z=this.parseAvailabilityTags(v.tags),j={id:x,calendarRef:S,title:T,description:E,duration:K,interval:F,timezone:L,zapAmount:parseInt(D),bufferBefore:re,bufferAfter:ce,minNotice:oe,maxAdvance:$,maxAdvanceBusiness:H==="true",availability:z,event:v};s.push(j)}catch(x){console.error("Failed to parse availability template:",x)}},()=>{if(c++,c===f){this.relays.forEach(x=>{x.unsubscribe(p)});const v=s.reduce((x,S)=>{const T=x.find(E=>E.id===S.id);return!T||S.event.created_at>T.event.created_at?x.filter(E=>E.id!==S.id).concat(S):x},[]);v.sort((x,S)=>S.event.created_at-x.event.created_at),r(v)}})}),setTimeout(()=>{this.relays.forEach(y=>{y.unsubscribe(p)});const g=s.reduce((y,v)=>{const x=y.find(S=>S.id===v.id);return!x||v.event.created_at>x.event.created_at?y.filter(S=>S.id!==v.id).concat(v):y},[]);g.sort((y,v)=>v.event.created_at-y.event.created_at),r(g)},5e3)})}async deleteAvailabilityTemplate(i){const r={kind:5,created_at:Math.floor(Date.now()/1e3),tags:[["a",`31926:${this.getCurrentPubkey()}:${i}`],["k","31926"]],content:`Deleted availability template: ${i}`};return this.publishEvent(r)}parseDuration(i){if(!i)return 0;if(i.includes("S")){const r=parseInt(i.match(/PT(\d+)S/)?.[1]||"0");return Math.floor(r/60)}return i.includes("M")?parseInt(i.match(/PT(\d+)M/)?.[1]||"0"):i.includes("H")?parseInt(i.match(/PT(\d+)H/)?.[1]||"0")*60:0}parseAdvancePeriod(i){return i?parseInt(i.match(/P(\d+)D/)?.[1]||"30"):30}parseAvailabilityTags(i){const r={SU:{enabled:!1,start:"09:00",end:"17:00"},MO:{enabled:!1,start:"09:00",end:"17:00"},TU:{enabled:!1,start:"09:00",end:"17:00"},WE:{enabled:!1,start:"09:00",end:"17:00"},TH:{enabled:!1,start:"09:00",end:"17:00"},FR:{enabled:!1,start:"09:00",end:"17:00"},SA:{enabled:!1,start:"09:00",end:"17:00"}};return i.filter(c=>c[0]==="sch").forEach(c=>{const[,f,m,p]=c;r[f]&&(r[f]={enabled:!0,start:m||"09:00",end:p||"17:00"})}),r}async getAvailabilityTemplate(i){return new Promise(r=>{let s=null,c=0;const f=this.relays.size,m="single-template-"+Math.random().toString(36).substring(7),p={kinds:[31926],"#d":[i],limit:10};this.relays.forEach((h,g)=>{h.subscribe([p],m,y=>{if(y&&!s)try{const v=y.tags.find(j=>j[0]==="d")?.[1],x=y.tags.find(j=>j[0]==="a")?.[1],S=y.tags.find(j=>j[0]==="title")?.[1]||"Untitled Template",T=y.content||"",E=y.tags.find(j=>j[0]==="duration")?.[1]||"PT30M",N=y.tags.find(j=>j[0]==="interval")?.[1]||E,A=y.tags.find(j=>j[0]==="tzid")?.[1]||"UTC",L=y.tags.find(j=>j[0]==="amount_sats")?.[1]||"0",D=y.tags.find(j=>j[0]==="buffer_before")?.[1]||"PT0S",q=y.tags.find(j=>j[0]==="buffer_after")?.[1]||"PT0S",O=y.tags.find(j=>j[0]==="min_notice")?.[1]||"PT0S",_=y.tags.find(j=>j[0]==="max_advance")?.[1]||"P30D",Y=y.tags.find(j=>j[0]==="max_advance_business")?.[1]||"false",H=y.tags.find(j=>j[0]==="location")?.[1]||"Online Meeting",K=this.parseDuration(E),F=this.parseDuration(N),re=this.parseDuration(D),ce=this.parseDuration(q),oe=this.parseDuration(O),$=this.parseAdvancePeriod(_),z=this.parseAvailabilityTags(y.tags);s={identifier:v,ownerPubkey:y.pubkey,calendarRef:x,title:S,description:T,duration:K,interval:F,timezone:A,zapAmount:parseInt(L),bufferBefore:re,bufferAfter:ce,minNotice:oe,maxAdvanceDays:$===0?null:$,maxAdvanceBusiness:Y==="true",location:H,weeklyAvailability:z,event:y}}catch(v){console.error("Failed to parse availability template:",v)}},()=>{c++,c===f&&(this.relays.forEach(y=>{y.unsubscribe(m)}),r(s))})}),setTimeout(()=>{this.relays.forEach(h=>{h.unsubscribe(m)}),r(s)},1e4)})}async getBusyTimes(i,r){return new Promise(s=>{const c=new Map;let f=0;const m=this.relays.size,p=Math.floor(Date.now()/1e3),h=p+90*24*60*60,g={kinds:[31922,31923,31925],authors:[i],since:p-30*24*60*60,until:h,limit:200},y="busy-times-"+Math.random().toString(36).substring(7);this.relays.forEach((v,x)=>{v.subscribe([g],y,S=>{S&&this.processBusyEvent(S,c,i)},()=>{f++,f===m&&(this.relays.forEach(S=>{S.unsubscribe(y)}),s(Array.from(c.entries())))})}),setTimeout(()=>{this.relays.forEach(v=>{v.unsubscribe(y)}),s(Array.from(c.entries()))},1e4)})}processBusyEvent(i,r,s){try{const c=i.tags.find(S=>S[0]==="start"),f=i.tags.find(S=>S[0]==="end"),m=i.tags.filter(S=>S[0]==="p").map(S=>S[1]),p=i.tags.find(S=>S[0]==="title")?.[1]||"Busy";if(!c||!f||!(i.pubkey===s||m.includes(s)))return;let g=!1,y="";if(i.kind===31922||i.kind===31923)i.pubkey===s?(g=!0,y="owner calendar event"):m.includes(s)&&(g=!1,y="pending booking request");else if(i.kind===31925){const S=i.tags.find(E=>E[0]==="status")?.[1],T=i.tags.find(E=>E[0]==="fb")?.[1];S==="accepted"&&T==="busy"&&(g=!0,y="accepted RSVP")}if(!g)return;let v,x;if(i.kind===31923){const S=parseInt(c[1]),T=parseInt(f[1]);if(isNaN(S)||isNaN(T))return;v=new Date(S*1e3),x=new Date(T*1e3)}else i.kind===31922&&(v=new Date(c[1]+"T00:00:00"),x=new Date(f[1]+"T23:59:59"));if(v&&x&&!isNaN(v.getTime())&&!isNaN(x.getTime())){const S=v.toISOString().split("T")[0];r.has(S)||r.set(S,[]);const T={start:v,end:x,eventId:i.id,title:p,kind:i.kind,reason:y};r.get(S).push(T)}}catch(c){console.error("Error processing busy event:",c)}}getCurrentPubkey(){return window.nostr?.getPublicKey?.()||""}disconnect(){this.relays.forEach(i=>{i.close()}),this.relays.clear()}async getOwnerEvents(i){return console.log("nostrPool.getOwnerEvents called with pubkey:",i),new Promise(r=>{const s=[];let c=0;const f=this.relays.size,m="owner-events-"+Math.random().toString(36).substring(7),p={kinds:[31923],authors:[i]};this.relays.forEach((h,g)=>{h.subscribe([p],m,y=>{if(y)try{const v=y.tags.find(N=>N[0]==="title")?.[1],x=y.tags.find(N=>N[0]==="start")?.[1],S=y.tags.find(N=>N[0]==="end")?.[1],T=y.tags.find(N=>N[0]==="location")?.[1],E={id:y.id,kind:y.kind,title:v||"Untitled Event",description:y.content||"",startTime:parseInt(x)*1e3,endTime:S?parseInt(S)*1e3:parseInt(x)*1e3+60*60*1e3,location:T,isAllDay:!1,created_at:y.created_at,event:y};s.push(E)}catch(v){console.error("Error processing owner event:",v)}},()=>{if(c++,c>=f){const y=s.reduce((v,x)=>{const S=v.find(T=>T.id===x.id);return!S||x.created_at>S.created_at?v.filter(T=>T.id!==x.id).concat(x):v},[]);r(y)}})}),setTimeout(()=>{this.relays.forEach(g=>{g.unsubscribe(m)});const h=s.reduce((g,y)=>{const v=g.find(x=>x.id===y.id);return!v||y.created_at>v.created_at?g.filter(x=>x.id!==y.id).concat(y):g},[]);r(h)},5e3)})}async getDateBasedEvents(i){return console.log("nostrPool.getDateBasedEvents called with pubkey:",i),new Promise(r=>{const s=[];let c=0;const f=this.relays.size,m="date-events-"+Math.random().toString(36).substring(7),p={kinds:[31922],authors:[i]};this.relays.forEach((h,g)=>{h.subscribe([p],m,y=>{if(y)try{const v=y.tags.find(L=>L[0]==="title")?.[1],x=y.tags.find(L=>L[0]==="start")?.[1],S=y.tags.find(L=>L[0]==="end")?.[1],T=y.tags.find(L=>L[0]==="location")?.[1],E=new Date(x+"T00:00:00").getTime(),N=S?new Date(S+"T23:59:59").getTime():new Date(x+"T23:59:59").getTime(),A={id:y.id,kind:y.kind,title:v||"Untitled Event",description:y.content||"",startTime:E,endTime:N,location:T,isAllDay:!0,created_at:y.created_at,event:y};s.push(A)}catch(v){console.error("Error processing date-based event:",v)}},()=>{if(c++,c>=f){const y=s.reduce((v,x)=>{const S=v.find(T=>T.id===x.id);return!S||x.created_at>S.created_at?v.filter(T=>T.id!==x.id).concat(x):v},[]);r(y)}})}),setTimeout(()=>{this.relays.forEach(g=>{g.unsubscribe(m)});const h=s.reduce((g,y)=>{const v=g.find(x=>x.id===y.id);return!v||y.created_at>v.created_at?g.filter(x=>x.id!==y.id).concat(y):g},[]);r(h)},5e3)})}async getBookingRequests(i){return console.log("nostrPool.getBookingRequests called with pubkey:",i),new Promise(r=>{const s=[];let c=0;const f=this.relays.size,m="booking-requests-"+Math.random().toString(36).substring(7),p={kinds:[31923],"#p":[i]};this.relays.forEach((h,g)=>{h.subscribe([p],m,y=>{if(y&&y.pubkey!==i)try{const v=y.tags.find(A=>A[0]==="d")?.[1],x=y.tags.find(A=>A[0]==="title")?.[1],S=y.tags.find(A=>A[0]==="start")?.[1],T=y.tags.find(A=>A[0]==="end")?.[1],E=y.tags.find(A=>A[0]==="a")?.[1],N={id:y.id,dTag:v,templateRef:E,bookerPubkey:y.pubkey,ownerPubkey:i,title:x||"Meeting Request",description:y.content||"",startTime:parseInt(S)*1e3,endTime:T?parseInt(T)*1e3:parseInt(S)*1e3+30*60*1e3,status:"pending",createdAt:y.created_at,event:y};s.push(N)}catch(v){console.error("Error processing booking request:",v)}},()=>{if(c++,c>=f){const y=s.reduce((v,x)=>{const S=v.find(T=>T.id===x.id);return!S||x.created_at>S.created_at?v.filter(T=>T.id!==x.id).concat(x):v},[]);r(y)}})}),setTimeout(()=>{this.relays.forEach(g=>{g.unsubscribe(m)});const h=s.reduce((g,y)=>{const v=g.find(x=>x.id===y.id);return!v||y.created_at>v.created_at?g.filter(x=>x.id!==y.id).concat(y):g},[]);r(h)},5e3)})}async getRSVPEvents(i){return console.log("nostrPool.getRSVPEvents called with pubkey:",i),new Promise(r=>{const s=[];let c=0;const f=this.relays.size*2,m="rsvp-incoming-"+Math.random().toString(36).substring(7),p="rsvp-outgoing-"+Math.random().toString(36).substring(7),h={kinds:[31925],"#p":[i]},g={kinds:[31925],authors:[i]},y=v=>{try{const x=v.tags.find(N=>N[0]==="d")?.[1],S=v.tags.find(N=>N[0]==="status")?.[1],T=v.tags.find(N=>N[0]==="a")?.[1],E={id:v.id,dTag:x,status:S||"unknown",relatedRequest:T,fromPubkey:v.pubkey,createdAt:v.created_at,event:v};s.push(E)}catch(x){console.error("Error processing RSVP event:",x)}};this.relays.forEach((v,x)=>{v.subscribe([h],m,y,()=>{c++,c>=f&&r(s)}),v.subscribe([g],p,y,()=>{c++,c>=f&&r(s)})}),setTimeout(()=>{this.relays.forEach(x=>{x.unsubscribe(m),x.unsubscribe(p)});const v=s.reduce((x,S)=>{const T=x.find(E=>E.id===S.id);return!T||S.created_at>T.created_at?x.filter(E=>E.id!==S.id).concat(S):x},[]);r(v)},5e3)})}async respondToBooking(i,r){return console.log("nostrPool.respondToBooking called with requestId:",i,"status:",r),new Promise(s=>{console.log("Would create RSVP event for request:",i,"with status:",r),s({success:!0})})}async deleteEvent(i,r){return console.log("nostrPool.deleteEvent called with eventId:",i,"eventKind:",r),new Promise(s=>{console.log("Would create deletion event for:",i,"kind:",r),s({success:!0})})}}const ka=new BS,Qy=M.createContext(null);function kS({children:a}){const[i,r]=M.useState(!1),[s,c]=M.useState("disconnected");M.useEffect(()=>((async()=>{try{c("connecting"),await ka.connect(),r(!0),c("connected"),console.log("Connected to Nostr relays")}catch(p){console.error("Failed to connect to relays:",p),c("failed")}})(),()=>{ka.disconnect(),r(!1),c("disconnected")}),[]);const f={pool:ka,isConnected:i,connectionStatus:s};return d.jsx(Qy.Provider,{value:f,children:a})}function on(){const a=M.useContext(Qy);if(!a)throw new Error("useNostr must be used within a NostrProvider");return a}function LS(a){const[i,r]=M.useState(null),[s,c]=M.useState(!0),{pool:f,isConnected:m}=on();return M.useEffect(()=>{if(!a||!m){a||c(!1);return}let p=!1;return(async()=>{try{c(!0),console.log("Fetching profile for:",a);let g=a;a.startsWith("npub")&&(g=nt.decode(a).data);const y=await f.getProfile(g);!p&&y?(console.log("Got profile from relays:",y),r({...y,pubkey:g,npub:a.startsWith("npub")?a:nt.npubEncode(g)})):p||(console.log("No profile found on relays, using fallback"),r({name:"Nostr User",display_name:"Nostr User",pubkey:g,npub:a.startsWith("npub")?a:nt.npubEncode(g)}))}catch(g){console.error("Failed to fetch profile:",g),p||r({name:"Nostr User",display_name:"Nostr User",pubkey:a,npub:a.startsWith("npub")?a:nt.npubEncode(a)})}finally{p||c(!1)}})(),()=>{p=!0}},[a,m,f]),{profile:i,loading:s}}const La=ln.forwardRef(({className:a,variant:i="default",size:r="default",...s},c)=>{const f=()=>{let m="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none disabled:opacity-50 disabled:pointer-events-none ";return i==="default"?m+="bg-blue-600 text-white hover:bg-blue-700 ":i==="outline"?m+="border border-gray-300 bg-white text-gray-900 hover:bg-gray-50 ":i==="secondary"&&(m+="bg-gray-100 text-gray-900 hover:bg-gray-200 "),r==="default"?m+="h-10 px-4 py-2 ":r==="sm"?m+="h-9 px-3 ":r==="lg"&&(m+="h-11 px-8 "),m+(a||"")};return d.jsx("button",{className:f(),ref:c,...s})});La.displayName="Button";const Gi=ln.forwardRef(({className:a,type:i,...r},s)=>d.jsx("input",{type:i,className:`flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${a||""}`,ref:s,...r}));Gi.displayName="Input";const Ky=({open:a,onOpenChange:i,children:r})=>a?d.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[d.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:()=>i(!1)}),d.jsx("div",{className:"relative",children:r})]}):null,Nf=ln.forwardRef(({className:a,children:i,...r},s)=>d.jsx("div",{ref:s,className:`relative z-50 grid w-full max-w-lg gap-4 border border-gray-200 bg-white p-6 shadow-lg rounded-lg ${a||""}`,...r,children:i}));Nf.displayName="DialogContent";const Jy=({className:a,...i})=>d.jsx("div",{className:`flex flex-col space-y-1.5 text-center sm:text-left ${a||""}`,...i}),Af=ln.forwardRef(({className:a,...i},r)=>d.jsx("h2",{ref:r,className:`text-lg font-semibold leading-none tracking-tight ${a||""}`,...i}));Af.displayName="DialogTitle";const jf=ln.forwardRef(({className:a,...i},r)=>d.jsx("p",{ref:r,className:`text-sm text-gray-600 ${a||""}`,...i}));jf.displayName="DialogDescription";const HS=({defaultValue:a,className:i,children:r})=>{const[s,c]=ln.useState(a);return d.jsx("div",{className:i,children:ln.Children.map(r,f=>ln.cloneElement(f,{activeTab:s,setActiveTab:c}))})},qS=({className:a,children:i,activeTab:r,setActiveTab:s})=>d.jsx("div",{className:`inline-flex h-10 items-center justify-center rounded-md bg-gray-100 p-1 text-gray-600 ${a||""}`,children:ln.Children.map(i,c=>ln.cloneElement(c,{activeTab:r,setActiveTab:s}))}),vu=({value:a,className:i,children:r,activeTab:s,setActiveTab:c})=>d.jsx("button",{className:`inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 ${s===a?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} ${i||""}`,onClick:()=>c(a),children:r}),bu=({value:a,className:i,children:r,activeTab:s})=>s!==a?null:d.jsx("div",{className:`mt-2 focus-visible:outline-none ${i||""}`,children:r});function YS(){const{login:a}=Un();return{extension:async()=>{try{if(console.log("Checking for nostr extension..."),!window.nostr)throw new Error("Nostr extension not found");console.log("Getting public key from extension...");const c=await window.nostr.getPublicKey();console.log("Got pubkey:",c);const f={id:c,pubkey:nt.npubEncode(c),name:"Nostr User",loginMethod:"extension"};console.log("Logging in with userData:",f),a(f),console.log("Login function called")}catch(c){throw console.error("Extension login failed:",c),c}},nsec:c=>{try{const{type:f,data:m}=nt.decode(c);if(f!=="nsec")throw new Error("Invalid nsec key");const p=Us(m),h={id:p,pubkey:nt.npubEncode(p),privateKey:c,name:"Nostr User",loginMethod:"nsec"};a(h)}catch(f){throw console.error("Nsec login failed:",f),f}},bunker:c=>{try{const m=new URL(c).hostname,p={id:m,pubkey:nt.npubEncode(m),bunkerUri:c,name:"Nostr User",loginMethod:"bunker"};a(p)}catch(f){throw console.error("Bunker login failed:",f),f}}}}const Py=({isOpen:a,onClose:i})=>{const[r,s]=M.useState(!1),[c,f]=M.useState(""),[m,p]=M.useState(""),h=M.useRef(null),g=YS(),y=async()=>{console.log("Starting extension login..."),s(!0);try{await g.extension(),console.log("Extension login successful"),i()}catch(T){console.error("Extension login failed:",T),alert("Extension login failed: "+T.message)}finally{s(!1)}},v=()=>{if(c.trim()){s(!0);try{g.nsec(c),i()}catch(T){console.error("Nsec login failed:",T),alert("Nsec login failed: "+T.message)}finally{s(!1)}}},x=()=>{if(!(!m.trim()||!m.startsWith("bunker://"))){s(!0);try{g.bunker(m),i()}catch(T){console.error("Bunker login failed:",T),alert("Bunker login failed: "+T.message)}finally{s(!1)}}},S=T=>{const E=T.target.files?.[0];if(!E)return;const N=new FileReader;N.onload=A=>{const L=A.target?.result;f(L.trim())},N.readAsText(E)};return d.jsx(Ky,{open:a,onOpenChange:i,children:d.jsxs(Nf,{className:"sm:max-w-md p-0 overflow-hidden rounded-2xl",children:[d.jsxs(Jy,{className:"px-6 pt-6 pb-0 relative",children:[d.jsx(Af,{className:"text-xl font-semibold text-center",children:"Connect with Nostr"}),d.jsx(jf,{className:"text-center text-muted-foreground mt-2",children:"Choose your preferred method to connect your Nostr account"})]}),d.jsx("div",{className:"px-6 py-8 space-y-6",children:d.jsxs(HS,{defaultValue:typeof window<"u"&&"nostr"in window?"extension":"key",className:"w-full",children:[d.jsxs(qS,{className:"grid grid-cols-3 mb-6",children:[d.jsx(vu,{value:"extension",children:"Extension"}),d.jsx(vu,{value:"key",children:"Nsec"}),d.jsx(vu,{value:"bunker",children:"Bunker"})]}),d.jsx(bu,{value:"extension",className:"space-y-4",children:d.jsxs("div",{className:"text-center p-4 rounded-lg bg-gray-50",children:[d.jsx("div",{className:"text-4xl mb-3",children:""}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Connect with one click using your browser extension"}),d.jsx(La,{className:"w-full rounded-full py-6",onClick:y,disabled:r,children:r?"Connecting...":"Connect with Extension"})]})}),d.jsx(bu,{value:"key",className:"space-y-4",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"nsec",className:"text-sm font-medium",children:"Enter your nsec key"}),d.jsx(Gi,{type:"password",id:"nsec",value:c,onChange:T=>f(T.target.value),placeholder:"nsec1..."})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm mb-2",children:"Or upload a key file"}),d.jsx("input",{type:"file",accept:".txt",className:"hidden",ref:h,onChange:S}),d.jsx(La,{variant:"outline",className:"w-full",onClick:()=>h.current?.click(),children:" Upload Nsec File"})]}),d.jsx(La,{className:"w-full rounded-full py-6 mt-4",onClick:v,disabled:r||!c.trim(),children:r?"Connecting...":"Connect with Nsec"})]})}),d.jsxs(bu,{value:"bunker",className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"bunkerUri",className:"text-sm font-medium",children:"Bunker URI"}),d.jsx(Gi,{id:"bunkerUri",value:m,onChange:T=>p(T.target.value),placeholder:"bunker://"}),m&&!m.startsWith("bunker://")&&d.jsx("p",{className:"text-red-500 text-xs",children:"URI must start with bunker://"})]}),d.jsx(La,{className:"w-full rounded-full py-6",onClick:x,disabled:r||!m.trim()||!m.startsWith("bunker://"),children:r?"Connecting...":"Connect with Bunker"})]})]})})]})})};function VS(){const{user:a,logout:i}=Un(),{connectionStatus:r}=on(),{profile:s,loading:c}=LS(a?.id),[f,m]=M.useState(!1),[p,h]=M.useState(!1),g=M.useRef(null);M.useEffect(()=>{const S=T=>{g.current&&!g.current.contains(T.target)&&m(!1)};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]);const y=()=>{m(!1),i()},v=()=>s?.name?s.name:s?.display_name?s.display_name:a?.name?a.name:"Nostr User",x=()=>v().charAt(0).toUpperCase();return d.jsxs("div",{className:"user-menu",ref:g,children:[d.jsxs("button",{className:"user-menu-trigger",onClick:()=>m(!f),title:v(),children:[c?d.jsx("div",{className:"user-avatar loading",children:d.jsx("span",{className:"loading-spinner",children:""})}):s?.picture?d.jsx("img",{src:s.picture,alt:v(),className:"user-avatar-img",onError:S=>{S.target.style.display="none",S.target.nextSibling.style.display="flex"}}):null,d.jsx("div",{className:"user-avatar-fallback",style:{display:s?.picture&&!c?"none":"flex"},children:x()})]}),f&&d.jsxs("div",{className:"user-menu-dropdown",children:[d.jsxs("div",{className:"user-menu-header",children:[d.jsx("div",{className:"user-menu-avatar",children:s?.picture?d.jsx("img",{src:s.picture,alt:v()}):d.jsx("div",{className:"user-menu-avatar-fallback",children:x()})}),d.jsxs("div",{className:"user-menu-info",children:[d.jsx("div",{className:"user-menu-name",children:v()}),s?.nip05&&d.jsx("div",{className:"user-menu-nip05",children:s.nip05}),d.jsxs("div",{className:"user-menu-pubkey",title:a?.pubkey,children:[a?.pubkey?.slice(0,8),"...",a?.pubkey?.slice(-8)]})]})]}),d.jsx("div",{className:"user-menu-divider"}),d.jsxs("div",{className:"user-menu-status",children:[d.jsxs("span",{className:`status-indicator ${r}`,children:[r==="connected"&&"",r==="connecting"&&"",r==="failed"&&"",r==="disconnected"&&""]}),d.jsxs("span",{className:"status-text",children:[r==="connected"&&"Connected to relays",r==="connecting"&&"Connecting to relays...",r==="failed"&&"Failed to connect",r==="disconnected"&&"Disconnected"]})]}),d.jsx("div",{className:"user-menu-divider"}),d.jsxs("button",{className:"user-menu-item",onClick:()=>m(!1),children:[d.jsx("span",{className:"user-menu-icon",children:""}),"View Profile"]}),d.jsxs("button",{className:"user-menu-item",onClick:()=>{m(!1),h(!0)},children:[d.jsx("span",{className:"user-menu-icon",children:""}),"Switch Account"]}),d.jsx("div",{className:"user-menu-divider"}),d.jsxs("button",{className:"user-menu-item logout",onClick:y,children:[d.jsx("span",{className:"user-menu-icon",children:""}),"Log Out"]})]}),d.jsx(Py,{isOpen:p,onClose:()=>h(!1)})]})}function $S({isOpen:a,onClose:i}){return Ss(),M.useEffect(()=>{const r=s=>{a&&!s.target.closest(".menu-sidebar")&&!s.target.closest(".menu-btn")&&i()};return document.addEventListener("click",r),()=>document.removeEventListener("click",r)},[a,i]),M.useEffect(()=>{const r=s=>{s.key==="Escape"&&a&&i()};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[a,i]),d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`menu-sidebar-overlay ${a?"active":""}`,onClick:i}),d.jsx("nav",{className:`menu-sidebar ${a?"open":""}`,children:d.jsxs("div",{className:"menu-sidebar-content",children:[d.jsxs("div",{className:"menu-sidebar-section",children:[d.jsx("h3",{className:"menu-sidebar-title",children:"Calendar"}),d.jsxs("ul",{className:"menu-sidebar-list",children:[d.jsx("li",{children:d.jsxs(qi,{to:"/",className:"menu-sidebar-link",onClick:i,children:[d.jsx("span",{className:"menu-icon",children:""}),"Calendar View"]})}),d.jsx("li",{children:d.jsxs("a",{href:"#",className:"menu-sidebar-link",onClick:r=>{r.preventDefault(),i()},children:[d.jsx("span",{className:"menu-icon",children:""}),"Create Public Event"]})})]})]}),d.jsxs("div",{className:"menu-sidebar-section",children:[d.jsx("h3",{className:"menu-sidebar-title",children:"Scheduling"}),d.jsxs("ul",{className:"menu-sidebar-list",children:[d.jsx("li",{children:d.jsxs(qi,{to:"/event-slots",className:"menu-sidebar-link",onClick:i,children:[d.jsx("span",{className:"menu-icon",children:""}),"Event Slots"]})}),d.jsx("li",{children:d.jsxs(qi,{to:"/bookings",className:"menu-sidebar-link",onClick:i,children:[d.jsx("span",{className:"menu-icon",children:""}),"Bookings"]})})]})]}),d.jsxs("div",{className:"menu-sidebar-section",children:[d.jsx("h3",{className:"menu-sidebar-title",children:"Settings"}),d.jsxs("ul",{className:"menu-sidebar-list",children:[d.jsx("li",{children:d.jsxs("a",{href:"#",className:"menu-sidebar-link",onClick:i,children:[d.jsx("span",{className:"menu-icon",children:""}),"Preferences"]})}),d.jsx("li",{children:d.jsxs("a",{href:"#",className:"menu-sidebar-link",onClick:i,children:[d.jsx("span",{className:"menu-icon",children:""}),"Notifications"]})})]})]})]})})]})}const Wy=M.createContext(null);function GS({children:a}){const[i,r]=M.useState(new Date),[s,c]=M.useState(new Date),[f,m]=M.useState("week"),D={currentDate:i,miniCalendarDate:s,view:f,navigateNext:()=>{r(q=>{const O=new Date(q);return f==="week"?O.setDate(O.getDate()+7):f==="month"?O.setMonth(O.getMonth()+1):f==="day"&&O.setDate(O.getDate()+1),O})},navigatePrevious:()=>{r(q=>{const O=new Date(q);return f==="week"?O.setDate(O.getDate()-7):f==="month"?O.setMonth(O.getMonth()-1):f==="day"&&O.setDate(O.getDate()-1),O})},navigateToToday:()=>{const q=new Date;r(q),c(q)},navigateToDate:q=>{r(new Date(q))},navigateMiniCalendarNext:()=>{c(q=>{const O=new Date(q);return O.setMonth(O.getMonth()+1),O})},navigateMiniCalendarPrevious:()=>{c(q=>{const O=new Date(q);return O.setMonth(O.getMonth()-1),O})},setCalendarView:q=>{m(q)},getFormattedMonth:()=>i.toLocaleDateString("en-US",{month:"long",year:"numeric"}),getWeekDates:()=>{const q=new Date(i),O=q.getDay(),_=q.getDate()-O;q.setDate(_);const Y=[];for(let H=0;H<7;H++){const K=new Date(q);K.setDate(q.getDate()+H),Y.push(K)}return Y},getMiniCalendarDates:()=>{const q=s.getFullYear(),O=s.getMonth(),_=new Date(q,O,1),Y=new Date(q,O+1,0),H=_.getDay(),K=Y.getDate(),F=[];for(let re=0;re<H;re++)F.push(null);for(let re=1;re<=K;re++)F.push(new Date(q,O,re));return F},getMiniCalendarMonthName:()=>s.toLocaleDateString("en-US",{month:"long",year:"numeric"}),isToday:q=>{const O=new Date;return q.toDateString()===O.toDateString()}};return d.jsx(Wy.Provider,{value:D,children:a})}function Cf(){const a=M.useContext(Wy);if(!a)throw new Error("useCalendar must be used within a CalendarProvider");return a}function Df(){const[a,i]=M.useState(!1),{getFormattedMonth:r,navigateNext:s,navigatePrevious:c,navigateToToday:f,view:m,setCalendarView:p}=Cf(),h=()=>{i(!a)},g=()=>{i(!1)},y=x=>{p(x.target.value)},v=()=>r();return d.jsxs(d.Fragment,{children:[d.jsxs("header",{className:"header",children:[d.jsxs("div",{className:"header-left",children:[d.jsx("button",{className:"menu-btn",onClick:h,"aria-label":"Toggle menu",children:""}),d.jsxs("div",{className:"logo",children:[d.jsx("span",{className:"logo-icon",children:""}),d.jsx("span",{className:"logo-text",children:"nostrcal"})]})]}),d.jsxs("div",{className:"header-center",children:[d.jsx("button",{className:"today-btn",onClick:f,children:"Today"}),d.jsxs("div",{className:"nav-arrows",children:[d.jsx("button",{className:"nav-arrow",onClick:c,children:""}),d.jsx("button",{className:"nav-arrow",onClick:s,children:""})]}),d.jsx("span",{className:"current-month",children:v()})]}),d.jsxs("div",{className:"header-right",children:[d.jsx("button",{className:"icon-btn",children:""}),d.jsx("button",{className:"icon-btn",children:""}),d.jsx("button",{className:"icon-btn",children:""}),d.jsx("button",{className:"icon-btn",children:""}),d.jsx("button",{className:"icon-btn",children:""}),d.jsx("button",{className:"icon-btn",children:""}),d.jsxs("select",{className:"view-selector",value:m,onChange:y,children:[d.jsx("option",{value:"day",children:"Day"}),d.jsx("option",{value:"week",children:"Week"}),d.jsx("option",{value:"month",children:"Month"})]}),d.jsx(VS,{})]})]}),d.jsx($S,{isOpen:a,onClose:g})]})}function ZS(){const{user:a}=Un(),{isConnected:i}=on(),[r,s]=M.useState([]),[c,f]=M.useState([]),[m,p]=M.useState([]),[h,g]=M.useState(!1),[y,v]=M.useState(null),x=async()=>{if(!(!a?.pubkey||!i))try{g(!0);const N=await ka.getEvents(a.pubkey,[31922]);s(N)}catch(N){console.error("Failed to load day events:",N),v(N.message)}finally{g(!1)}},S=async()=>{if(!(!a?.pubkey||!i))try{g(!0);const N=await ka.getEvents(a.pubkey,[31923]);f(N)}catch(N){console.error("Failed to load time events:",N),v(N.message)}finally{g(!1)}},T=async()=>{if(!(!a?.pubkey||!i))try{g(!0);const N=await ka.getRSVPs(a.pubkey);p(N)}catch(N){console.error("Failed to load RSVP events:",N),v(N.message)}finally{g(!1)}},E=async()=>{if(!(!a?.pubkey||!i))try{g(!0);const N=a.id||a.pubkey,{dayEvents:A,timeEvents:L,rsvpEvents:D}=await ka.getAllUserEvents(N);s(A),f(L),p(D)}catch(N){console.error("Failed to load events:",N),v(N.message)}finally{g(!1)}};return M.useEffect(()=>{i&&a?.pubkey&&E()},[i,a?.pubkey]),{dayEvents:r,timeEvents:c,rsvpEvents:m,loading:h,error:y,loadDayEvents:x,loadTimeEvents:S,loadRSVPEvents:T,loadAllEvents:E}}function Ls(){const[a,i]=M.useState([]),[r,s]=M.useState(!0),[c,f]=M.useState(null),{pool:m,isConnected:p}=on(),{user:h}=Un();return M.useEffect(()=>{if(!h?.id||!p){h?.id||s(!1);return}(async()=>{try{s(!0),f(null),console.log("Fetching calendars for user:",h.id);const S=await m.getCalendars(h.id);console.log("Found calendars:",S),i(S)}catch(S){console.error("Failed to fetch calendars:",S),f(S.message)}finally{s(!1)}})()},[h?.id,p,m]),{calendars:a,loading:r,error:c,createCalendar:async(x,S="",T="#1a73e8")=>{try{f(null),console.log("Creating calendar:",{name:x,description:S,color:T});const E={id:"mock-"+Date.now(),dTag:Math.random().toString(36).substring(2,15),name:x,description:S,color:T,created_at:Math.floor(Date.now()/1e3),pubkey:h.id,relay:"local"};return i(N=>[E,...N]),E}catch(E){throw console.error("Failed to create calendar:",E),f(E.message),E}},deleteCalendar:async x=>{try{f(null),console.log("Deleting calendar:",x),i(S=>S.filter(T=>T.id!==x))}catch(S){throw console.error("Failed to delete calendar:",S),f(S.message),S}},updateCalendar:async(x,S)=>{try{f(null),console.log("Updating calendar:",x,S),i(T=>T.map(E=>E.id===x?{...E,...S}:E))}catch(T){throw console.error("Failed to update calendar:",T),f(T.message),T}},refetch:()=>{h?.id&&p&&(async()=>{try{s(!0);const S=await m.getCalendars(h.id);i(S)}catch(S){f(S.message)}finally{s(!1)}})()}}}const Iy=M.createContext();function XS({children:a}){const{dayEvents:i,timeEvents:r,rsvpEvents:s,loading:c,error:f}=ZS(),{calendars:m}=Ls(),[p,h]=M.useState({dayEvents:!0,timeEvents:!0,rsvps:!0}),[g,y]=M.useState(new Set),[v,x]=M.useState([]);M.useEffect(()=>{m.length>0&&y(new Set(m.map(D=>D.id)))},[m]);const S=()=>{const D=new Date,q=new Date(D);q.setDate(q.getDate()+1);const O=[{id:"mock-1",kind:31922,title:"Test Day Event",description:"This is a test all-day event",start:D.toISOString().split("T")[0],allDay:!0,color:"#4285f4"},{id:"mock-2",kind:31923,title:"Test Time Event",description:"This is a test timed event",start:new Date(D.getFullYear(),D.getMonth(),D.getDate(),14,0).toISOString(),end:new Date(D.getFullYear(),D.getMonth(),D.getDate(),15,0).toISOString(),allDay:!1,color:"#34a853"},{id:"mock-3",kind:31922,title:"Tomorrow Event",description:"Event for tomorrow",start:q.toISOString().split("T")[0],allDay:!0,color:"#4285f4"},{id:"mock-4",kind:31923,title:"Timezone Test Event",description:"Event with timezone information",start:Math.floor(new Date(D.getFullYear(),D.getMonth(),D.getDate(),16,0).getTime()/1e3).toString(),end:Math.floor(new Date(D.getFullYear(),D.getMonth(),D.getDate(),17,30).getTime()/1e3).toString(),startTimezone:"America/New_York",endTimezone:"America/New_York",allDay:!1,color:"#ff9900"},{id:"mock-5",kind:31923,title:"Cross-timezone Meeting",description:"Meeting spanning multiple time zones",start:Math.floor(new Date(D.getFullYear(),D.getMonth(),D.getDate(),10,0).getTime()/1e3).toString(),end:Math.floor(new Date(D.getFullYear(),D.getMonth(),D.getDate(),12,0).getTime()/1e3).toString(),startTimezone:"America/Los_Angeles",endTimezone:"America/New_York",allDay:!1,color:"#9c27b0"}];x(O),console.log("Added mock events with timezone support:",O)},T=D=>{h(q=>({...q,[D]:!q[D]}))},E=D=>{y(q=>{const O=new Set(q);return O.has(D)?O.delete(D):O.add(D),O})},N=D=>m.some(q=>{if(!g.has(q.id)||!q.eventReferences||q.eventReferences.length===0)return!1;const O=D.rawEvent?.tags?.find(Y=>Y[0]==="d")?.[1];if(!O)return!1;const _=`${D.kind}:${D.pubkey}:${O}`;return q.eventReferences.includes(_)}),L={dayEvents:i,timeEvents:r,rsvpEvents:s,loading:c,error:f,eventFilters:p,toggleEventFilter:T,getFilteredEvents:()=>{const D=[],q=new Set;v.length>0&&D.push(...v.filter(_=>!!(_.kind===31922&&p.dayEvents||_.kind===31923&&p.timeEvents)));const O=(_,Y,H)=>{if(q.has(_.id))return;const K=N(_);if(K){const F=_.rawEvent?.tags?.find(re=>re[0]==="d")?.[1];if(F){const re=`${_.kind}:${_.pubkey}:${F}`,ce=m.find(oe=>g.has(oe.id)&&oe.eventReferences?.includes(re));if(ce){D.push({..._,color:ce.color,source:"calendar"}),q.add(_.id);return}}}K||(D.push({..._,color:Y,source:H}),q.add(_.id))};return p.dayEvents&&i.forEach(_=>O(_,"#4285f4","dayEvents")),p.timeEvents&&r.forEach(_=>O(_,"#34a853","timeEvents")),p.rsvps&&s.forEach(_=>O(_,"#ea4335","rsvps")),D},addMockEvents:S,visibleCalendars:g,toggleCalendarVisibility:E};return d.jsx(Iy.Provider,{value:L,children:a})}function Rf(){const a=M.useContext(Iy);if(!a)throw new Error("useEventsContext must be used within an EventsProvider");return a}function QS(){const{navigateMiniCalendarNext:a,navigateMiniCalendarPrevious:i,getMiniCalendarDates:r,getMiniCalendarMonthName:s,navigateToDate:c,isToday:f}=Cf(),{getFilteredEvents:m}=Rf(),p=["S","M","T","W","T","F","S"],h=r(),g=s(),y=x=>{x&&c(x)},v=x=>{if(!x)return!1;const S=x.toISOString().split("T")[0];return m().some(E=>{if(!E.start)return!1;try{let N;return E.start.includes("T")?N=new Date(E.start).toISOString().split("T")[0]:E.start.includes("-")?N=E.start:N=new Date(parseInt(E.start)*1e3).toISOString().split("T")[0],N===S}catch{return!1}})};return d.jsxs("div",{className:"mini-calendar",children:[d.jsxs("div",{className:"mini-calendar-header",children:[d.jsx("span",{children:g}),d.jsxs("div",{className:"mini-calendar-nav",children:[d.jsx("button",{onClick:i,children:""}),d.jsx("button",{onClick:a,children:""})]})]}),d.jsxs("div",{className:"mini-calendar-grid",children:[p.map((x,S)=>d.jsx("div",{className:"mini-calendar-day-header",children:x},S)),h.map((x,S)=>d.jsx("div",{className:`mini-calendar-date ${x&&f(x)?"today":""} ${x?"clickable":""} ${x&&v(x)?"has-events":""}`,onClick:()=>y(x),children:x?x.getDate():""},S))]})]})}const KS=["#1a73e8","#34a853","#ea4335","#fbbc04","#9c27b0","#ff6d00","#795548","#607d8b","#e91e63","#00bcd4","#4caf50","#ff9800","#673ab7","#3f51b5","#009688"];function JS({isOpen:a,onClose:i,onCreateCalendar:r}){const[s,c]=M.useState(""),[f,m]=M.useState(""),[p,h]=M.useState("#1a73e8"),[g,y]=M.useState(!1),v=async S=>{if(S.preventDefault(),!!s.trim()){y(!0);try{await r(s.trim(),f.trim(),p),c(""),m(""),h("#1a73e8"),i()}catch(T){console.error("Failed to create calendar:",T),alert("Failed to create calendar. Please try again.")}finally{y(!1)}}},x=()=>{g||(c(""),m(""),h("#1a73e8"),i())};return d.jsx(Ky,{open:a,onOpenChange:x,children:d.jsxs(Nf,{className:"sm:max-w-md",children:[d.jsxs(Jy,{children:[d.jsx(Af,{children:"Create New Calendar"}),d.jsx(jf,{children:"Create a new calendar to organize your events"})]}),d.jsxs("form",{onSubmit:v,className:"calendar-form",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"calendar-name",className:"form-label",children:"Calendar Name *"}),d.jsx(Gi,{id:"calendar-name",type:"text",value:s,onChange:S=>c(S.target.value),placeholder:"Enter calendar name",required:!0,disabled:g})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"calendar-description",className:"form-label",children:"Description"}),d.jsx(Gi,{id:"calendar-description",type:"text",value:f,onChange:S=>m(S.target.value),placeholder:"Enter calendar description (optional)",disabled:g})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Color"}),d.jsx("div",{className:"color-picker",children:KS.map(S=>d.jsx("button",{type:"button",className:`color-option ${p===S?"selected":""}`,style:{backgroundColor:S},onClick:()=>h(S),disabled:g,title:S},S))})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx(La,{type:"button",variant:"outline",onClick:x,disabled:g,children:"Cancel"}),d.jsx(La,{type:"submit",disabled:!s.trim()||g,children:g?"Creating...":"Create Calendar"})]})]})]})})}function PS(){const{calendars:a,loading:i,createCalendar:r}=Ls(),{dayEvents:s,timeEvents:c,rsvpEvents:f,eventFilters:m,toggleEventFilter:p,addMockEvents:h,visibleCalendars:g,toggleCalendarVisibility:y}=Rf(),[v,x]=M.useState(!1),S=E=>{y(E)},T=async(E,N,A)=>{const L=await r(E,N,A);y(L.id)};return d.jsxs("div",{className:"calendar-list",children:[d.jsxs("div",{className:"calendar-section",children:[d.jsxs("div",{className:"calendar-section-header",children:[d.jsx("h3",{className:"calendar-section-title",children:"My calendars"}),d.jsx("button",{className:"add-calendar-btn",onClick:()=>x(!0),title:"Create new calendar",children:"+"})]}),i?d.jsx("div",{className:"calendar-loading",children:"Loading calendars..."}):a.length===0?d.jsxs("div",{className:"calendar-empty",children:[d.jsx("p",{children:"No calendars found"}),d.jsx("button",{className:"create-first-calendar-btn",onClick:()=>x(!0),children:"Create your first calendar"})]}):a.map(E=>d.jsxs("div",{className:"calendar-item",children:[d.jsx("input",{type:"checkbox",checked:g.has(E.id),onChange:()=>S(E.id),style:{accentColor:E.color}}),d.jsx("div",{className:"calendar-color",style:{backgroundColor:E.color}}),d.jsx("span",{className:"calendar-name",title:E.description,children:E.name})]},E.id))]}),d.jsxs("div",{className:"calendar-section",children:[d.jsx("h3",{className:"calendar-section-title",children:"Event Types"}),d.jsxs("div",{className:"calendar-item",children:[d.jsx("input",{type:"checkbox",id:"day-events",checked:m.dayEvents,onChange:()=>p("dayEvents"),style:{accentColor:"#4285f4"}}),d.jsx("div",{className:"calendar-color",style:{backgroundColor:"#4285f4"}}),d.jsxs("span",{className:"calendar-name",children:["Day Events ",s.length>0&&`(${s.length})`]})]}),d.jsxs("div",{className:"calendar-item",children:[d.jsx("input",{type:"checkbox",id:"time-events",checked:m.timeEvents,onChange:()=>p("timeEvents"),style:{accentColor:"#34a853"}}),d.jsx("div",{className:"calendar-color",style:{backgroundColor:"#34a853"}}),d.jsxs("span",{className:"calendar-name",children:["Time Events ",c.length>0&&`(${c.length})`]})]}),d.jsxs("div",{className:"calendar-item",children:[d.jsx("input",{type:"checkbox",id:"rsvps",checked:m.rsvps,onChange:()=>p("rsvps"),style:{accentColor:"#ea4335"}}),d.jsx("div",{className:"calendar-color",style:{backgroundColor:"#ea4335"}}),d.jsxs("span",{className:"calendar-name",children:["RSVPs ",f.length>0&&`(${f.length})`]})]})]}),d.jsx(JS,{isOpen:v,onClose:()=>x(!1),onCreateCalendar:T})]})}function WS({isOpen:a,onClose:i,onEventCreated:r}){const{user:s}=Un(),{pool:c}=on(),{calendars:f}=Ls(),[m,p]=M.useState(""),[h,g]=M.useState(""),[y,v]=M.useState(""),[x,S]=M.useState(""),[T,E]=M.useState(""),[N,A]=M.useState(()=>{const le=Intl.DateTimeFormat().resolvedOptions().timeZone;return{"America/New_York":"America/New_York","America/Chicago":"America/Chicago","America/Denver":"America/Denver","America/Los_Angeles":"America/Los_Angeles","America/Phoenix":"America/Denver","America/Detroit":"America/New_York","America/Toronto":"America/New_York","America/Vancouver":"America/Los_Angeles","Europe/London":"Europe/London","Europe/Paris":"Europe/Paris","Europe/Berlin":"Europe/Berlin","Europe/Rome":"Europe/Rome","Europe/Madrid":"Europe/Paris","Europe/Amsterdam":"Europe/Paris","Asia/Tokyo":"Asia/Tokyo","Asia/Shanghai":"Asia/Shanghai","Asia/Seoul":"Asia/Seoul","Asia/Singapore":"Asia/Singapore","Asia/Kolkata":"Asia/Kolkata","Asia/Dubai":"Asia/Dubai","Australia/Sydney":"Australia/Sydney","Australia/Melbourne":"Australia/Sydney","Pacific/Honolulu":"Pacific/Honolulu","Pacific/Auckland":"Pacific/Auckland"}[le]||le}),[L,D]=M.useState(""),[q,O]=M.useState(""),[_,Y]=M.useState(""),[H,K]=M.useState(""),[F,re]=M.useState(""),[ce,oe]=M.useState(""),[$,z]=M.useState(""),[j,k]=M.useState(""),[W,ae]=M.useState(new Set),[C,Z]=M.useState(!1),[ee,ne]=M.useState(!1);M.useEffect(()=>{if(a){const le=new Date,pe=new Date(le.getTime()+30*6e4),De=new Date(pe.getTime()+60*6e4);g(pe.toISOString().split("T")[0]),v(pe.toTimeString().slice(0,5)),S(De.toISOString().split("T")[0]),E(De.toTimeString().slice(0,5))}},[a]);const J=le=>{le.target===le.currentTarget&&i()},se=le=>{ae(pe=>{const De=new Set(pe);return De.has(le)?De.delete(le):De.add(le),De})},ie=async()=>{if(!m.trim()){alert("Please enter a title for the event");return}if(!window.nostr){alert("Nostr extension not available");return}try{ne(!0);const le={kind:C?31922:31923,title:m.trim(),description:q.trim(),summary:_.trim(),image:H.trim(),location:L.trim(),geohash:j.trim(),hashtags:$.trim(),startTimezone:N,endTimezone:N};if(C)le.start=h,le.end=x||h,console.log("All-day event debug:",{startDate:h,endDate:x,finalStart:le.start,finalEnd:le.end});else{const Ve=new Date(`${h}T${y}`),Se=new Date(`${x}T${T}`);le.start=Math.floor(Ve.getTime()/1e3).toString(),le.end=Math.floor(Se.getTime()/1e3).toString(),console.log("Time conversion debug:",{startDate:h,startTime:y,endDate:x,endTime:T,startDateTime:Ve.toISOString(),endDateTime:Se.toISOString(),startUnix:le.start,endUnix:le.end,timezone:N})}console.log("Creating event with data:",le);const pe=await c.createEvent(le);console.log("Generated event:",pe),F.trim()&&F.split(",").map(Se=>Se.trim()).filter(Boolean).forEach(Se=>{(Se.startsWith("npub")||Se.length===64)&&pe.tags.push(["p",Se])}),ce.trim()&&ce.split(",").map(Se=>Se.trim()).filter(Boolean).forEach(Se=>{Se.startsWith("http")&&pe.tags.push(["r",Se])}),$.trim()&&$.split(",").map(Se=>Se.trim().replace(/^#/,"")).filter(Boolean).forEach(Se=>{pe.tags.push(["t",Se])}),console.log("Event before signing:",pe);const De=await window.nostr.signEvent(pe);console.log("Event after signing:",De);const Ne=await c.publishEvent(De);console.log("Publish result:",Ne),W.size>0&&await ue(De,W),alert("Event created successfully!"),r&&r(De),i(),ye()}catch(le){console.error("Failed to create event:",le),alert("Failed to create event: "+le.message)}finally{ne(!1)}},ue=async(le,pe)=>{for(const De of pe)try{const Ne=f.find(mt=>mt.id===De);if(!Ne)continue;const Ve=`${le.kind}:${le.pubkey}:${le.tags.find(mt=>mt[0]==="d")?.[1]}`,Se={kind:31924,created_at:Math.floor(Date.now()/1e3),tags:[["d",Ne.dTag],["title",Ne.name],["color",Ne.color],["a",Ve]],content:JSON.stringify({name:Ne.name,description:Ne.description||""})},_t=await window.nostr.signEvent(Se);await c.publishEvent(_t),console.log(`Updated calendar ${Ne.name} with new event`)}catch(Ne){console.error(`Failed to update calendar ${De}:`,Ne)}},ye=()=>{p(""),D(""),O(""),Y(""),K(""),re(""),oe(""),z(""),k(""),ae(new Set),Z(!1)};return a?d.jsx("div",{className:"modal-overlay",onClick:J,children:d.jsxs("div",{className:"event-creation-modal",children:[d.jsx("div",{className:"modal-header",children:d.jsx("button",{className:"close-btn",onClick:i,children:""})}),d.jsxs("div",{className:"modal-content",children:[d.jsx("div",{className:"form-group title-group",children:d.jsx("input",{type:"text",placeholder:"Add title",className:"title-input",value:m,onChange:le=>p(le.target.value)})}),d.jsxs("div",{className:"form-group datetime-group",children:[d.jsx("div",{className:"datetime-icon",children:""}),d.jsxs("div",{className:"datetime-content",children:[d.jsx("div",{className:"datetime-controls",children:d.jsxs("label",{className:"all-day-toggle",children:[d.jsx("input",{type:"checkbox",checked:C,onChange:le=>Z(le.target.checked)}),"All day"]})}),d.jsxs("div",{className:"datetime-inputs",children:[d.jsxs("div",{className:"datetime-row",children:[d.jsx("input",{type:"date",value:h,onChange:le=>g(le.target.value)}),!C&&d.jsx("input",{type:"time",value:y,onChange:le=>v(le.target.value)}),!C&&d.jsxs("select",{className:"timezone-select",value:N,onChange:le=>A(le.target.value),children:[d.jsx("option",{value:"Pacific/Niue",children:"UTC-11 (Niue)"}),d.jsx("option",{value:"Pacific/Honolulu",children:"UTC-10 (Hawaii)"}),d.jsx("option",{value:"Pacific/Marquesas",children:"UTC-9:30 (Marquesas)"}),d.jsx("option",{value:"America/Anchorage",children:"UTC-9 (Alaska)"}),d.jsx("option",{value:"America/Los_Angeles",children:"UTC-8 (Los Angeles)"}),d.jsx("option",{value:"America/Denver",children:"UTC-7 (Denver)"}),d.jsx("option",{value:"America/Chicago",children:"UTC-6 (Chicago)"}),d.jsx("option",{value:"America/New_York",children:"UTC-5 (New York)"}),d.jsx("option",{value:"America/Halifax",children:"UTC-4 (Halifax)"}),d.jsx("option",{value:"America/St_Johns",children:"UTC-3:30 (Newfoundland)"}),d.jsx("option",{value:"America/Sao_Paulo",children:"UTC-3 (So Paulo)"}),d.jsx("option",{value:"America/Noronha",children:"UTC-2 (Fernando de Noronha)"}),d.jsx("option",{value:"Atlantic/Azores",children:"UTC-1 (Azores)"}),d.jsx("option",{value:"UTC",children:"UTC+0 (UTC)"}),d.jsx("option",{value:"Europe/London",children:"UTC+0 (London)"}),d.jsx("option",{value:"Europe/Paris",children:"UTC+1 (Paris)"}),d.jsx("option",{value:"Europe/Berlin",children:"UTC+1 (Berlin)"}),d.jsx("option",{value:"Europe/Rome",children:"UTC+1 (Rome)"}),d.jsx("option",{value:"Europe/Athens",children:"UTC+2 (Athens)"}),d.jsx("option",{value:"Europe/Helsinki",children:"UTC+2 (Helsinki)"}),d.jsx("option",{value:"Africa/Cairo",children:"UTC+2 (Cairo)"}),d.jsx("option",{value:"Europe/Moscow",children:"UTC+3 (Moscow)"}),d.jsx("option",{value:"Africa/Nairobi",children:"UTC+3 (Nairobi)"}),d.jsx("option",{value:"Asia/Dubai",children:"UTC+4 (Dubai)"}),d.jsx("option",{value:"Asia/Kabul",children:"UTC+4:30 (Kabul)"}),d.jsx("option",{value:"Asia/Karachi",children:"UTC+5 (Karachi)"}),d.jsx("option",{value:"Asia/Kolkata",children:"UTC+5:30 (Mumbai)"}),d.jsx("option",{value:"Asia/Kathmandu",children:"UTC+5:45 (Kathmandu)"}),d.jsx("option",{value:"Asia/Dhaka",children:"UTC+6 (Dhaka)"}),d.jsx("option",{value:"Asia/Yangon",children:"UTC+6:30 (Yangon)"}),d.jsx("option",{value:"Asia/Bangkok",children:"UTC+7 (Bangkok)"}),d.jsx("option",{value:"Asia/Shanghai",children:"UTC+8 (Shanghai)"}),d.jsx("option",{value:"Asia/Singapore",children:"UTC+8 (Singapore)"}),d.jsx("option",{value:"Australia/Eucla",children:"UTC+8:45 (Eucla)"}),d.jsx("option",{value:"Asia/Tokyo",children:"UTC+9 (Tokyo)"}),d.jsx("option",{value:"Asia/Seoul",children:"UTC+9 (Seoul)"}),d.jsx("option",{value:"Australia/Adelaide",children:"UTC+9:30 (Adelaide)"}),d.jsx("option",{value:"Australia/Sydney",children:"UTC+10 (Sydney)"}),d.jsx("option",{value:"Australia/Lord_Howe",children:"UTC+10:30 (Lord Howe)"}),d.jsx("option",{value:"Pacific/Noumea",children:"UTC+11 (Noumea)"}),d.jsx("option",{value:"Pacific/Norfolk",children:"UTC+11:30 (Norfolk)"}),d.jsx("option",{value:"Pacific/Auckland",children:"UTC+12 (Auckland)"}),d.jsx("option",{value:"Pacific/Chatham",children:"UTC+12:45 (Chatham)"}),d.jsx("option",{value:"Pacific/Tongatapu",children:"UTC+13 (Tongatapu)"}),d.jsx("option",{value:"Pacific/Kiritimati",children:"UTC+14 (Kiritimati)"})]})]}),d.jsxs("div",{className:"datetime-row",children:[d.jsx("input",{type:"date",value:x,onChange:le=>S(le.target.value)}),!C&&d.jsx("input",{type:"time",value:T,onChange:le=>E(le.target.value)})]})]})]})]}),d.jsxs("div",{className:"form-group action-group",children:[d.jsx("div",{className:"action-icon",children:""}),d.jsx("input",{type:"text",placeholder:"Brief summary (Optional)",value:_,onChange:le=>Y(le.target.value)})]}),d.jsxs("div",{className:"form-group action-group",children:[d.jsx("div",{className:"action-icon",children:""}),d.jsx("input",{type:"text",placeholder:"Add guests - comma-separated pubkeys (Optional)",value:F,onChange:le=>re(le.target.value)})]}),d.jsxs("div",{className:"form-group action-group",children:[d.jsx("div",{className:"action-icon",children:""}),d.jsx("input",{type:"text",placeholder:"Add location (Optional)",value:L,onChange:le=>D(le.target.value)})]}),d.jsxs("div",{className:"form-group action-group",children:[d.jsx("div",{className:"action-icon",children:"#"}),d.jsx("input",{type:"text",placeholder:"Add hashtags - comma-separated (Optional)",value:$,onChange:le=>z(le.target.value)})]}),d.jsxs("div",{className:"form-group action-group",children:[d.jsx("div",{className:"action-icon",children:""}),d.jsx("input",{type:"text",placeholder:"Add image URL (Optional)",value:H,onChange:le=>K(le.target.value)})]}),d.jsxs("div",{className:"form-group action-group",children:[d.jsx("div",{className:"action-icon",children:""}),d.jsx("input",{type:"text",placeholder:"Add references - comma-separated URLs (Optional)",value:ce,onChange:le=>oe(le.target.value)})]}),d.jsxs("div",{className:"form-group action-group",children:[d.jsx("div",{className:"action-icon",children:""}),d.jsx("input",{type:"text",placeholder:"Add geohash (Optional)",value:j,onChange:le=>k(le.target.value)})]}),d.jsx("div",{className:"form-group",children:d.jsx("textarea",{placeholder:"Add description (Optional)",value:q,onChange:le=>O(le.target.value),rows:"3"})}),f.length>0&&d.jsxs("div",{className:"form-group calendar-assignment",children:[d.jsx("h4",{children:"Add to calendars:"}),d.jsx("div",{className:"calendar-options",children:f.map(le=>d.jsxs("label",{className:"calendar-option",children:[d.jsx("input",{type:"checkbox",checked:W.has(le.id),onChange:()=>se(le.id)}),d.jsx("div",{className:"calendar-color",style:{backgroundColor:le.color}}),d.jsx("span",{className:"calendar-name",children:le.name})]},le.id))})]}),d.jsxs("div",{className:"modal-actions",children:[d.jsx("button",{className:"more-options-btn",children:"More options"}),d.jsx("button",{className:"save-btn",onClick:ie,disabled:ee,children:ee?"Saving...":"Save"})]})]})]})}):null}function IS(){const[a,i]=M.useState(!1),r=s=>{console.log("New event created:",s)};return d.jsxs("aside",{className:"sidebar",children:[d.jsxs("button",{className:"create-btn",onClick:()=>i(!0),children:[d.jsx("span",{className:"create-icon",children:"+"}),d.jsx("span",{children:"Create"})]}),d.jsx(QS,{}),d.jsx(PS,{}),d.jsx(WS,{isOpen:a,onClose:()=>i(!1),onEventCreated:r})]})}function e0({event:a,isOpen:i,onClose:r}){const[s,c]=M.useState(!1),[f,m]=M.useState(null),[p,h]=M.useState(""),{pool:g}=on();if(M.useEffect(()=>{a&&a.pubkey&&g&&g.getProfile(a.pubkey).then(E=>{m(E)}).catch(E=>{console.error("Failed to fetch organizer profile:",E)})},[a,g]),!i||!a)return null;const y=async()=>{if(a&&a.pubkey)try{const E=nt.npubEncode(a.pubkey);await navigator.clipboard.writeText(E),h("Copied!"),setTimeout(()=>h(""),2e3)}catch(E){console.error("Failed to copy npub:",E),h("Failed to copy"),setTimeout(()=>h(""),2e3)}},v=async()=>{if(!a||!window.nostr){alert("Nostr extension not available");return}const E=a.isRSVP?"remove your RSVP for":"delete";if(window.confirm(`Are you sure you want to ${E} "${a.title||"this event"}"?

This will publish a deletion event (NIP-09) to the relays. This action cannot be undone.`))try{let A=a.id,L=a.kind,D="Deleted event";a.isRSVP&&a.rsvpEventId&&(A=a.rsvpEventId,L=31925,D="Deleted RSVP");const q={kind:5,content:D,tags:[["e",A],["k",L.toString()]],created_at:Math.floor(Date.now()/1e3)},O=await window.nostr.signEvent(q);if(!g||!g.relays)throw new Error("Nostr pool not available");const _=[];g.relays.forEach((H,K)=>{H.connected&&_.push(new Promise((F,re)=>{const ce=["EVENT",O];H.ws.send(JSON.stringify(ce)),setTimeout(()=>{F()},1e3)}))}),await Promise.allSettled(_);const Y=a.isRSVP?"RSVP removal published to relays":"Delete event published to relays";alert(Y),r()}catch(A){console.error("Failed to delete event:",A),alert("Failed to delete event: "+A.message)}},x=(E,N,A,L)=>{if(!E)return"No time specified";try{let D,q=!1;if(E.includes("T"))D=new Date(E);else if(E.includes("-")&&E.includes(":"))D=new Date(E);else if(E.includes("-")&&E.length===10)D=new Date(E+"T00:00:00"),q=!0;else if(!isNaN(E))D=new Date(parseInt(E)*1e3);else return E;const O={weekday:"long",year:"numeric",month:"long",day:"numeric"};q||(O.hour="numeric",O.minute="2-digit",A&&(O.timeZone=A));let _=D.toLocaleDateString("en-US",O);if(N&&N!==E){let Y;if(N.includes("T"))Y=new Date(N);else if(N.includes("-")&&N.includes(":"))Y=new Date(N);else if(N.includes("-")&&N.length===10)Y=new Date(N+"T00:00:00");else if(!isNaN(N))Y=new Date(parseInt(N)*1e3);else return _;const H=q?{year:"numeric",month:"long",day:"numeric"}:{hour:"numeric",minute:"2-digit"};!q&&L&&(H.timeZone=L);const K=Y.toLocaleDateString("en-US",H);_+=` - ${K}`}return _}catch{return E}},S=E=>{E.target===E.currentTarget&&r()},T=()=>{c(!s)};return d.jsx("div",{className:"modal-overlay",onClick:S,children:d.jsxs("div",{className:"event-modal",children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("button",{className:"close-btn",onClick:r,children:""}),d.jsxs("div",{className:"options-container",children:[d.jsx("button",{className:"options-btn",onClick:T,children:""}),s&&d.jsxs("div",{className:"options-menu",children:[d.jsx("button",{className:"option-item",children:"Edit"}),d.jsx("button",{className:"option-item",onClick:v,children:a.isRSVP?"Remove RSVP":"Delete"}),d.jsx("button",{className:"option-item",children:"Share"})]})]})]}),d.jsxs("div",{className:"modal-content",children:[d.jsx("div",{className:"event-title",children:a.title||"Untitled Event"}),d.jsxs("div",{className:"event-details",children:[d.jsxs("div",{className:"event-time",children:[d.jsx("span",{className:"detail-icon",children:""}),d.jsx("span",{className:"detail-text",children:x(a.start,a.end,a.startTimezone,a.endTimezone)})]}),a.location&&d.jsxs("div",{className:"event-location",children:[d.jsx("span",{className:"detail-icon",children:""}),d.jsx("span",{className:"detail-text",children:a.location})]}),a.description&&d.jsxs("div",{className:"event-description",children:[d.jsx("span",{className:"detail-icon",children:""}),d.jsx("div",{className:"detail-text description-text",children:a.description})]}),a.rawEvent?.tags?.find(E=>E[0]==="summary")?.[1]&&d.jsxs("div",{className:"event-summary",children:[d.jsx("span",{className:"detail-icon",children:""}),d.jsx("div",{className:"detail-text",children:a.rawEvent.tags.find(E=>E[0]==="summary")[1]})]}),a.rawEvent?.tags?.find(E=>E[0]==="image")?.[1]&&d.jsxs("div",{className:"event-image",children:[d.jsx("span",{className:"detail-icon",children:""}),d.jsx("div",{className:"detail-text",children:d.jsx("a",{href:a.rawEvent.tags.find(E=>E[0]==="image")[1],target:"_blank",rel:"noopener noreferrer",children:"View Image"})})]}),a.rawEvent?.tags?.filter(E=>E[0]==="p").length>0&&d.jsxs("div",{className:"event-guests",children:[d.jsx("span",{className:"detail-icon",children:""}),d.jsxs("div",{className:"detail-text",children:[d.jsxs("strong",{children:["Guests (",a.rawEvent.tags.filter(E=>E[0]==="p").length,"):"]}),d.jsx("div",{className:"guests-list",children:a.rawEvent.tags.filter(E=>E[0]==="p").map((E,N)=>d.jsxs("div",{className:"guest-item",children:[E[1].startsWith("npub")?E[1]:nt.npubEncode(E[1]),E[3]&&d.jsxs("span",{className:"guest-role",children:[" (",E[3],")"]})]},N))})]})]}),a.rawEvent?.tags?.filter(E=>E[0]==="t").length>0&&d.jsxs("div",{className:"event-hashtags",children:[d.jsx("span",{className:"detail-icon",children:"#"}),d.jsxs("div",{className:"detail-text",children:[d.jsx("strong",{children:"Hashtags:"}),d.jsx("div",{className:"hashtags-list",children:a.rawEvent.tags.filter(E=>E[0]==="t").map((E,N)=>d.jsxs("span",{className:"hashtag",children:["#",E[1]]},N))})]})]}),a.rawEvent?.tags?.filter(E=>E[0]==="r").length>0&&d.jsxs("div",{className:"event-references",children:[d.jsx("span",{className:"detail-icon",children:""}),d.jsxs("div",{className:"detail-text",children:[d.jsx("strong",{children:"References:"}),d.jsx("div",{className:"references-list",children:a.rawEvent.tags.filter(E=>E[0]==="r").map((E,N)=>d.jsx("div",{className:"reference-item",children:d.jsx("a",{href:E[1],target:"_blank",rel:"noopener noreferrer",children:E[1]})},N))})]})]}),a.rawEvent?.tags?.find(E=>E[0]==="g")?.[1]&&d.jsxs("div",{className:"event-geohash",children:[d.jsx("span",{className:"detail-icon",children:""}),d.jsxs("div",{className:"detail-text",children:[d.jsx("strong",{children:"Geohash:"})," ",a.rawEvent.tags.find(E=>E[0]==="g")[1]]})]}),(a.startTimezone||a.endTimezone)&&d.jsxs("div",{className:"event-timezone",children:[d.jsx("span",{className:"detail-icon",children:""}),d.jsxs("span",{className:"detail-text",children:[a.startTimezone&&`Start: ${a.startTimezone}`,a.startTimezone&&a.endTimezone&&a.startTimezone!==a.endTimezone&&", ",a.endTimezone&&a.startTimezone!==a.endTimezone&&`End: ${a.endTimezone}`]})]}),d.jsxs("div",{className:"event-type",children:[d.jsx("span",{className:"detail-icon",children:""}),d.jsx("span",{className:"detail-text",children:a.kind===31922?"Day Event":a.kind===31923?"Time Event":a.isRSVP?"RSVP Event":"Event"})]}),a.pubkey&&d.jsxs("div",{className:"event-organizer",children:[d.jsx("span",{className:"detail-icon",children:""}),d.jsxs("span",{className:"detail-text organizer-name",onClick:y,title:"Click to copy npub",children:[f?.display_name||f?.name||nt.npubEncode(a.pubkey),p&&d.jsx("span",{className:"copy-status",children:p})]})]})]})]})]})})}function FS(){const{getWeekDates:a,isToday:i,view:r,currentDate:s,navigateToDate:c}=Cf(),{getFilteredEvents:f}=Rf(),m=a(),p=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],h=Array.from({length:24},($,z)=>z),g=M.useRef(null),[y,v]=M.useState(null),[x,S]=M.useState(!1),T=f(),E=$=>{v($),S(!0)},N=()=>{S(!1),v(null)},A=$=>{if(!$)return[];const z=$.getFullYear(),j=String($.getMonth()+1).padStart(2,"0"),k=String($.getDate()).padStart(2,"0"),W=`${z}-${j}-${k}`;return T.filter(ae=>{if(!ae.start)return!1;try{let C;if(ae.start.includes("T"))C=new Date(ae.start).toISOString().split("T")[0];else if(ae.start.includes("-"))C=ae.start.split("T")[0];else{if(isNaN(ae.start))return console.log("Unknown date format for event filtering:",ae.start),!1;{const Z=parseInt(ae.start)*1e3,ee=new Date(Z),ne=ee.getFullYear(),J=String(ee.getMonth()+1).padStart(2,"0"),se=String(ee.getDate()).padStart(2,"0");C=`${ne}-${J}-${se}`}}return C===W}catch(C){return console.error("Error parsing event date:",ae.start,C),!1}})},L=()=>{const $={};return D().dates.forEach((j,k)=>{$[k]=A(j)}),$},D=()=>r==="day"?{dates:[s],dayLabels:[s.toLocaleDateString("en-US",{weekday:"long"})],gridCols:1}:r==="week"?{dates:m,dayLabels:p,gridCols:7}:r==="month"?q():{dates:m,dayLabels:p,gridCols:7},q=()=>{const $=s.getFullYear(),z=s.getMonth(),j=new Date($,z,1),k=new Date($,z+1,0),W=j.getDay(),ae=k.getDate(),C=[];for(let Z=0;Z<W;Z++)C.push(null);for(let Z=1;Z<=ae;Z++)C.push(new Date($,z,Z));for(;C.length<42;)C.push(null);return{dates:C,dayLabels:p,gridCols:7}},O=D(),_=L(),Y=$=>{if(!$.start)return 0;try{let z;if($.start.includes("T"))z=new Date($.start);else if($.start.includes("-")&&$.start.includes(":"))z=new Date($.start);else if(!isNaN($.start))z=new Date(parseInt($.start)*1e3);else return console.log("Unknown date format for event hour:",$.start),0;return z.getHours()}catch(z){return console.error("Error parsing event hour:",$.start,z),0}},H=$=>{if(!$.start||!$.end)return 1;try{let z,j;if($.start.includes("T"))z=new Date($.start);else if($.start.includes("-")&&$.start.includes(":"))z=new Date($.start);else if(!isNaN($.start))z=new Date(parseInt($.start)*1e3);else return 1;if($.end.includes("T"))j=new Date($.end);else if($.end.includes("-")&&$.end.includes(":"))j=new Date($.end);else if(!isNaN($.end))j=new Date(parseInt($.end)*1e3);else return 1;const W=(j.getTime()-z.getTime())/(1e3*60*60);return Math.max(.5,W)}catch(z){return console.error("Error calculating event duration:",z),1}},K=$=>{if(!$.start)return 0;try{let z;if($.start.includes("T"))z=new Date($.start);else if($.start.includes("-")&&$.start.includes(":"))z=new Date($.start);else if(!isNaN($.start))z=new Date(parseInt($.start)*1e3);else return 0;return z.getMinutes()/60*48}catch(z){return console.error("Error calculating event offset:",z),0}},F=$=>{if(!$.start)return 0;try{let z;if($.start.includes("T"))z=new Date($.start);else if($.start.includes("-")&&$.start.includes(":"))z=new Date($.start);else if(!isNaN($.start))z=new Date(parseInt($.start)*1e3);else return 0;return z.getTime()}catch(z){return console.error("Error getting event start time:",z),0}},re=$=>{if(!$.end)return F($)+60*60*1e3;try{let z;if($.end.includes("T"))z=new Date($.end);else if($.end.includes("-")&&$.end.includes(":"))z=new Date($.end);else if(!isNaN($.end))z=new Date(parseInt($.end)*1e3);else return F($)+60*60*1e3;return z.getTime()}catch(z){return console.error("Error getting event end time:",z),F($)+60*60*1e3}},ce=$=>{const z=$.filter(W=>!W.allDay),j=[];return[...z].sort((W,ae)=>F(W)-F(ae)).forEach((W,ae)=>{const C=F(W),Z=re(W),ee=j.filter(ue=>{const ye=F(ue.event),le=re(ue.event);return C<le&&Z>ye});let ne=0;const J=ee.map(ue=>ue.column);for(;J.includes(ne);)ne++;const ie=Math.max(ne,...J)+1;ee.forEach(ue=>{ue.totalColumns=Math.max(ue.totalColumns||1,ie)}),j.push({event:W,column:ne,totalColumns:ie,startHour:Y(W),duration:H(W),offset:K(W)})}),j},oe=$=>{if(!$.start)return"";try{let z,j;if($.start.includes("T"))z=new Date($.start);else if($.start.includes("-")&&$.start.includes(":"))z=new Date($.start);else if(!isNaN($.start))z=new Date(parseInt($.start)*1e3);else return console.log("Unknown date format for event time:",$.start),$.start;const k=ae=>{const C=ae.getHours(),Z=ae.getMinutes(),ee=C>=12?"PM":"AM",ne=C%12||12,J=Z.toString().padStart(2,"0");return`${ne}:${J} ${ee}`},W=k(z);if($.end)try{if($.end.includes("T")?j=new Date($.end):$.end.includes("-")&&$.end.includes(":")?j=new Date($.end):isNaN($.end)||(j=new Date(parseInt($.end)*1e3)),j){const ae=k(j);return`${W} - ${ae}`}}catch(ae){console.error("Error parsing end time:",$.end,ae)}return W}catch(z){return console.error("Error formatting event time:",$.start,z),$.start}};return M.useEffect(()=>{setTimeout(()=>{if(g.current){const z=new Date().getHours(),k=Math.max(0,(z-2)*48);g.current.scrollTop=k}},100)},[]),M.useEffect(()=>{if(g.current){const $=new Date().getHours(),j=Math.max(0,($-2)*48);g.current.scrollTop=j}},[r]),r==="month"?d.jsxs("main",{className:"calendar-view",children:[d.jsx("div",{className:"calendar-header",style:{gridTemplateColumns:`repeat(${O.gridCols}, 1fr)`},children:O.dayLabels.map(($,z)=>d.jsx("div",{className:"day-header",children:d.jsx("div",{className:"day-name",children:$})},z))}),d.jsx("div",{className:"month-view",children:O.dates.map(($,z)=>d.jsxs("div",{className:`month-day ${$&&i($)?"today":""} ${$?"clickable":"empty"}`,onClick:()=>$&&c($),children:[d.jsx("div",{className:"month-day-number",children:$?$.getDate():""}),$&&_[z]&&_[z].length>0&&d.jsxs("div",{className:"month-events",children:[_[z].slice(0,3).map((j,k)=>d.jsx("div",{className:"month-event",style:{backgroundColor:j.color},title:j.title,onClick:W=>{W.stopPropagation(),E(j)},children:j.title},k)),_[z].length>3&&d.jsxs("div",{className:"month-event-more",children:["+",_[z].length-3," more"]})]})]},z))}),d.jsx(e0,{event:y,isOpen:x,onClose:N})]}):d.jsxs("main",{className:"calendar-view",children:[d.jsxs("div",{className:"calendar-header",style:{gridTemplateColumns:`60px repeat(${O.gridCols}, 1fr)`},children:[d.jsx("div",{className:"timezone",children:"GMT-04"}),O.dayLabels.map(($,z)=>d.jsxs("div",{className:"day-header",children:[d.jsx("div",{className:"day-name",children:$}),d.jsx("div",{className:`day-date ${O.dates[z]&&i(O.dates[z])?"today":""}`,children:O.dates[z]?O.dates[z].getDate():""})]},z))]}),d.jsxs("div",{className:"calendar-body",ref:g,children:[d.jsx("div",{className:"time-column",children:h.map($=>d.jsx("div",{className:"time-slot",children:$===0?"":`${$%12||12} ${$<12?"AM":"PM"}`},$))}),d.jsx("div",{className:"calendar-grid",style:{gridTemplateColumns:`repeat(${O.gridCols}, 1fr)`},children:O.dates.map(($,z)=>d.jsxs("div",{className:"day-column",children:[_[z]?.filter(j=>j.allDay).map((j,k)=>d.jsx("div",{className:"all-day-event",style:{backgroundColor:j.color},onClick:()=>E(j),children:j.title},k)),d.jsxs("div",{className:"hour-cells",children:[h.map(j=>d.jsx("div",{className:"hour-cell",children:$&&i($)&&j===new Date().getHours()&&d.jsx("div",{className:"current-time-block"})},j)),(()=>{const j=_[z]||[],k=ce(j),W=["#1a73e8","#34a853","#ea4335","#fbbc04","#9c27b0","#ff9800","#795548","#607d8b"];return k.map((ae,C)=>{const{event:Z,column:ee,totalColumns:ne,startHour:J,duration:se,offset:ie}=ae,ue=`${100/ne-2}%`,ye=`${ee*100/ne+1}%`,le=Z.color||W[C%W.length];return d.jsxs("div",{className:"multi-hour-event",style:{backgroundColor:le,top:`${J*48+ie}px`,height:`${se*48}px`,minHeight:"24px",left:ye,width:ue,right:"auto"},onClick:()=>E(Z),children:[d.jsx("div",{className:"event-title",children:Z.title}),d.jsx("div",{className:"event-time",children:oe(Z)})]},`${Z.id}-${C}`)})})()]})]},z))})]}),d.jsx(e0,{event:y,isOpen:x,onClose:N})]})}function xu(){const[a,i]=M.useState(!1),r=()=>{i(!0)};return d.jsxs("div",{className:"login-page",children:[d.jsxs("div",{className:"login-container",children:[d.jsxs("div",{className:"login-header",children:[d.jsxs("div",{className:"logo",children:[d.jsx("span",{className:"logo-icon",children:""}),d.jsx("span",{className:"logo-text",children:"nostrcal"})]}),d.jsx("h1",{children:"Welcome to nostrcal"}),d.jsx("p",{children:"Your decentralized calendar powered by Nostr"})]}),d.jsx("div",{className:"login-content",children:d.jsxs("div",{className:"login-card",children:[d.jsx("h2",{children:"Get Started"}),d.jsx("p",{children:"Connect your Nostr account to access your calendar"}),d.jsxs("button",{className:"connect-btn",onClick:r,children:[d.jsx("span",{className:"connect-icon",children:""}),"Connect with Nostr"]}),d.jsxs("div",{className:"login-info",children:[d.jsx("p",{children:"Don't have a Nostr account? No problem!"}),d.jsx("p",{children:"We'll help you create one when you connect."})]})]})})]}),d.jsx(Py,{isOpen:a,onClose:()=>i(!1)})]})}const e3=[{key:"SU",name:"Sunday"},{key:"MO",name:"Monday"},{key:"TU",name:"Tuesday"},{key:"WE",name:"Wednesday"},{key:"TH",name:"Thursday"},{key:"FR",name:"Friday"},{key:"SA",name:"Saturday"}],t0={SU:{enabled:!1,start:"09:00",end:"17:00"},MO:{enabled:!0,start:"09:00",end:"17:00"},TU:{enabled:!0,start:"09:00",end:"17:00"},WE:{enabled:!0,start:"09:00",end:"17:00"},TH:{enabled:!0,start:"09:00",end:"17:00"},FR:{enabled:!0,start:"09:00",end:"17:00"},SA:{enabled:!1,start:"09:00",end:"17:00"}},t3=["Nostr Nests","HiveTalk","Corny Chat","Jitsi Video","Google Meet","Zoom","In Person","Phone Call"];function n3({template:a,calendars:i,onClose:r,onSave:s}){const[c,f]=M.useState(1),[m,p]=M.useState(!1),[h,g]=M.useState({title:"",description:"",duration:30,interval:30,location:"Jitsi Video",zapAmount:0,bufferBefore:5,bufferAfter:5,minNotice:60,maxAdvance:30,maxAdvanceBusiness:!1,calendarId:i[0]?.id||"",availability:t0}),{pool:y}=on(),{user:v}=Un();M.useEffect(()=>{a&&g({title:a.title||"",description:a.description||"",duration:a.duration||30,interval:a.interval||30,location:a.location||"Jitsi Video",zapAmount:a.zapAmount||0,bufferBefore:a.bufferBefore||5,bufferAfter:a.bufferAfter||5,minNotice:a.minNotice||60,maxAdvance:a.maxAdvance||30,maxAdvanceBusiness:a.maxAdvanceBusiness||!1,calendarId:a.calendarId||i[0]?.id||"",availability:a.availability||t0})},[a,i]);const x=(_,Y)=>{g(H=>({...H,[_]:Y}))},S=(_,Y,H)=>{g(K=>({...K,availability:{...K.availability,[_]:{...K.availability[_],[Y]:H}}}))},T=()=>h.title.trim()?h.calendarId?!0:(alert("Please select a calendar."),!1):(alert("Please enter a title for your availability template."),!1),E=()=>Object.values(h.availability).some(Y=>Y.enabled)?!0:(alert("Please enable at least one day of the week."),!1),N=()=>{c===1&&T()&&f(2)},A=()=>{c===2&&f(1)},L=()=>"avail-"+Date.now()+"-"+Math.random().toString(36).substr(2,9),D=_=>{if(_===0)return"PT0S";if(_<60)return`PT${_}M`;const Y=Math.floor(_/60),H=_%60;return H===0?`PT${Y}H`:`PT${Y}H${H}M`},q=_=>_===0?"P0D":`P${_}D`,O=async()=>{if(E()){p(!0);try{const _=a?.id||L();if(!i.find(ce=>ce.id===h.calendarId))throw new Error("Selected calendar not found");const H=[["d",_],["a",`31924:${v.id}:${h.calendarId}`],["title",h.title],["tzid",Intl.DateTimeFormat().resolvedOptions().timeZone],["duration",D(h.duration)],["interval",D(h.interval)],["amount_sats",h.zapAmount.toString()],["buffer_before",D(h.bufferBefore)],["buffer_after",D(h.bufferAfter)],["min_notice",D(h.minNotice)],["max_advance",q(h.maxAdvance)],["max_advance_business",h.maxAdvanceBusiness.toString()]];Object.entries(h.availability).filter(([ce,oe])=>oe.enabled).forEach(([ce,oe])=>{H.push(["sch",ce,oe.start,oe.end])});const K={kind:31926,content:h.description,tags:H},F=await y.publishEvent(K),re={id:_,title:h.title,description:h.description,duration:h.duration,interval:h.interval,location:h.location,zapAmount:h.zapAmount,bufferBefore:h.bufferBefore,bufferAfter:h.bufferAfter,minNotice:h.minNotice,maxAdvance:h.maxAdvance,maxAdvanceBusiness:h.maxAdvanceBusiness,calendarId:h.calendarId,availability:h.availability,event:F};s(re)}catch(_){console.error("Error saving availability template:",_),alert("Failed to save template. Please try again.")}finally{p(!1)}}};return d.jsx("div",{className:"modal-overlay",children:d.jsxs("div",{className:"modal-content",children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:a?"Edit Availability Template":"Create Availability Template"}),d.jsx("button",{className:"close-btn",onClick:r,children:""})]}),d.jsxs("div",{className:"step-indicator",children:[d.jsx("div",{className:`step-dot ${c>=1?"active":""}`,children:"1"}),d.jsx("div",{className:`step-dot ${c>=2?"active":""}`,children:"2"})]}),c===1&&d.jsxs("div",{className:"modal-step",children:[d.jsx("h3",{children:"Template Details"}),d.jsx("p",{className:"step-description",children:"Set up a template that others can use to book time with you."}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Title *"}),d.jsx("input",{type:"text",className:"form-input",value:h.title,onChange:_=>x("title",_.target.value),placeholder:"Quick Chat"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Description"}),d.jsx("textarea",{className:"form-textarea",value:h.description,onChange:_=>x("description",_.target.value),placeholder:"A quick video meeting to discuss your needs.",rows:"3"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Calendar *"}),d.jsx("select",{className:"form-select",value:h.calendarId,onChange:_=>x("calendarId",_.target.value),children:i.map(_=>d.jsx("option",{value:_.id,children:_.title},_.id))})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Meeting Duration (minutes)"}),d.jsx("input",{type:"number",className:"form-input",value:h.duration,onChange:_=>x("duration",parseInt(_.target.value)),min:"15",max:"480"}),d.jsx("small",{className:"form-help",children:"How long each booking appointment will last"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Slot Interval (minutes)"}),d.jsx("input",{type:"number",className:"form-input",value:h.interval,onChange:_=>x("interval",parseInt(_.target.value)),min:"15",max:"480"}),d.jsx("small",{className:"form-help",children:"Gap between starts of consecutive slots"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Location Type"}),d.jsx("select",{className:"form-select",value:h.location,onChange:_=>x("location",_.target.value),children:t3.map(_=>d.jsx("option",{value:_,children:_},_))})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Required Zap Amount (sats)"}),d.jsx("input",{type:"number",className:"form-input",value:h.zapAmount,onChange:_=>x("zapAmount",parseInt(_.target.value)||0),min:"0",placeholder:"0"}),d.jsx("small",{className:"form-help",children:"Amount in satoshis required for booking (0 = free)"})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Buffer Before (minutes)"}),d.jsx("input",{type:"number",className:"form-input",value:h.bufferBefore,onChange:_=>x("bufferBefore",parseInt(_.target.value)||0),min:"0"}),d.jsx("small",{className:"form-help",children:"Time to reserve before each booking"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Buffer After (minutes)"}),d.jsx("input",{type:"number",className:"form-input",value:h.bufferAfter,onChange:_=>x("bufferAfter",parseInt(_.target.value)||0),min:"0"}),d.jsx("small",{className:"form-help",children:"Time to reserve after each booking"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Minimum Notice (minutes)"}),d.jsx("input",{type:"number",className:"form-input",value:h.minNotice,onChange:_=>x("minNotice",parseInt(_.target.value)||0),min:"0"}),d.jsx("small",{className:"form-help",children:"How much advance notice you need for bookings"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{className:"form-label",children:"Maximum Advance Booking (days)"}),d.jsx("input",{type:"number",className:"form-input",value:h.maxAdvance,onChange:_=>x("maxAdvance",parseInt(_.target.value)||0),min:"0"}),d.jsx("small",{className:"form-help",children:"How far in advance people can book (0 = unlimited)"})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{className:"checkbox-label",children:[d.jsx("input",{type:"checkbox",className:"form-checkbox",checked:h.maxAdvanceBusiness,onChange:_=>x("maxAdvanceBusiness",_.target.checked)}),d.jsx("span",{className:"checkmark"}),"Count only business days for advance booking limit"]}),d.jsx("small",{className:"form-help",children:"If checked, weekends don't count toward the advance booking limit"})]})]}),c===2&&d.jsxs("div",{className:"modal-step",children:[d.jsx("h3",{children:"Set Your Weekly Availability"}),d.jsx("p",{className:"step-description",children:"Configure when people can book time slots with you during the week."}),d.jsx("div",{className:"availability-editor",children:e3.map(_=>d.jsxs("div",{className:"day-row",children:[d.jsxs("div",{className:"day-toggle",children:[d.jsx("input",{type:"checkbox",className:"day-checkbox",checked:h.availability[_.key].enabled,onChange:Y=>S(_.key,"enabled",Y.target.checked)}),d.jsx("label",{className:`day-name ${h.availability[_.key].enabled?"":"disabled"}`,children:_.name})]}),h.availability[_.key].enabled?d.jsxs("div",{className:"time-inputs",children:[d.jsx("input",{type:"time",className:"time-input",value:h.availability[_.key].start,onChange:Y=>S(_.key,"start",Y.target.value)}),d.jsx("span",{className:"time-separator",children:"-"}),d.jsx("input",{type:"time",className:"time-input",value:h.availability[_.key].end,onChange:Y=>S(_.key,"end",Y.target.value)})]}):d.jsx("span",{className:"unavailable-text",children:"Unavailable"})]},_.key))})]}),d.jsxs("div",{className:"modal-actions",children:[c===1&&d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"btn-secondary",onClick:r,children:"Cancel"}),d.jsx("button",{className:"btn-primary",onClick:N,children:"Continue"})]}),c===2&&d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"btn-secondary",onClick:A,children:"Back"}),d.jsx("button",{className:"btn-primary",onClick:O,disabled:m,children:m?"Saving...":a?"Save Changes":"Create Template"})]})]})]})})}function a3(){const[a,i]=M.useState([]),[r,s]=M.useState(!0),[c,f]=M.useState(""),[m,p]=M.useState(!1),[h,g]=M.useState(null),{pool:y,isConnected:v}=on(),{user:x}=Un(),{calendars:S}=Ls();M.useEffect(()=>{x?.id&&v&&T()},[x?.id,v,y]);const T=async()=>{try{s(!0);const H=await y.getAvailabilityTemplates(x.id);i(H)}catch(H){console.error("Failed to load availability templates:",H)}finally{s(!1)}},E=()=>{g(null),p(!0)},N=H=>{g(H),p(!0)},A=async H=>{const K=a.find(F=>F.id===H);if(K&&window.confirm(`Are you sure you want to delete "${K.title}"? This will remove the template and its booking link.`))try{await y.deleteAvailabilityTemplate(H),i(F=>F.filter(re=>re.id!==H))}catch(F){console.error("Failed to delete template:",F),alert("Failed to delete template. Please try again.")}},L=H=>{i(h?K=>K.map(F=>F.id===H.id?H:F):K=>[H,...K]),p(!1),g(null)},D=H=>{const K=window.location.origin,F=`naddr1${x.id.slice(0,8)}31926${H.id}`;return`${K}/booking?naddr=nostr:${F}`},q=H=>{const K=D(H);navigator.clipboard.writeText(K).then(()=>{alert("Booking link copied to clipboard!")}).catch(()=>{alert("Failed to copy link. Please try again.")})},O=H=>{if(H<60)return`${H}m`;const K=Math.floor(H/60),F=H%60;return F>0?`${K}h ${F}m`:`${K}h`},_=H=>Object.entries(H).filter(([F,re])=>re.enabled).map(([F])=>F).join(", ")||"No days enabled",Y=a.filter(H=>H.title.toLowerCase().includes(c.toLowerCase())||H.description.toLowerCase().includes(c.toLowerCase()));return d.jsxs("div",{className:"event-slots-page",children:[d.jsx(Df,{}),d.jsxs("div",{className:"event-slots-container",children:[d.jsx("div",{className:"event-slots-header",children:d.jsxs("div",{className:"header-content",children:[d.jsxs("div",{children:[d.jsx("h1",{children:"Availability Templates"}),d.jsx("p",{children:"Create availability templates and share booking links for people to reserve time with you."})]}),d.jsxs("button",{className:"create-template-btn",onClick:E,children:[d.jsx("span",{className:"icon-plus",children:"+"}),"New Template"]})]})}),d.jsxs("div",{className:"event-slots-content",children:[d.jsx("div",{className:"search-section",children:d.jsx("input",{type:"text",className:"search-input",placeholder:"Search availability templates...",value:c,onChange:H=>f(H.target.value)})}),r?d.jsxs("div",{className:"loading-state",children:[d.jsx("div",{className:"spinner"}),"Loading your availability templates..."]}):Y.length===0?d.jsxs("div",{className:"empty-state",children:[d.jsx("div",{className:"empty-icon",children:""}),d.jsx("h3",{children:"No availability templates yet"}),d.jsx("p",{children:"Create your first availability template to start accepting bookings."}),d.jsxs("button",{className:"create-template-btn",onClick:E,children:[d.jsx("span",{className:"icon-plus",children:"+"}),"Create Template"]})]}):d.jsx("div",{className:"availability-templates-grid",children:Y.map(H=>d.jsxs("div",{className:"template-card",children:[d.jsxs("div",{className:"template-header",children:[d.jsx("h3",{children:H.title}),d.jsxs("div",{className:"template-actions",children:[d.jsx("button",{className:"icon-btn",onClick:()=>N(H),title:"Edit template",children:""}),d.jsx("button",{className:"icon-btn",onClick:()=>q(H),title:"Copy booking link",children:""}),d.jsx("button",{className:"icon-btn delete-btn",onClick:()=>A(H.id),title:"Delete template",children:""})]})]}),d.jsx("p",{className:"template-description",children:H.description}),d.jsxs("div",{className:"template-meta",children:[d.jsxs("div",{className:"meta-item",children:[d.jsx("span",{className:"meta-icon",children:""}),d.jsx("span",{children:O(H.duration)})]}),d.jsxs("div",{className:"meta-item",children:[d.jsx("span",{className:"meta-icon",children:""}),d.jsx("span",{children:_(H.availability)})]}),d.jsxs("div",{className:"meta-item",children:[d.jsx("span",{className:"meta-icon",children:""}),d.jsxs("span",{children:[H.zapAmount||0," sats"]})]}),(H.bufferBefore>0||H.bufferAfter>0)&&d.jsxs("div",{className:"meta-item",children:[d.jsx("span",{className:"meta-icon",children:""}),d.jsxs("span",{children:[H.bufferBefore,"m/",H.bufferAfter,"m buffer"]})]}),H.minNotice>0&&d.jsxs("div",{className:"meta-item",children:[d.jsx("span",{className:"meta-icon",children:""}),d.jsxs("span",{children:[H.minNotice,"m notice"]})]}),d.jsxs("div",{className:"meta-item",children:[d.jsx("span",{className:"meta-icon",children:""}),d.jsxs("span",{children:[H.maxAdvance===0?"Unlimited":`${H.maxAdvance} days`," advance"]})]})]}),d.jsxs("div",{className:"booking-link",children:[d.jsx("strong",{children:"Booking Link:"}),d.jsx("div",{className:"link-display",children:D(H)})]})]},H.id))})]})]}),m&&d.jsx(n3,{template:h,calendars:S,onClose:()=>{p(!1),g(null)},onSave:L})]})}const n0=["SU","MO","TU","WE","TH","FR","SA"];function a0(){const[a]=Q1(),{pool:i}=on(),[r,s]=M.useState("input"),[c,f]=M.useState(""),[m,p]=M.useState(null),[h,g]=M.useState(null),[y,v]=M.useState(new Map),[x,S]=M.useState(new Date),[T,E]=M.useState(null),[N,A]=M.useState(null),[L,D]=M.useState(""),[q,O]=M.useState(""),[_,Y]=M.useState(!1);M.useEffect(()=>{const J=a.get("naddr"),se=window.location.hash.slice(1);let ie=J||se;if(!ie&&window.location.pathname.includes("/booking/")){const ue=window.location.pathname.split("/booking/");ue.length>1&&ue[1]&&(ie=decodeURIComponent(ue[1]))}ie&&(ie.startsWith("nostr:")||(ie="nostr:"+ie),f(ie),setTimeout(()=>F(ie),500))},[a]);const H=J=>{try{if(J.split(":").length<2)throw new Error("Invalid naddr format");return{kind:31926,identifier:K(J)}}catch(se){throw new Error("Could not parse naddr: "+se.message)}},K=J=>{try{const se=J.match(/31926(.+)$/);if(se)return se[1];const ie=J.match(/avail-[\w-]+/);return ie?ie[0]:"avail-weekly"}catch{return"avail-weekly"}},F=async(J=c)=>{if(!J||!J.startsWith("nostr:naddr")){D('Please enter a valid naddr booking link starting with "nostr:naddr"');return}s("loading"),D("");try{const se=H(J),ie=await i.getAvailabilityTemplate(se.identifier);if(!ie)throw new Error("No availability template found for this link");g(ie.ownerPubkey),p(ie);const ue=await i.getBusyTimes(ie.ownerPubkey,ie.calendarRef);v(new Map(ue)),s("booking")}catch(se){D("Failed to load availability: "+se.message),s("error")}},re=()=>{s("input"),p(null),g(null),v(new Map),E(null),A(null)},ce=J=>{if(!m)return!1;const se=n0[J.getDay()];if(!m.weeklyAvailability[se]||!m.weeklyAvailability[se].enabled)return!1;if(m.maxAdvanceDays!==null){const ie=new Date;ie.setHours(0,0,0,0);const ue=new Date(ie);if(ue.setDate(ie.getDate()+m.maxAdvanceDays),J>ue)return!1}return!0},oe=J=>{if(!m||!m.minNotice)return!0;const se=new Date,ie=new Date(se.getTime()+m.minNotice*60*1e3),ue=new Date(J);return ue.setHours(23,59,59,999),ue>=ie},$=J=>{E(J),A(null)},z=(J,se)=>{const ie=[],{start:ue,end:ye}=se,le=m.duration,pe=m.interval||le,[De,Ne]=ue.split(":").map(Number),[Ve,Se]=ye.split(":").map(Number),_t=De*60+Ne,mt=Ve*60+Se;for(let qe=_t;qe<mt&&!(qe+le>mt);qe+=pe){const Ki=Math.floor(qe/60),kl=qe%60,cn=new Date(J);cn.setHours(Ki,kl,0,0);const un=new Date(cn);un.setMinutes(un.getMinutes()+le);const Ji=new Date,Pi=new Date(Ji.getTime()+m.minNotice*60*1e3),Hs=cn<=Ji,qs=cn<Pi,ga=j(cn,un);ie.push({start:cn,end:un,display:k(Ki,kl),available:!Hs&&!qs&&!ga})}return ie},j=(J,se)=>{const ie=J.toISOString().split("T")[0],ue=y.get(ie)||[],ye=m?.bufferBefore||0,le=m?.bufferAfter||0;return ue.some(pe=>{const De=new Date(pe.start.getTime()-le*60*1e3),Ne=new Date(pe.end.getTime()+ye*60*1e3);return J<Ne&&se>De})},k=(J,se)=>{const ie=J>=12?"PM":"AM",ue=J===0?12:J>12?J-12:J,ye=se.toString().padStart(2,"0");return`${ue}:${ye} ${ie}`},W=J=>{J.available&&A(J)},ae=async()=>{if(!N||!T){D("Please select a date and time first.");return}if(!(m.zapAmount&&m.zapAmount>0&&!window.confirm(`This booking requires a ${m.zapAmount} sats zap. Do you want to proceed?`)))try{Y(!0),O("Creating booking request...");const J=await C();O(" Booking request sent successfully! The host will receive your request and can accept or decline it."),setTimeout(()=>{re()},5e3)}catch(J){O(" Failed to create booking: "+J.message)}finally{Y(!1)}},C=async()=>{if(!window.nostr)throw new Error("Please connect with Nostr to make a booking");const J=await window.nostr.getPublicKey(),se=Math.floor(N.start.getTime()/1e3),ie=Math.floor(N.end.getTime()/1e3),ue={kind:31923,created_at:Math.floor(Date.now()/1e3),tags:[["d",`booking-${Date.now()}-${Math.random().toString(36).substr(2,9)}`],["title","Meeting Request"],["start",se.toString()],["end",ie.toString()],["summary",`Booking request from ${J.slice(0,8)}...`],["start_tzid",m.timezone],["end_tzid",m.timezone],["location",m.location||"Online Meeting"],["p",h,"","attendee"],["p",J,"","organizer"],["a",`31926:${h}:${m.identifier}`],["t","booking-request"]],content:`Meeting request for ${N.display} on ${T.toLocaleDateString()}. ${m.description||""}`},ye=await window.nostr.signEvent(ue);return await i.publishEvent(ye)},Z=()=>{const J=x.getFullYear(),se=x.getMonth(),ie=new Date(J,se,1),ue=new Date(ie);ue.setDate(ue.getDate()-ie.getDay());const ye=[];for(let le=0;le<42;le++){const pe=new Date(ue);pe.setDate(ue.getDate()+le);const De=pe.getMonth()===se,Ne=pe.toDateString()===new Date().toDateString(),Ve=T&&pe.toDateString()===T.toDateString(),Se=ce(pe),_t=pe<new Date().setHours(0,0,0,0),mt=!oe(pe);let qe="booking-calendar-day";De||(qe+=" other-month"),Ve&&(qe+=" selected"),Ne&&(qe+=" today"),(_t||mt||!Se)&&(qe+=" unavailable"),Se&&!_t&&!mt&&(qe+=" available"),ye.push(d.jsx("div",{className:qe,onClick:()=>Se&&!_t&&!mt&&$(pe),children:d.jsx("div",{className:"booking-day-number",children:pe.getDate()})},le))}return ye},ee=()=>{if(!T||!m)return d.jsx("div",{className:"no-times",children:" Select a date to see available times"});const J=n0[T.getDay()],se=m.weeklyAvailability[J];if(!se)return d.jsx("div",{className:"no-times",children:"No availability on this day"});const ie=z(T,se);return ie.length===0?d.jsx("div",{className:"no-times",children:"No available times"}):ie.map((ue,ye)=>d.jsx("button",{className:`booking-time-slot ${ue.available?"":"disabled"} ${N&&N.start.getTime()===ue.start.getTime()?"selected":""}`,disabled:!ue.available,onClick:()=>W(ue),children:ue.display},ye))},ne=J=>{S(new Date(x.getFullYear(),x.getMonth()+J,1)),E(null),A(null)};return r==="input"?d.jsx("div",{className:"booking-page",children:d.jsxs("div",{className:"booking-input",children:[d.jsx("h1",{children:" Book an Appointment"}),d.jsx("p",{children:"Enter your Nostr booking link (naddr) to view available time slots and schedule your appointment on the decentralized web."}),d.jsxs("div",{className:"input-form",children:[d.jsx("input",{type:"text",className:"naddr-input",value:c,onChange:J=>f(J.target.value),placeholder:"nostr:naddr1...",onKeyPress:J=>J.key==="Enter"&&F()}),d.jsx("button",{className:"load-btn",onClick:()=>F(),children:"Load Availability"})]}),L&&d.jsx("div",{className:"error-message",children:L})]})}):r==="loading"?d.jsx("div",{className:"booking-page",children:d.jsxs("div",{className:"loading-state",children:[d.jsx("div",{className:"spinner"}),d.jsx("p",{children:"Loading availability..."})]})}):r==="error"?d.jsx("div",{className:"booking-page",children:d.jsxs("div",{className:"error-state",children:[d.jsx("h2",{children:" Error"}),d.jsx("p",{children:L}),d.jsx("button",{className:"back-btn",onClick:re,children:" Try Again"})]})}):r==="booking"&&m?d.jsx("div",{className:"booking-page",children:d.jsxs("div",{className:"booking-interface",children:[d.jsx("button",{className:"back-btn",onClick:re,children:" Back to link entry"}),d.jsxs("div",{className:"event-header",children:[d.jsx("div",{className:"host-avatar",children:h?.slice(0,2).toUpperCase()||""}),d.jsxs("div",{className:"event-info",children:[d.jsx("h2",{children:m.title}),d.jsx("p",{className:"event-description",children:m.description}),d.jsxs("div",{className:"event-meta",children:[d.jsxs("span",{children:[" ",m.duration," min"]}),d.jsxs("span",{children:[" ",m.timezone]}),d.jsxs("span",{children:[" ",m.location]})]})]})]}),d.jsxs("div",{className:"booking-content",children:[d.jsxs("div",{className:"booking-calendar-section",children:[d.jsxs("div",{className:"booking-calendar-controls",children:[d.jsx("h3",{children:x.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),d.jsxs("div",{className:"month-nav",children:[d.jsx("button",{onClick:()=>ne(-1),children:" Previous"}),d.jsx("button",{onClick:()=>ne(1),children:"Next "})]})]}),d.jsxs("div",{className:"booking-calendar-grid",children:[d.jsx("div",{className:"booking-calendar-header",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(J=>d.jsx("div",{className:"booking-calendar-header-day",children:J},J))}),d.jsx("div",{className:"booking-calendar-body",children:Z()})]})]}),d.jsxs("div",{className:"time-slots-section",children:[d.jsx("div",{className:"selected-date",children:T?T.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}):"Select a date"}),d.jsx("div",{className:"timezone-display",children:Intl.DateTimeFormat().resolvedOptions().timeZone}),d.jsx("div",{className:"time-slots",children:ee()}),N&&d.jsx("button",{className:"book-btn",onClick:ae,disabled:_,children:_?"Booking...":" Request Booking"})]})]}),q&&d.jsx("div",{className:"booking-status",children:q})]})}):null}function l3(){const[a,i]=M.useState([]),[r,s]=M.useState(!0),[c,f]=M.useState(""),[m,p]=M.useState("pending"),{pool:h,isConnected:g}=on(),{user:y}=Un();M.useEffect(()=>{y?.id&&g&&v()},[y?.id,g,h]);const v=async()=>{try{s(!0);const D=await h.getBookingRequests(y.id),q=await h.getRSVPEvents(y.id),O=D.map(_=>{const Y=q.filter(K=>K.relatedRequest===`31923:${_.bookerPubkey}:${_.dTag}`||K.event?.tags?.some(F=>F[0]==="e"&&F[1]===_.id));Y.sort((K,F)=>F.createdAt-K.createdAt);const H=Y[0];return{..._,rsvpStatus:H?.status||"pending",rsvpDate:H?.createdAt}});O.sort((_,Y)=>Y.createdAt-_.createdAt),i(O)}catch(D){console.error("Failed to load invitations:",D)}finally{s(!1)}},x=async(D,q)=>{try{if(!a.find(_=>_.id===D))return;await h.respondToBooking(D,q),i(_=>_.map(Y=>Y.id===D?{...Y,rsvpStatus:q,rsvpDate:Math.floor(Date.now()/1e3)}:Y))}catch(O){console.error("Failed to respond to invitation:",O),alert("Failed to respond to invitation. Please try again.")}},S=D=>{const q=new Date(D);return{date:q.toLocaleDateString("en-US",{month:"short",day:"numeric"}),time:q.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}},T=(D,q)=>{const O=Math.round((q-D)/6e4);if(O<60)return`${O}m`;const _=Math.floor(O/60),Y=O%60;return Y>0?`${_}h ${Y}m`:`${_}h`},E=D=>`npub1${D.slice(0,8)}...${D.slice(-8)}`,A=((D,q)=>{const O=Date.now();switch(q){case"pending":return D.filter(_=>_.rsvpStatus==="pending");case"accepted":return D.filter(_=>_.rsvpStatus==="accepted");case"declined":return D.filter(_=>_.rsvpStatus==="declined");case"upcoming":return D.filter(_=>_.rsvpStatus==="accepted"&&_.startTime>O);default:return D}})(a,m).filter(D=>D.title.toLowerCase().includes(c.toLowerCase())||D.description.toLowerCase().includes(c.toLowerCase())),L=D=>{const{date:q,time:O}=S(D.startTime),_=S(D.endTime).time,Y=T(D.startTime,D.endTime),H=E(D.bookerPubkey);let K,F;switch(D.rsvpStatus){case"pending":K="#d97706",F="PENDING";break;case"accepted":K="#059669",F="ACCEPTED";break;case"declined":K="#dc2626",F="DECLINED";break;default:K="#6b7280",F=D.rsvpStatus.toUpperCase()}const re=D.rsvpStatus==="pending",ce=D.rsvpStatus==="accepted"&&D.startTime>Date.now();return d.jsx("div",{className:"booking-card",children:d.jsxs("div",{className:"booking-card-header",children:[d.jsxs("div",{style:{flex:1},children:[d.jsx("h3",{children:D.title}),d.jsx("p",{className:"booking-description",children:D.description}),d.jsxs("div",{className:"booking-meta",children:[d.jsxs("span",{children:[d.jsx("span",{className:"icon-clock"}),`${q} ${O} - ${_} (${Y})`]}),d.jsxs("span",{children:[d.jsx("span",{className:"icon-user"}),"From: ",H]}),d.jsxs("span",{children:[" Requested: ",new Date(D.createdAt*1e3).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})]}),d.jsx("span",{className:"booking-status",style:{backgroundColor:K},children:F})]}),D.rsvpDate&&D.rsvpStatus!=="pending"&&d.jsxs("p",{className:"rsvp-date",children:["Responded on: ",new Date(D.rsvpDate*1e3).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})]})]}),d.jsxs("div",{className:"booking-actions",children:[re&&d.jsxs("div",{className:"action-buttons",children:[d.jsx("button",{className:"btn-accept",onClick:()=>x(D.id,"accepted"),children:"Accept"}),d.jsx("button",{className:"btn-decline",onClick:()=>x(D.id,"declined"),children:"Decline"})]}),ce&&d.jsx("div",{className:"action-buttons",children:d.jsx("button",{className:"btn-cancel",onClick:()=>x(D.id,"declined"),title:"Cancel Meeting",children:"Cancel"})})]})]})},D.id)};return d.jsxs("div",{className:"bookings-page",children:[d.jsx(Df,{}),d.jsxs("div",{className:"bookings-container",children:[d.jsx("div",{className:"bookings-header",children:d.jsx("div",{className:"header-content",children:d.jsxs("div",{children:[d.jsx("h1",{children:"Bookings"}),d.jsx("p",{children:"Manage meeting requests and bookings from others."})]})})}),d.jsxs("div",{className:"bookings-content",children:[d.jsx("div",{className:"search-section",children:d.jsx("input",{type:"text",className:"search-input",placeholder:"Search bookings...",value:c,onChange:D=>f(D.target.value)})}),d.jsxs("div",{className:"tabs",children:[d.jsx("button",{className:`tab ${m==="pending"?"active":""}`,onClick:()=>p("pending"),children:"Pending"}),d.jsx("button",{className:`tab ${m==="accepted"?"active":""}`,onClick:()=>p("accepted"),children:"Accepted"}),d.jsx("button",{className:`tab ${m==="declined"?"active":""}`,onClick:()=>p("declined"),children:"Declined"}),d.jsx("button",{className:`tab ${m==="upcoming"?"active":""}`,onClick:()=>p("upcoming"),children:"Upcoming"})]}),r?d.jsxs("div",{className:"loading-state",children:[d.jsx("div",{className:"spinner"}),"Loading bookings..."]}):A.length===0?d.jsxs("div",{className:"empty-state",children:[d.jsx("div",{className:"empty-icon",children:""}),d.jsxs("h3",{children:["No ",m," bookings"]}),d.jsx("p",{children:m==="pending"?"You have no pending bookings.":m==="accepted"?"You have no accepted bookings.":m==="declined"?"You have no declined bookings.":"You have no upcoming meetings."})]}):d.jsx("div",{className:"bookings-grid",children:A.map(L)})]})]})]})}function i3(){return d.jsxs("div",{className:"app",children:[d.jsx(Df,{}),d.jsxs("div",{className:"app-body",children:[d.jsx(IS,{}),d.jsx(FS,{})]})]})}function r3(){const{isLoggedIn:a}=Un();return d.jsx(V1,{children:d.jsxs(p1,{children:[d.jsx(Oa,{path:"/booking",element:d.jsx(a0,{})}),d.jsx(Oa,{path:"/booking/*",element:d.jsx(a0,{})}),d.jsx(Oa,{path:"/",element:a?d.jsx(i3,{}):d.jsx(xu,{})}),d.jsx(Oa,{path:"/event-slots",element:a?d.jsx(a3,{}):d.jsx(xu,{})}),d.jsx(Oa,{path:"/bookings",element:a?d.jsx(l3,{}):d.jsx(xu,{})}),d.jsx(Oa,{path:"*",element:d.jsx(g1,{to:"/",replace:!0})})]})})}Nb.createRoot(document.getElementById("root")).render(d.jsx(M.StrictMode,{children:d.jsx(kS,{children:d.jsx(F1,{children:d.jsx(GS,{children:d.jsx(XS,{children:d.jsx(r3,{})})})})})}));
