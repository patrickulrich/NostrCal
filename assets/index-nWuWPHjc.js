(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();function gb(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var tu={exports:{}},Li={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg;function pb(){if(xg)return Li;xg=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function s(r,c,d){var m=null;if(d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),"key"in c){d={};for(var p in c)p!=="key"&&(d[p]=c[p])}else d=c;return c=d.ref,{$$typeof:a,type:r,key:m,ref:c!==void 0?c:null,props:d}}return Li.Fragment=i,Li.jsx=s,Li.jsxs=s,Li}var Eg;function yb(){return Eg||(Eg=1,tu.exports=pb()),tu.exports}var f=yb(),nu={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg;function vb(){if(wg)return ye;wg=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function x(C){return C===null||typeof C!="object"?null:(C=v&&C[v]||C["@@iterator"],typeof C=="function"?C:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,N={};function T(C,Z,ee){this.props=C,this.context=Z,this.refs=N,this.updater=ee||S}T.prototype.isReactComponent={},T.prototype.setState=function(C,Z){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Z,"setState")},T.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function j(){}j.prototype=T.prototype;function R(C,Z,ee){this.props=C,this.context=Z,this.refs=N,this.updater=ee||S}var M=R.prototype=new j;M.constructor=R,E(M,T.prototype),M.isPureReactComponent=!0;var D=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},O=Object.prototype.hasOwnProperty;function B(C,Z,ee,le,P,oe){return ee=oe.ref,{$$typeof:a,type:C,key:Z,ref:ee!==void 0?ee:null,props:oe}}function H(C,Z){return B(C.type,Z,void 0,void 0,void 0,C.props)}function K(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function J(C){var Z={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ee){return Z[ee]})}var ne=/\/+/g;function ce(C,Z){return typeof C=="object"&&C!==null&&C.key!=null?J(""+C.key):Z.toString(36)}function re(){}function Y(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(re,re):(C.status="pending",C.then(function(Z){C.status==="pending"&&(C.status="fulfilled",C.value=Z)},function(Z){C.status==="pending"&&(C.status="rejected",C.reason=Z)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function L(C,Z,ee,le,P){var oe=typeof C;(oe==="undefined"||oe==="boolean")&&(C=null);var ie=!1;if(C===null)ie=!0;else switch(oe){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(C.$$typeof){case a:case i:ie=!0;break;case y:return ie=C._init,L(ie(C._payload),Z,ee,le,P)}}if(ie)return P=P(C),ie=le===""?"."+ce(C,0):le,D(P)?(ee="",ie!=null&&(ee=ie.replace(ne,"$&/")+"/"),L(P,Z,ee,"",function(Se){return Se})):P!=null&&(K(P)&&(P=H(P,ee+(P.key==null||C&&C.key===P.key?"":(""+P.key).replace(ne,"$&/")+"/")+ie)),Z.push(P)),1;ie=0;var ue=le===""?".":le+":";if(D(C))for(var pe=0;pe<C.length;pe++)le=C[pe],oe=ue+ce(le,pe),ie+=L(le,Z,ee,oe,P);else if(pe=x(C),typeof pe=="function")for(C=pe.call(C),pe=0;!(le=C.next()).done;)le=le.value,oe=ue+ce(le,pe++),ie+=L(le,Z,ee,oe,P);else if(oe==="object"){if(typeof C.then=="function")return L(Y(C),Z,ee,le,P);throw Z=String(C),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return ie}function A(C,Z,ee){if(C==null)return C;var le=[],P=0;return L(C,le,"","",function(oe){return Z.call(ee,oe,P++)}),le}function $(C){if(C._status===-1){var Z=C._result;Z=Z(),Z.then(function(ee){(C._status===0||C._status===-1)&&(C._status=1,C._result=ee)},function(ee){(C._status===0||C._status===-1)&&(C._status=2,C._result=ee)}),C._status===-1&&(C._status=0,C._result=Z)}if(C._status===1)return C._result.default;throw C._result}var W=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function ae(){}return ye.Children={map:A,forEach:function(C,Z,ee){A(C,function(){Z.apply(this,arguments)},ee)},count:function(C){var Z=0;return A(C,function(){Z++}),Z},toArray:function(C){return A(C,function(Z){return Z})||[]},only:function(C){if(!K(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},ye.Component=T,ye.Fragment=s,ye.Profiler=c,ye.PureComponent=R,ye.StrictMode=r,ye.Suspense=h,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,ye.__COMPILER_RUNTIME={__proto__:null,c:function(C){return k.H.useMemoCache(C)}},ye.cache=function(C){return function(){return C.apply(null,arguments)}},ye.cloneElement=function(C,Z,ee){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var le=E({},C.props),P=C.key,oe=void 0;if(Z!=null)for(ie in Z.ref!==void 0&&(oe=void 0),Z.key!==void 0&&(P=""+Z.key),Z)!O.call(Z,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&Z.ref===void 0||(le[ie]=Z[ie]);var ie=arguments.length-2;if(ie===1)le.children=ee;else if(1<ie){for(var ue=Array(ie),pe=0;pe<ie;pe++)ue[pe]=arguments[pe+2];le.children=ue}return B(C.type,P,void 0,void 0,oe,le)},ye.createContext=function(C){return C={$$typeof:m,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:d,_context:C},C},ye.createElement=function(C,Z,ee){var le,P={},oe=null;if(Z!=null)for(le in Z.key!==void 0&&(oe=""+Z.key),Z)O.call(Z,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(P[le]=Z[le]);var ie=arguments.length-2;if(ie===1)P.children=ee;else if(1<ie){for(var ue=Array(ie),pe=0;pe<ie;pe++)ue[pe]=arguments[pe+2];P.children=ue}if(C&&C.defaultProps)for(le in ie=C.defaultProps,ie)P[le]===void 0&&(P[le]=ie[le]);return B(C,oe,void 0,void 0,null,P)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(C){return{$$typeof:p,render:C}},ye.isValidElement=K,ye.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:$}},ye.memo=function(C,Z){return{$$typeof:g,type:C,compare:Z===void 0?null:Z}},ye.startTransition=function(C){var Z=k.T,ee={};k.T=ee;try{var le=C(),P=k.S;P!==null&&P(ee,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ae,W)}catch(oe){W(oe)}finally{k.T=Z}},ye.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},ye.use=function(C){return k.H.use(C)},ye.useActionState=function(C,Z,ee){return k.H.useActionState(C,Z,ee)},ye.useCallback=function(C,Z){return k.H.useCallback(C,Z)},ye.useContext=function(C){return k.H.useContext(C)},ye.useDebugValue=function(){},ye.useDeferredValue=function(C,Z){return k.H.useDeferredValue(C,Z)},ye.useEffect=function(C,Z,ee){var le=k.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(C,Z)},ye.useId=function(){return k.H.useId()},ye.useImperativeHandle=function(C,Z,ee){return k.H.useImperativeHandle(C,Z,ee)},ye.useInsertionEffect=function(C,Z){return k.H.useInsertionEffect(C,Z)},ye.useLayoutEffect=function(C,Z){return k.H.useLayoutEffect(C,Z)},ye.useMemo=function(C,Z){return k.H.useMemo(C,Z)},ye.useOptimistic=function(C,Z){return k.H.useOptimistic(C,Z)},ye.useReducer=function(C,Z,ee){return k.H.useReducer(C,Z,ee)},ye.useRef=function(C){return k.H.useRef(C)},ye.useState=function(C){return k.H.useState(C)},ye.useSyncExternalStore=function(C,Z,ee){return k.H.useSyncExternalStore(C,Z,ee)},ye.useTransition=function(){return k.H.useTransition()},ye.version="19.1.0",ye}var Sg;function Bu(){return Sg||(Sg=1,nu.exports=vb()),nu.exports}var _=Bu();const on=gb(_);var au={exports:{}},Hi={},lu={exports:{}},iu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function bb(){return Ng||(Ng=1,function(a){function i(A,$){var W=A.length;A.push($);e:for(;0<W;){var ae=W-1>>>1,C=A[ae];if(0<c(C,$))A[ae]=$,A[W]=C,W=ae;else break e}}function s(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var $=A[0],W=A.pop();if(W!==$){A[0]=W;e:for(var ae=0,C=A.length,Z=C>>>1;ae<Z;){var ee=2*(ae+1)-1,le=A[ee],P=ee+1,oe=A[P];if(0>c(le,W))P<C&&0>c(oe,le)?(A[ae]=oe,A[P]=W,ae=P):(A[ae]=le,A[ee]=W,ae=ee);else if(P<C&&0>c(oe,W))A[ae]=oe,A[P]=W,ae=P;else break e}}return $}function c(A,$){var W=A.sortIndex-$.sortIndex;return W!==0?W:A.id-$.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;a.unstable_now=function(){return d.now()}}else{var m=Date,p=m.now();a.unstable_now=function(){return m.now()-p}}var h=[],g=[],y=1,v=null,x=3,S=!1,E=!1,N=!1,T=!1,j=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function D(A){for(var $=s(g);$!==null;){if($.callback===null)r(g);else if($.startTime<=A)r(g),$.sortIndex=$.expirationTime,i(h,$);else break;$=s(g)}}function k(A){if(N=!1,D(A),!E)if(s(h)!==null)E=!0,O||(O=!0,ce());else{var $=s(g);$!==null&&L(k,$.startTime-A)}}var O=!1,B=-1,H=5,K=-1;function J(){return T?!0:!(a.unstable_now()-K<H)}function ne(){if(T=!1,O){var A=a.unstable_now();K=A;var $=!0;try{e:{E=!1,N&&(N=!1,R(B),B=-1),S=!0;var W=x;try{t:{for(D(A),v=s(h);v!==null&&!(v.expirationTime>A&&J());){var ae=v.callback;if(typeof ae=="function"){v.callback=null,x=v.priorityLevel;var C=ae(v.expirationTime<=A);if(A=a.unstable_now(),typeof C=="function"){v.callback=C,D(A),$=!0;break t}v===s(h)&&r(h),D(A)}else r(h);v=s(h)}if(v!==null)$=!0;else{var Z=s(g);Z!==null&&L(k,Z.startTime-A),$=!1}}break e}finally{v=null,x=W,S=!1}$=void 0}}finally{$?ce():O=!1}}}var ce;if(typeof M=="function")ce=function(){M(ne)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,Y=re.port2;re.port1.onmessage=ne,ce=function(){Y.postMessage(null)}}else ce=function(){j(ne,0)};function L(A,$){B=j(function(){A(a.unstable_now())},$)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(A){A.callback=null},a.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<A?Math.floor(1e3/A):5},a.unstable_getCurrentPriorityLevel=function(){return x},a.unstable_next=function(A){switch(x){case 1:case 2:case 3:var $=3;break;default:$=x}var W=x;x=$;try{return A()}finally{x=W}},a.unstable_requestPaint=function(){T=!0},a.unstable_runWithPriority=function(A,$){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var W=x;x=A;try{return $()}finally{x=W}},a.unstable_scheduleCallback=function(A,$,W){var ae=a.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ae+W:ae):W=ae,A){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=W+C,A={id:y++,callback:$,priorityLevel:A,startTime:W,expirationTime:C,sortIndex:-1},W>ae?(A.sortIndex=W,i(g,A),s(h)===null&&A===s(g)&&(N?(R(B),B=-1):N=!0,L(k,W-ae))):(A.sortIndex=C,i(h,A),E||S||(E=!0,O||(O=!0,ce()))),A},a.unstable_shouldYield=J,a.unstable_wrapCallback=function(A){var $=x;return function(){var W=x;x=$;try{return A.apply(this,arguments)}finally{x=W}}}}(iu)),iu}var Tg;function xb(){return Tg||(Tg=1,lu.exports=bb()),lu.exports}var su={exports:{}},dt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg;function Eb(){if(jg)return dt;jg=1;var a=Bu();function i(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(h,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:v==null?null:""+v,children:h,containerInfo:g,implementation:y}}var m=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(h,g){if(h==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,dt.createPortal=function(h,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(i(299));return d(h,g,null,y)},dt.flushSync=function(h){var g=m.T,y=r.p;try{if(m.T=null,r.p=2,h)return h()}finally{m.T=g,r.p=y,r.d.f()}},dt.preconnect=function(h,g){typeof h=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(h,g))},dt.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},dt.preinit=function(h,g){if(typeof h=="string"&&g&&typeof g.as=="string"){var y=g.as,v=p(y,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?r.d.S(h,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:S}):y==="script"&&r.d.X(h,{crossOrigin:v,integrity:x,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},dt.preinitModule=function(h,g){if(typeof h=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=p(g.as,g.crossOrigin);r.d.M(h,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(h)},dt.preload=function(h,g){if(typeof h=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=p(y,g.crossOrigin);r.d.L(h,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},dt.preloadModule=function(h,g){if(typeof h=="string")if(g){var y=p(g.as,g.crossOrigin);r.d.m(h,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(h)},dt.requestFormReset=function(h){r.d.r(h)},dt.unstable_batchedUpdates=function(h,g){return h(g)},dt.useFormState=function(h,g,y){return m.H.useFormState(h,g,y)},dt.useFormStatus=function(){return m.H.useHostTransitionStatus()},dt.version="19.1.0",dt}var Ag;function wb(){if(Ag)return su.exports;Ag=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),su.exports=Eb(),su.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg;function Sb(){if(Dg)return Hi;Dg=1;var a=xb(),i=Bu(),s=wb();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(r(188))}function h(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,l=t;;){var o=n.return;if(o===null)break;var u=o.alternate;if(u===null){if(l=o.return,l!==null){n=l;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===n)return p(o),e;if(u===l)return p(o),t;u=u.sibling}throw Error(r(188))}if(n.return!==l.return)n=o,l=u;else{for(var b=!1,w=o.child;w;){if(w===n){b=!0,n=o,l=u;break}if(w===l){b=!0,l=o,n=u;break}w=w.sibling}if(!b){for(w=u.child;w;){if(w===n){b=!0,n=u,l=o;break}if(w===l){b=!0,l=u,n=o;break}w=w.sibling}if(!b)throw Error(r(189))}}if(n.alternate!==l)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),M=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function ce(e){return e===null||typeof e!="object"?null:(e=ne&&e[ne]||e["@@iterator"],typeof e=="function"?e:null)}var re=Symbol.for("react.client.reference");function Y(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===re?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case T:return"Profiler";case N:return"StrictMode";case k:return"Suspense";case O:return"SuspenseList";case K:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case M:return(e.displayName||"Context")+".Provider";case R:return(e._context.displayName||"Context")+".Consumer";case D:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B:return t=e.displayName||null,t!==null?t:Y(e.type)||"Memo";case H:t=e._payload,e=e._init;try{return Y(e(t))}catch{}}return null}var L=Array.isArray,A=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ae=[],C=-1;function Z(e){return{current:e}}function ee(e){0>C||(e.current=ae[C],ae[C]=null,C--)}function le(e,t){C++,ae[C]=e.current,e.current=t}var P=Z(null),oe=Z(null),ie=Z(null),ue=Z(null);function pe(e,t){switch(le(ie,t),le(oe,e),le(P,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Km(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Km(t),e=Jm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ee(P),le(P,e)}function Se(){ee(P),ee(oe),ee(ie)}function ke(e){e.memoizedState!==null&&le(ue,e);var t=P.current,n=Jm(t,e.type);t!==n&&(le(oe,e),le(P,n))}function se(e){oe.current===e&&(ee(P),ee(oe)),ue.current===e&&(ee(ue),Ui._currentValue=W)}var we=Object.prototype.hasOwnProperty,Ce=a.unstable_scheduleCallback,Be=a.unstable_cancelCallback,Fe=a.unstable_shouldYield,Ae=a.unstable_requestPaint,He=a.unstable_now,Ln=a.unstable_getCurrentPriorityLevel,$l=a.unstable_ImmediatePriority,fn=a.unstable_UserBlockingPriority,dn=a.unstable_NormalPriority,Wi=a.unstable_LowPriority,Fi=a.unstable_IdlePriority,$r=a.log,Yr=a.unstable_setDisableYieldValue,va=null,St=null;function Hn(e){if(typeof $r=="function"&&Yr(e),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(va,e)}catch{}}var Nt=Math.clz32?Math.clz32:t0,Fy=Math.log,e0=Math.LN2;function t0(e){return e>>>=0,e===0?32:31-(Fy(e)/e0|0)|0}var es=256,ts=4194304;function ba(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ns(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var o=0,u=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var w=l&134217727;return w!==0?(l=w&~u,l!==0?o=ba(l):(b&=w,b!==0?o=ba(b):n||(n=w&~e,n!==0&&(o=ba(n))))):(w=l&~u,w!==0?o=ba(w):b!==0?o=ba(b):n||(n=l&~e,n!==0&&(o=ba(n)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:o}function Yl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function n0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _f(){var e=es;return es<<=1,(es&4194048)===0&&(es=256),e}function Mf(){var e=ts;return ts<<=1,(ts&62914560)===0&&(ts=4194304),e}function Vr(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function a0(e,t,n,l,o,u){var b=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var w=e.entanglements,U=e.expirationTimes,G=e.hiddenUpdates;for(n=b&~n;0<n;){var I=31-Nt(n),te=1<<I;w[I]=0,U[I]=-1;var X=G[I];if(X!==null)for(G[I]=null,I=0;I<X.length;I++){var Q=X[I];Q!==null&&(Q.lane&=-536870913)}n&=~te}l!==0&&Uf(e,l,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(b&~t))}function Uf(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Nt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&4194090}function Of(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Nt(n),o=1<<l;o&t|e[l]&t&&(e[l]|=t),n&=~o}}function Gr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Zr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function kf(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:mg(e.type))}function l0(e,t){var n=$.p;try{return $.p=e,t()}finally{$.p=n}}var qn=Math.random().toString(36).slice(2),ut="__reactFiber$"+qn,yt="__reactProps$"+qn,Ga="__reactContainer$"+qn,Xr="__reactEvents$"+qn,i0="__reactListeners$"+qn,s0="__reactHandles$"+qn,zf="__reactResources$"+qn,Gl="__reactMarker$"+qn;function Qr(e){delete e[ut],delete e[yt],delete e[Xr],delete e[i0],delete e[s0]}function Za(e){var t=e[ut];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ga]||n[ut]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fm(e);e!==null;){if(n=e[ut])return n;e=Fm(e)}return t}e=n,n=e.parentNode}return null}function Xa(e){if(e=e[ut]||e[Ga]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Zl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Qa(e){var t=e[zf];return t||(t=e[zf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Gl]=!0}var Bf=new Set,Lf={};function xa(e,t){Ka(e,t),Ka(e+"Capture",t)}function Ka(e,t){for(Lf[e]=t,e=0;e<t.length;e++)Bf.add(t[e])}var r0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hf={},qf={};function o0(e){return we.call(qf,e)?!0:we.call(Hf,e)?!1:r0.test(e)?qf[e]=!0:(Hf[e]=!0,!1)}function as(e,t,n){if(o0(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ls(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function hn(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}var Kr,$f;function Ja(e){if(Kr===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Kr=t&&t[1]||"",$f=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kr+e+$f}var Jr=!1;function Pr(e,t){if(!e||Jr)return"";Jr=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Q){var X=Q}Reflect.construct(e,[],te)}else{try{te.call()}catch(Q){X=Q}e.call(te.prototype)}}else{try{throw Error()}catch(Q){X=Q}(te=e())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Q){if(Q&&X&&typeof Q.stack=="string")return[Q.stack,X.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=l.DetermineComponentFrameRoot(),b=u[0],w=u[1];if(b&&w){var U=b.split(`
`),G=w.split(`
`);for(o=l=0;l<U.length&&!U[l].includes("DetermineComponentFrameRoot");)l++;for(;o<G.length&&!G[o].includes("DetermineComponentFrameRoot");)o++;if(l===U.length||o===G.length)for(l=U.length-1,o=G.length-1;1<=l&&0<=o&&U[l]!==G[o];)o--;for(;1<=l&&0<=o;l--,o--)if(U[l]!==G[o]){if(l!==1||o!==1)do if(l--,o--,0>o||U[l]!==G[o]){var I=`
`+U[l].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=l&&0<=o);break}}}finally{Jr=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ja(n):""}function c0(e){switch(e.tag){case 26:case 27:case 5:return Ja(e.type);case 16:return Ja("Lazy");case 13:return Ja("Suspense");case 19:return Ja("SuspenseList");case 0:case 15:return Pr(e.type,!1);case 11:return Pr(e.type.render,!1);case 1:return Pr(e.type,!0);case 31:return Ja("Activity");default:return""}}function Yf(e){try{var t="";do t+=c0(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Mt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function u0(e){var t=Vf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(b){l=""+b,u.call(this,b)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function is(e){e._valueTracker||(e._valueTracker=u0(e))}function Gf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Vf(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function ss(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var f0=/[\n"\\]/g;function Ut(e){return e.replace(f0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ir(e,t,n,l,o,u,b,w){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),t!=null?b==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Mt(t)):e.value!==""+Mt(t)&&(e.value=""+Mt(t)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),t!=null?Wr(e,b,Mt(t)):n!=null?Wr(e,b,Mt(n)):l!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+Mt(w):e.removeAttribute("name")}function Zf(e,t,n,l,o,u,b,w){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null))return;n=n!=null?""+Mt(n):"",t=t!=null?""+Mt(t):n,w||t===e.value||(e.value=t),e.defaultValue=t}l=l??o,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=w?e.checked:!!l,e.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b)}function Wr(e,t,n){t==="number"&&ss(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Pa(e,t,n,l){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Mt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,l&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Xf(e,t,n){if(t!=null&&(t=""+Mt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Mt(n):""}function Qf(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(r(92));if(L(l)){if(1<l.length)throw Error(r(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=Mt(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l)}function Ia(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var d0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kf(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||d0.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Jf(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var o in t)l=t[o],t.hasOwnProperty(o)&&n[o]!==l&&Kf(e,o,l)}else for(var u in t)t.hasOwnProperty(u)&&Kf(e,u,t[u])}function Fr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var h0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),m0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rs(e){return m0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var eo=null;function to(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wa=null,Fa=null;function Pf(e){var t=Xa(e);if(t&&(e=t.stateNode)){var n=e[yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ir(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ut(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var o=l[yt]||null;if(!o)throw Error(r(90));Ir(l,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Gf(l)}break e;case"textarea":Xf(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Pa(e,!!n.multiple,t,!1)}}}var no=!1;function If(e,t,n){if(no)return e(t,n);no=!0;try{var l=e(t);return l}finally{if(no=!1,(Wa!==null||Fa!==null)&&(Xs(),Wa&&(t=Wa,e=Fa,Fa=Wa=null,Pf(t),e)))for(t=0;t<e.length;t++)Pf(e[t])}}function Xl(e,t){var n=e.stateNode;if(n===null)return null;var l=n[yt]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ao=!1;if(mn)try{var Ql={};Object.defineProperty(Ql,"passive",{get:function(){ao=!0}}),window.addEventListener("test",Ql,Ql),window.removeEventListener("test",Ql,Ql)}catch{ao=!1}var $n=null,lo=null,os=null;function Wf(){if(os)return os;var e,t=lo,n=t.length,l,o="value"in $n?$n.value:$n.textContent,u=o.length;for(e=0;e<n&&t[e]===o[e];e++);var b=n-e;for(l=1;l<=b&&t[n-l]===o[u-l];l++);return os=o.slice(e,1<l?1-l:void 0)}function cs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function us(){return!0}function Ff(){return!1}function vt(e){function t(n,l,o,u,b){this._reactName=n,this._targetInst=o,this.type=l,this.nativeEvent=u,this.target=b,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(n=e[w],this[w]=n?n(u):u[w]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?us:Ff,this.isPropagationStopped=Ff,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),t}var Ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fs=vt(Ea),Kl=y({},Ea,{view:0,detail:0}),g0=vt(Kl),io,so,Jl,ds=y({},Kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jl&&(Jl&&e.type==="mousemove"?(io=e.screenX-Jl.screenX,so=e.screenY-Jl.screenY):so=io=0,Jl=e),io)},movementY:function(e){return"movementY"in e?e.movementY:so}}),ed=vt(ds),p0=y({},ds,{dataTransfer:0}),y0=vt(p0),v0=y({},Kl,{relatedTarget:0}),ro=vt(v0),b0=y({},Ea,{animationName:0,elapsedTime:0,pseudoElement:0}),x0=vt(b0),E0=y({},Ea,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),w0=vt(E0),S0=y({},Ea,{data:0}),td=vt(S0),N0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=j0[e])?!!t[e]:!1}function oo(){return A0}var D0=y({},Kl,{key:function(e){if(e.key){var t=N0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?T0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oo,charCode:function(e){return e.type==="keypress"?cs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),C0=vt(D0),R0=y({},ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nd=vt(R0),_0=y({},Kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oo}),M0=vt(_0),U0=y({},Ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),O0=vt(U0),k0=y({},ds,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),z0=vt(k0),B0=y({},Ea,{newState:0,oldState:0}),L0=vt(B0),H0=[9,13,27,32],co=mn&&"CompositionEvent"in window,Pl=null;mn&&"documentMode"in document&&(Pl=document.documentMode);var q0=mn&&"TextEvent"in window&&!Pl,ad=mn&&(!co||Pl&&8<Pl&&11>=Pl),ld=" ",id=!1;function sd(e,t){switch(e){case"keyup":return H0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var el=!1;function $0(e,t){switch(e){case"compositionend":return rd(t);case"keypress":return t.which!==32?null:(id=!0,ld);case"textInput":return e=t.data,e===ld&&id?null:e;default:return null}}function Y0(e,t){if(el)return e==="compositionend"||!co&&sd(e,t)?(e=Wf(),os=lo=$n=null,el=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ad&&t.locale!=="ko"?null:t.data;default:return null}}var V0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function od(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!V0[e.type]:t==="textarea"}function cd(e,t,n,l){Wa?Fa?Fa.push(l):Fa=[l]:Wa=l,t=Ws(t,"onChange"),0<t.length&&(n=new fs("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var Il=null,Wl=null;function G0(e){Vm(e,0)}function hs(e){var t=Zl(e);if(Gf(t))return e}function ud(e,t){if(e==="change")return t}var fd=!1;if(mn){var uo;if(mn){var fo="oninput"in document;if(!fo){var dd=document.createElement("div");dd.setAttribute("oninput","return;"),fo=typeof dd.oninput=="function"}uo=fo}else uo=!1;fd=uo&&(!document.documentMode||9<document.documentMode)}function hd(){Il&&(Il.detachEvent("onpropertychange",md),Wl=Il=null)}function md(e){if(e.propertyName==="value"&&hs(Wl)){var t=[];cd(t,Wl,e,to(e)),If(G0,t)}}function Z0(e,t,n){e==="focusin"?(hd(),Il=t,Wl=n,Il.attachEvent("onpropertychange",md)):e==="focusout"&&hd()}function X0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hs(Wl)}function Q0(e,t){if(e==="click")return hs(t)}function K0(e,t){if(e==="input"||e==="change")return hs(t)}function J0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:J0;function Fl(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var o=n[l];if(!we.call(t,o)||!Tt(e[o],t[o]))return!1}return!0}function gd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pd(e,t){var n=gd(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gd(n)}}function yd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ss(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ss(e.document)}return t}function ho(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var P0=mn&&"documentMode"in document&&11>=document.documentMode,tl=null,mo=null,ei=null,go=!1;function bd(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;go||tl==null||tl!==ss(l)||(l=tl,"selectionStart"in l&&ho(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ei&&Fl(ei,l)||(ei=l,l=Ws(mo,"onSelect"),0<l.length&&(t=new fs("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=tl)))}function wa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var nl={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionrun:wa("Transition","TransitionRun"),transitionstart:wa("Transition","TransitionStart"),transitioncancel:wa("Transition","TransitionCancel"),transitionend:wa("Transition","TransitionEnd")},po={},xd={};mn&&(xd=document.createElement("div").style,"AnimationEvent"in window||(delete nl.animationend.animation,delete nl.animationiteration.animation,delete nl.animationstart.animation),"TransitionEvent"in window||delete nl.transitionend.transition);function Sa(e){if(po[e])return po[e];if(!nl[e])return e;var t=nl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in xd)return po[e]=t[n];return e}var Ed=Sa("animationend"),wd=Sa("animationiteration"),Sd=Sa("animationstart"),I0=Sa("transitionrun"),W0=Sa("transitionstart"),F0=Sa("transitioncancel"),Nd=Sa("transitionend"),Td=new Map,yo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yo.push("scrollEnd");function Zt(e,t){Td.set(e,t),xa(t,[e])}var jd=new WeakMap;function Ot(e,t){if(typeof e=="object"&&e!==null){var n=jd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Yf(t)},jd.set(e,t),t)}return{value:e,source:t,stack:Yf(t)}}var kt=[],al=0,vo=0;function ms(){for(var e=al,t=vo=al=0;t<e;){var n=kt[t];kt[t++]=null;var l=kt[t];kt[t++]=null;var o=kt[t];kt[t++]=null;var u=kt[t];if(kt[t++]=null,l!==null&&o!==null){var b=l.pending;b===null?o.next=o:(o.next=b.next,b.next=o),l.pending=o}u!==0&&Ad(n,o,u)}}function gs(e,t,n,l){kt[al++]=e,kt[al++]=t,kt[al++]=n,kt[al++]=l,vo|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function bo(e,t,n,l){return gs(e,t,n,l),ps(e)}function ll(e,t){return gs(e,null,null,t),ps(e)}function Ad(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var o=!1,u=e.return;u!==null;)u.childLanes|=n,l=u.alternate,l!==null&&(l.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-Nt(n),e=u.hiddenUpdates,l=e[o],l===null?e[o]=[t]:l.push(t),t.lane=n|536870912),u):null}function ps(e){if(50<Ti)throw Ti=0,Tc=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var il={};function ev(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,n,l){return new ev(e,t,n,l)}function xo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gn(e,t){var n=e.alternate;return n===null?(n=jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Dd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ys(e,t,n,l,o,u){var b=0;if(l=e,typeof e=="function")xo(e)&&(b=1);else if(typeof e=="string")b=nb(e,n,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case K:return e=jt(31,n,t,o),e.elementType=K,e.lanes=u,e;case E:return Na(n.children,o,u,t);case N:b=8,o|=24;break;case T:return e=jt(12,n,t,o|2),e.elementType=T,e.lanes=u,e;case k:return e=jt(13,n,t,o),e.elementType=k,e.lanes=u,e;case O:return e=jt(19,n,t,o),e.elementType=O,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case j:case M:b=10;break e;case R:b=9;break e;case D:b=11;break e;case B:b=14;break e;case H:b=16,l=null;break e}b=29,n=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=jt(b,n,t,o),t.elementType=e,t.type=l,t.lanes=u,t}function Na(e,t,n,l){return e=jt(7,e,l,t),e.lanes=n,e}function Eo(e,t,n){return e=jt(6,e,null,t),e.lanes=n,e}function wo(e,t,n){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var sl=[],rl=0,vs=null,bs=0,zt=[],Bt=0,Ta=null,pn=1,yn="";function ja(e,t){sl[rl++]=bs,sl[rl++]=vs,vs=e,bs=t}function Cd(e,t,n){zt[Bt++]=pn,zt[Bt++]=yn,zt[Bt++]=Ta,Ta=e;var l=pn;e=yn;var o=32-Nt(l)-1;l&=~(1<<o),n+=1;var u=32-Nt(t)+o;if(30<u){var b=o-o%5;u=(l&(1<<b)-1).toString(32),l>>=b,o-=b,pn=1<<32-Nt(t)+o|n<<o|l,yn=u+e}else pn=1<<u|n<<o|l,yn=e}function So(e){e.return!==null&&(ja(e,1),Cd(e,1,0))}function No(e){for(;e===vs;)vs=sl[--rl],sl[rl]=null,bs=sl[--rl],sl[rl]=null;for(;e===Ta;)Ta=zt[--Bt],zt[Bt]=null,yn=zt[--Bt],zt[Bt]=null,pn=zt[--Bt],zt[Bt]=null}var pt=null,Ge=null,De=!1,Aa=null,Wt=!1,To=Error(r(519));function Da(e){var t=Error(r(418,""));throw ai(Ot(t,e)),To}function Rd(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[ut]=e,t[yt]=l,n){case"dialog":Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":case"embed":Ee("load",t);break;case"video":case"audio":for(n=0;n<Ai.length;n++)Ee(Ai[n],t);break;case"source":Ee("error",t);break;case"img":case"image":case"link":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"input":Ee("invalid",t),Zf(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),is(t);break;case"select":Ee("invalid",t);break;case"textarea":Ee("invalid",t),Qf(t,l.value,l.defaultValue,l.children),is(t)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Qm(t.textContent,n)?(l.popover!=null&&(Ee("beforetoggle",t),Ee("toggle",t)),l.onScroll!=null&&Ee("scroll",t),l.onScrollEnd!=null&&Ee("scrollend",t),l.onClick!=null&&(t.onclick=Fs),t=!0):t=!1,t||Da(e)}function _d(e){for(pt=e.return;pt;)switch(pt.tag){case 5:case 13:Wt=!1;return;case 27:case 3:Wt=!0;return;default:pt=pt.return}}function ti(e){if(e!==pt)return!1;if(!De)return _d(e),De=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||$c(e.type,e.memoizedProps)),n=!n),n&&Ge&&Da(e),_d(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Ge=Qt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Ge=null}}else t===27?(t=Ge,aa(e.type)?(e=Zc,Zc=null,Ge=e):Ge=t):Ge=pt?Qt(e.stateNode.nextSibling):null;return!0}function ni(){Ge=pt=null,De=!1}function Md(){var e=Aa;return e!==null&&(Et===null?Et=e:Et.push.apply(Et,e),Aa=null),e}function ai(e){Aa===null?Aa=[e]:Aa.push(e)}var jo=Z(null),Ca=null,vn=null;function Yn(e,t,n){le(jo,t._currentValue),t._currentValue=n}function bn(e){e._currentValue=jo.current,ee(jo)}function Ao(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function Do(e,t,n,l){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var b=o.child;u=u.firstContext;e:for(;u!==null;){var w=u;u=o;for(var U=0;U<t.length;U++)if(w.context===t[U]){u.lanes|=n,w=u.alternate,w!==null&&(w.lanes|=n),Ao(u.return,n,e),l||(b=null);break e}u=w.next}}else if(o.tag===18){if(b=o.return,b===null)throw Error(r(341));b.lanes|=n,u=b.alternate,u!==null&&(u.lanes|=n),Ao(b,n,e),b=null}else b=o.child;if(b!==null)b.return=o;else for(b=o;b!==null;){if(b===e){b=null;break}if(o=b.sibling,o!==null){o.return=b.return,b=o;break}b=b.return}o=b}}function li(e,t,n,l){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var b=o.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var w=o.type;Tt(o.pendingProps.value,b.value)||(e!==null?e.push(w):e=[w])}}else if(o===ue.current){if(b=o.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Ui):e=[Ui])}o=o.return}e!==null&&Do(t,e,n,l),t.flags|=262144}function xs(e){for(e=e.firstContext;e!==null;){if(!Tt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ra(e){Ca=e,vn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ft(e){return Ud(Ca,e)}function Es(e,t){return Ca===null&&Ra(e),Ud(e,t)}function Ud(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},vn===null){if(e===null)throw Error(r(308));vn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vn=vn.next=t;return n}var tv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},nv=a.unstable_scheduleCallback,av=a.unstable_NormalPriority,Ie={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Co(){return{controller:new tv,data:new Map,refCount:0}}function ii(e){e.refCount--,e.refCount===0&&nv(av,function(){e.controller.abort()})}var si=null,Ro=0,ol=0,cl=null;function lv(e,t){if(si===null){var n=si=[];Ro=0,ol=Mc(),cl={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Ro++,t.then(Od,Od),t}function Od(){if(--Ro===0&&si!==null){cl!==null&&(cl.status="fulfilled");var e=si;si=null,ol=0,cl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function iv(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(l.status="rejected",l.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),l}var kd=A.S;A.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&lv(e,t),kd!==null&&kd(e,t)};var _a=Z(null);function _o(){var e=_a.current;return e!==null?e:Le.pooledCache}function ws(e,t){t===null?le(_a,_a.current):le(_a,t.pool)}function zd(){var e=_o();return e===null?null:{parent:Ie._currentValue,pool:e}}var ri=Error(r(460)),Bd=Error(r(474)),Ss=Error(r(542)),Mo={then:function(){}};function Ld(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ns(){}function Hd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Ns,Ns),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,$d(e),e;default:if(typeof t.status=="string")t.then(Ns,Ns);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=l}},function(l){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,$d(e),e}throw oi=t,ri}}var oi=null;function qd(){if(oi===null)throw Error(r(459));var e=oi;return oi=null,e}function $d(e){if(e===ri||e===Ss)throw Error(r(483))}var Vn=!1;function Uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Gn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Zn(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Re&2)!==0){var o=l.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),l.pending=t,t=ps(e),Ad(e,null,n),t}return gs(e,l,t,n),ps(e)}function ci(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Of(e,n)}}function ko(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var o=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var b={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?o=u=b:u=u.next=b,n=n.next}while(n!==null);u===null?o=u=t:u=u.next=t}else o=u=t;n={baseState:l.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var zo=!1;function ui(){if(zo){var e=cl;if(e!==null)throw e}}function fi(e,t,n,l){zo=!1;var o=e.updateQueue;Vn=!1;var u=o.firstBaseUpdate,b=o.lastBaseUpdate,w=o.shared.pending;if(w!==null){o.shared.pending=null;var U=w,G=U.next;U.next=null,b===null?u=G:b.next=G,b=U;var I=e.alternate;I!==null&&(I=I.updateQueue,w=I.lastBaseUpdate,w!==b&&(w===null?I.firstBaseUpdate=G:w.next=G,I.lastBaseUpdate=U))}if(u!==null){var te=o.baseState;b=0,I=G=U=null,w=u;do{var X=w.lane&-536870913,Q=X!==w.lane;if(Q?(Ne&X)===X:(l&X)===X){X!==0&&X===ol&&(zo=!0),I!==null&&(I=I.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ge=e,he=w;X=t;var Oe=n;switch(he.tag){case 1:if(ge=he.payload,typeof ge=="function"){te=ge.call(Oe,te,X);break e}te=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=he.payload,X=typeof ge=="function"?ge.call(Oe,te,X):ge,X==null)break e;te=y({},te,X);break e;case 2:Vn=!0}}X=w.callback,X!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=o.callbacks,Q===null?o.callbacks=[X]:Q.push(X))}else Q={lane:X,tag:w.tag,payload:w.payload,callback:w.callback,next:null},I===null?(G=I=Q,U=te):I=I.next=Q,b|=X;if(w=w.next,w===null){if(w=o.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,o.lastBaseUpdate=Q,o.shared.pending=null}}while(!0);I===null&&(U=te),o.baseState=U,o.firstBaseUpdate=G,o.lastBaseUpdate=I,u===null&&(o.shared.lanes=0),Fn|=b,e.lanes=b,e.memoizedState=te}}function Yd(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Vd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Yd(n[e],t)}var ul=Z(null),Ts=Z(0);function Gd(e,t){e=jn,le(Ts,e),le(ul,t),jn=e|t.baseLanes}function Bo(){le(Ts,jn),le(ul,ul.current)}function Lo(){jn=Ts.current,ee(ul),ee(Ts)}var Xn=0,ve=null,Me=null,Je=null,js=!1,fl=!1,Ma=!1,As=0,di=0,dl=null,sv=0;function Xe(){throw Error(r(321))}function Ho(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tt(e[n],t[n]))return!1;return!0}function qo(e,t,n,l,o,u){return Xn=u,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,A.H=e===null||e.memoizedState===null?Ah:Dh,Ma=!1,u=n(l,o),Ma=!1,fl&&(u=Xd(t,n,l,o)),Zd(e),u}function Zd(e){A.H=Us;var t=Me!==null&&Me.next!==null;if(Xn=0,Je=Me=ve=null,js=!1,di=0,dl=null,t)throw Error(r(300));e===null||tt||(e=e.dependencies,e!==null&&xs(e)&&(tt=!0))}function Xd(e,t,n,l){ve=e;var o=0;do{if(fl&&(dl=null),di=0,fl=!1,25<=o)throw Error(r(301));if(o+=1,Je=Me=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}A.H=hv,u=t(n,l)}while(fl);return u}function rv(){var e=A.H,t=e.useState()[0];return t=typeof t.then=="function"?hi(t):t,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(ve.flags|=1024),t}function $o(){var e=As!==0;return As=0,e}function Yo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Vo(e){if(js){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}js=!1}Xn=0,Je=Me=ve=null,fl=!1,di=As=0,dl=null}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?ve.memoizedState=Je=e:Je=Je.next=e,Je}function Pe(){if(Me===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=Je===null?ve.memoizedState:Je.next;if(t!==null)Je=t,Me=e;else{if(e===null)throw ve.alternate===null?Error(r(467)):Error(r(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Je===null?ve.memoizedState=Je=e:Je=Je.next=e}return Je}function Go(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hi(e){var t=di;return di+=1,dl===null&&(dl=[]),e=Hd(dl,e,t),t=ve,(Je===null?t.memoizedState:Je.next)===null&&(t=t.alternate,A.H=t===null||t.memoizedState===null?Ah:Dh),e}function Ds(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return hi(e);if(e.$$typeof===M)return ft(e)}throw Error(r(438,String(e)))}function Zo(e){var t=null,n=ve.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Go(),ve.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=J;return t.index++,n}function xn(e,t){return typeof t=="function"?t(e):t}function Cs(e){var t=Pe();return Xo(t,Me,e)}function Xo(e,t,n){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var o=e.baseQueue,u=l.pending;if(u!==null){if(o!==null){var b=o.next;o.next=u.next,u.next=b}t.baseQueue=o=u,l.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var w=b=null,U=null,G=t,I=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(Ne&te)===te:(Xn&te)===te){var X=G.revertLane;if(X===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===ol&&(I=!0);else if((Xn&X)===X){G=G.next,X===ol&&(I=!0);continue}else te={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},U===null?(w=U=te,b=u):U=U.next=te,ve.lanes|=X,Fn|=X;te=G.action,Ma&&n(u,te),u=G.hasEagerState?G.eagerState:n(u,te)}else X={lane:te,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},U===null?(w=U=X,b=u):U=U.next=X,ve.lanes|=te,Fn|=te;G=G.next}while(G!==null&&G!==t);if(U===null?b=u:U.next=w,!Tt(u,e.memoizedState)&&(tt=!0,I&&(n=cl,n!==null)))throw n;e.memoizedState=u,e.baseState=b,e.baseQueue=U,l.lastRenderedState=u}return o===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Qo(e){var t=Pe(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var l=n.dispatch,o=n.pending,u=t.memoizedState;if(o!==null){n.pending=null;var b=o=o.next;do u=e(u,b.action),b=b.next;while(b!==o);Tt(u,t.memoizedState)||(tt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,l]}function Qd(e,t,n){var l=ve,o=Pe(),u=De;if(u){if(n===void 0)throw Error(r(407));n=n()}else n=t();var b=!Tt((Me||o).memoizedState,n);b&&(o.memoizedState=n,tt=!0),o=o.queue;var w=Pd.bind(null,l,o,e);if(mi(2048,8,w,[e]),o.getSnapshot!==t||b||Je!==null&&Je.memoizedState.tag&1){if(l.flags|=2048,hl(9,Rs(),Jd.bind(null,l,o,n,t),null),Le===null)throw Error(r(349));u||(Xn&124)!==0||Kd(l,t,n)}return n}function Kd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t=Go(),ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jd(e,t,n,l){t.value=n,t.getSnapshot=l,Id(t)&&Wd(e)}function Pd(e,t,n){return n(function(){Id(t)&&Wd(e)})}function Id(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tt(e,n)}catch{return!0}}function Wd(e){var t=ll(e,2);t!==null&&_t(t,e,2)}function Ko(e){var t=bt();if(typeof e=="function"){var n=e;if(e=n(),Ma){Hn(!0);try{n()}finally{Hn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:e},t}function Fd(e,t,n,l){return e.baseState=n,Xo(e,Me,typeof l=="function"?l:xn)}function ov(e,t,n,l,o){if(Ms(e))throw Error(r(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){u.listeners.push(b)}};A.T!==null?n(!0):u.isTransition=!1,l(u),n=t.pending,n===null?(u.next=t.pending=u,eh(t,u)):(u.next=n.next,t.pending=n.next=u)}}function eh(e,t){var n=t.action,l=t.payload,o=e.state;if(t.isTransition){var u=A.T,b={};A.T=b;try{var w=n(o,l),U=A.S;U!==null&&U(b,w),th(e,t,w)}catch(G){Jo(e,t,G)}finally{A.T=u}}else try{u=n(o,l),th(e,t,u)}catch(G){Jo(e,t,G)}}function th(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){nh(e,t,l)},function(l){return Jo(e,t,l)}):nh(e,t,n)}function nh(e,t,n){t.status="fulfilled",t.value=n,ah(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,eh(e,n)))}function Jo(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,ah(t),t=t.next;while(t!==l)}e.action=null}function ah(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function lh(e,t){return t}function ih(e,t){if(De){var n=Le.formState;if(n!==null){e:{var l=ve;if(De){if(Ge){t:{for(var o=Ge,u=Wt;o.nodeType!==8;){if(!u){o=null;break t}if(o=Qt(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){Ge=Qt(o.nextSibling),l=o.data==="F!";break e}}Da(l)}l=!1}l&&(t=n[0])}}return n=bt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lh,lastRenderedState:t},n.queue=l,n=Nh.bind(null,ve,l),l.dispatch=n,l=Ko(!1),u=ec.bind(null,ve,!1,l.queue),l=bt(),o={state:t,dispatch:null,action:e,pending:null},l.queue=o,n=ov.bind(null,ve,o,u,n),o.dispatch=n,l.memoizedState=e,[t,n,!1]}function sh(e){var t=Pe();return rh(t,Me,e)}function rh(e,t,n){if(t=Xo(e,t,lh)[0],e=Cs(xn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=hi(t)}catch(b){throw b===ri?Ss:b}else l=t;t=Pe();var o=t.queue,u=o.dispatch;return n!==t.memoizedState&&(ve.flags|=2048,hl(9,Rs(),cv.bind(null,o,n),null)),[l,u,e]}function cv(e,t){e.action=t}function oh(e){var t=Pe(),n=Me;if(n!==null)return rh(t,n,e);Pe(),t=t.memoizedState,n=Pe();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function hl(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=ve.updateQueue,t===null&&(t=Go(),ve.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function Rs(){return{destroy:void 0,resource:void 0}}function ch(){return Pe().memoizedState}function _s(e,t,n,l){var o=bt();l=l===void 0?null:l,ve.flags|=e,o.memoizedState=hl(1|t,Rs(),n,l)}function mi(e,t,n,l){var o=Pe();l=l===void 0?null:l;var u=o.memoizedState.inst;Me!==null&&l!==null&&Ho(l,Me.memoizedState.deps)?o.memoizedState=hl(t,u,n,l):(ve.flags|=e,o.memoizedState=hl(1|t,u,n,l))}function uh(e,t){_s(8390656,8,e,t)}function fh(e,t){mi(2048,8,e,t)}function dh(e,t){return mi(4,2,e,t)}function hh(e,t){return mi(4,4,e,t)}function mh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gh(e,t,n){n=n!=null?n.concat([e]):null,mi(4,4,mh.bind(null,t,e),n)}function Po(){}function ph(e,t){var n=Pe();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Ho(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function yh(e,t){var n=Pe();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Ho(t,l[1]))return l[0];if(l=e(),Ma){Hn(!0);try{e()}finally{Hn(!1)}}return n.memoizedState=[l,t],l}function Io(e,t,n){return n===void 0||(Xn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=xm(),ve.lanes|=e,Fn|=e,n)}function vh(e,t,n,l){return Tt(n,t)?n:ul.current!==null?(e=Io(e,n,l),Tt(e,t)||(tt=!0),e):(Xn&42)===0?(tt=!0,e.memoizedState=n):(e=xm(),ve.lanes|=e,Fn|=e,t)}function bh(e,t,n,l,o){var u=$.p;$.p=u!==0&&8>u?u:8;var b=A.T,w={};A.T=w,ec(e,!1,t,n);try{var U=o(),G=A.S;if(G!==null&&G(w,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var I=iv(U,l);gi(e,t,I,Rt(e))}else gi(e,t,l,Rt(e))}catch(te){gi(e,t,{then:function(){},status:"rejected",reason:te},Rt())}finally{$.p=u,A.T=b}}function uv(){}function Wo(e,t,n,l){if(e.tag!==5)throw Error(r(476));var o=xh(e).queue;bh(e,o,t,W,n===null?uv:function(){return Eh(e),n(l)})}function xh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:W},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Eh(e){var t=xh(e).next.queue;gi(e,t,{},Rt())}function Fo(){return ft(Ui)}function wh(){return Pe().memoizedState}function Sh(){return Pe().memoizedState}function fv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Rt();e=Gn(n);var l=Zn(t,e,n);l!==null&&(_t(l,t,n),ci(l,t,n)),t={cache:Co()},e.payload=t;return}t=t.return}}function dv(e,t,n){var l=Rt();n={lane:l,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ms(e)?Th(t,n):(n=bo(e,t,n,l),n!==null&&(_t(n,e,l),jh(n,t,l)))}function Nh(e,t,n){var l=Rt();gi(e,t,n,l)}function gi(e,t,n,l){var o={lane:l,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ms(e))Th(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var b=t.lastRenderedState,w=u(b,n);if(o.hasEagerState=!0,o.eagerState=w,Tt(w,b))return gs(e,t,o,0),Le===null&&ms(),!1}catch{}finally{}if(n=bo(e,t,o,l),n!==null)return _t(n,e,l),jh(n,t,l),!0}return!1}function ec(e,t,n,l){if(l={lane:2,revertLane:Mc(),action:l,hasEagerState:!1,eagerState:null,next:null},Ms(e)){if(t)throw Error(r(479))}else t=bo(e,n,l,2),t!==null&&_t(t,e,2)}function Ms(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function Th(e,t){fl=js=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jh(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Of(e,n)}}var Us={readContext:ft,use:Ds,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe},Ah={readContext:ft,use:Ds,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:ft,useEffect:uh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,_s(4194308,4,mh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _s(4194308,4,e,t)},useInsertionEffect:function(e,t){_s(4,2,e,t)},useMemo:function(e,t){var n=bt();t=t===void 0?null:t;var l=e();if(Ma){Hn(!0);try{e()}finally{Hn(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=bt();if(n!==void 0){var o=n(t);if(Ma){Hn(!0);try{n(t)}finally{Hn(!1)}}}else o=t;return l.memoizedState=l.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},l.queue=e,e=e.dispatch=dv.bind(null,ve,e),[l.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:function(e){e=Ko(e);var t=e.queue,n=Nh.bind(null,ve,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Po,useDeferredValue:function(e,t){var n=bt();return Io(n,e,t)},useTransition:function(){var e=Ko(!1);return e=bh.bind(null,ve,e.queue,!0,!1),bt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=ve,o=bt();if(De){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),Le===null)throw Error(r(349));(Ne&124)!==0||Kd(l,t,n)}o.memoizedState=n;var u={value:n,getSnapshot:t};return o.queue=u,uh(Pd.bind(null,l,u,e),[e]),l.flags|=2048,hl(9,Rs(),Jd.bind(null,l,u,n,t),null),n},useId:function(){var e=bt(),t=Le.identifierPrefix;if(De){var n=yn,l=pn;n=(l&~(1<<32-Nt(l)-1)).toString(32)+n,t=""+t+"R"+n,n=As++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=sv++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Fo,useFormState:ih,useActionState:ih,useOptimistic:function(e){var t=bt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ec.bind(null,ve,!0,n),n.dispatch=t,[e,t]},useMemoCache:Zo,useCacheRefresh:function(){return bt().memoizedState=fv.bind(null,ve)}},Dh={readContext:ft,use:Ds,useCallback:ph,useContext:ft,useEffect:fh,useImperativeHandle:gh,useInsertionEffect:dh,useLayoutEffect:hh,useMemo:yh,useReducer:Cs,useRef:ch,useState:function(){return Cs(xn)},useDebugValue:Po,useDeferredValue:function(e,t){var n=Pe();return vh(n,Me.memoizedState,e,t)},useTransition:function(){var e=Cs(xn)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:hi(e),t]},useSyncExternalStore:Qd,useId:wh,useHostTransitionStatus:Fo,useFormState:sh,useActionState:sh,useOptimistic:function(e,t){var n=Pe();return Fd(n,Me,e,t)},useMemoCache:Zo,useCacheRefresh:Sh},hv={readContext:ft,use:Ds,useCallback:ph,useContext:ft,useEffect:fh,useImperativeHandle:gh,useInsertionEffect:dh,useLayoutEffect:hh,useMemo:yh,useReducer:Qo,useRef:ch,useState:function(){return Qo(xn)},useDebugValue:Po,useDeferredValue:function(e,t){var n=Pe();return Me===null?Io(n,e,t):vh(n,Me.memoizedState,e,t)},useTransition:function(){var e=Qo(xn)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:hi(e),t]},useSyncExternalStore:Qd,useId:wh,useHostTransitionStatus:Fo,useFormState:oh,useActionState:oh,useOptimistic:function(e,t){var n=Pe();return Me!==null?Fd(n,Me,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Zo,useCacheRefresh:Sh},ml=null,pi=0;function Os(e){var t=pi;return pi+=1,ml===null&&(ml=[]),Hd(ml,e,t)}function yi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ks(e,t){throw t.$$typeof===v?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ch(e){var t=e._init;return t(e._payload)}function Rh(e){function t(q,z){if(e){var V=q.deletions;V===null?(q.deletions=[z],q.flags|=16):V.push(z)}}function n(q,z){if(!e)return null;for(;z!==null;)t(q,z),z=z.sibling;return null}function l(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function o(q,z){return q=gn(q,z),q.index=0,q.sibling=null,q}function u(q,z,V){return q.index=V,e?(V=q.alternate,V!==null?(V=V.index,V<z?(q.flags|=67108866,z):V):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function b(q){return e&&q.alternate===null&&(q.flags|=67108866),q}function w(q,z,V,F){return z===null||z.tag!==6?(z=Eo(V,q.mode,F),z.return=q,z):(z=o(z,V),z.return=q,z)}function U(q,z,V,F){var fe=V.type;return fe===E?I(q,z,V.props.children,F,V.key):z!==null&&(z.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===H&&Ch(fe)===z.type)?(z=o(z,V.props),yi(z,V),z.return=q,z):(z=ys(V.type,V.key,V.props,null,q.mode,F),yi(z,V),z.return=q,z)}function G(q,z,V,F){return z===null||z.tag!==4||z.stateNode.containerInfo!==V.containerInfo||z.stateNode.implementation!==V.implementation?(z=wo(V,q.mode,F),z.return=q,z):(z=o(z,V.children||[]),z.return=q,z)}function I(q,z,V,F,fe){return z===null||z.tag!==7?(z=Na(V,q.mode,F,fe),z.return=q,z):(z=o(z,V),z.return=q,z)}function te(q,z,V){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Eo(""+z,q.mode,V),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return V=ys(z.type,z.key,z.props,null,q.mode,V),yi(V,z),V.return=q,V;case S:return z=wo(z,q.mode,V),z.return=q,z;case H:var F=z._init;return z=F(z._payload),te(q,z,V)}if(L(z)||ce(z))return z=Na(z,q.mode,V,null),z.return=q,z;if(typeof z.then=="function")return te(q,Os(z),V);if(z.$$typeof===M)return te(q,Es(q,z),V);ks(q,z)}return null}function X(q,z,V,F){var fe=z!==null?z.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return fe!==null?null:w(q,z,""+V,F);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case x:return V.key===fe?U(q,z,V,F):null;case S:return V.key===fe?G(q,z,V,F):null;case H:return fe=V._init,V=fe(V._payload),X(q,z,V,F)}if(L(V)||ce(V))return fe!==null?null:I(q,z,V,F,null);if(typeof V.then=="function")return X(q,z,Os(V),F);if(V.$$typeof===M)return X(q,z,Es(q,V),F);ks(q,V)}return null}function Q(q,z,V,F,fe){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return q=q.get(V)||null,w(z,q,""+F,fe);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return q=q.get(F.key===null?V:F.key)||null,U(z,q,F,fe);case S:return q=q.get(F.key===null?V:F.key)||null,G(z,q,F,fe);case H:var be=F._init;return F=be(F._payload),Q(q,z,V,F,fe)}if(L(F)||ce(F))return q=q.get(V)||null,I(z,q,F,fe,null);if(typeof F.then=="function")return Q(q,z,V,Os(F),fe);if(F.$$typeof===M)return Q(q,z,V,Es(z,F),fe);ks(z,F)}return null}function ge(q,z,V,F){for(var fe=null,be=null,de=z,me=z=0,at=null;de!==null&&me<V.length;me++){de.index>me?(at=de,de=null):at=de.sibling;var Te=X(q,de,V[me],F);if(Te===null){de===null&&(de=at);break}e&&de&&Te.alternate===null&&t(q,de),z=u(Te,z,me),be===null?fe=Te:be.sibling=Te,be=Te,de=at}if(me===V.length)return n(q,de),De&&ja(q,me),fe;if(de===null){for(;me<V.length;me++)de=te(q,V[me],F),de!==null&&(z=u(de,z,me),be===null?fe=de:be.sibling=de,be=de);return De&&ja(q,me),fe}for(de=l(de);me<V.length;me++)at=Q(de,q,me,V[me],F),at!==null&&(e&&at.alternate!==null&&de.delete(at.key===null?me:at.key),z=u(at,z,me),be===null?fe=at:be.sibling=at,be=at);return e&&de.forEach(function(oa){return t(q,oa)}),De&&ja(q,me),fe}function he(q,z,V,F){if(V==null)throw Error(r(151));for(var fe=null,be=null,de=z,me=z=0,at=null,Te=V.next();de!==null&&!Te.done;me++,Te=V.next()){de.index>me?(at=de,de=null):at=de.sibling;var oa=X(q,de,Te.value,F);if(oa===null){de===null&&(de=at);break}e&&de&&oa.alternate===null&&t(q,de),z=u(oa,z,me),be===null?fe=oa:be.sibling=oa,be=oa,de=at}if(Te.done)return n(q,de),De&&ja(q,me),fe;if(de===null){for(;!Te.done;me++,Te=V.next())Te=te(q,Te.value,F),Te!==null&&(z=u(Te,z,me),be===null?fe=Te:be.sibling=Te,be=Te);return De&&ja(q,me),fe}for(de=l(de);!Te.done;me++,Te=V.next())Te=Q(de,q,me,Te.value,F),Te!==null&&(e&&Te.alternate!==null&&de.delete(Te.key===null?me:Te.key),z=u(Te,z,me),be===null?fe=Te:be.sibling=Te,be=Te);return e&&de.forEach(function(mb){return t(q,mb)}),De&&ja(q,me),fe}function Oe(q,z,V,F){if(typeof V=="object"&&V!==null&&V.type===E&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case x:e:{for(var fe=V.key;z!==null;){if(z.key===fe){if(fe=V.type,fe===E){if(z.tag===7){n(q,z.sibling),F=o(z,V.props.children),F.return=q,q=F;break e}}else if(z.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===H&&Ch(fe)===z.type){n(q,z.sibling),F=o(z,V.props),yi(F,V),F.return=q,q=F;break e}n(q,z);break}else t(q,z);z=z.sibling}V.type===E?(F=Na(V.props.children,q.mode,F,V.key),F.return=q,q=F):(F=ys(V.type,V.key,V.props,null,q.mode,F),yi(F,V),F.return=q,q=F)}return b(q);case S:e:{for(fe=V.key;z!==null;){if(z.key===fe)if(z.tag===4&&z.stateNode.containerInfo===V.containerInfo&&z.stateNode.implementation===V.implementation){n(q,z.sibling),F=o(z,V.children||[]),F.return=q,q=F;break e}else{n(q,z);break}else t(q,z);z=z.sibling}F=wo(V,q.mode,F),F.return=q,q=F}return b(q);case H:return fe=V._init,V=fe(V._payload),Oe(q,z,V,F)}if(L(V))return ge(q,z,V,F);if(ce(V)){if(fe=ce(V),typeof fe!="function")throw Error(r(150));return V=fe.call(V),he(q,z,V,F)}if(typeof V.then=="function")return Oe(q,z,Os(V),F);if(V.$$typeof===M)return Oe(q,z,Es(q,V),F);ks(q,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,z!==null&&z.tag===6?(n(q,z.sibling),F=o(z,V),F.return=q,q=F):(n(q,z),F=Eo(V,q.mode,F),F.return=q,q=F),b(q)):n(q,z)}return function(q,z,V,F){try{pi=0;var fe=Oe(q,z,V,F);return ml=null,fe}catch(de){if(de===ri||de===Ss)throw de;var be=jt(29,de,null,q.mode);return be.lanes=F,be.return=q,be}finally{}}}var gl=Rh(!0),_h=Rh(!1),Lt=Z(null),Ft=null;function Qn(e){var t=e.alternate;le(We,We.current&1),le(Lt,e),Ft===null&&(t===null||ul.current!==null||t.memoizedState!==null)&&(Ft=e)}function Mh(e){if(e.tag===22){if(le(We,We.current),le(Lt,e),Ft===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Ft=e)}}else Kn()}function Kn(){le(We,We.current),le(Lt,Lt.current)}function En(e){ee(Lt),Ft===e&&(Ft=null),ee(We)}var We=Z(0);function zs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Gc(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function tc(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:y({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nc={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=Rt(),o=Gn(l);o.payload=t,n!=null&&(o.callback=n),t=Zn(e,o,l),t!==null&&(_t(t,e,l),ci(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=Rt(),o=Gn(l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Zn(e,o,l),t!==null&&(_t(t,e,l),ci(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rt(),l=Gn(n);l.tag=2,t!=null&&(l.callback=t),t=Zn(e,l,n),t!==null&&(_t(t,e,n),ci(t,e,n))}};function Uh(e,t,n,l,o,u,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,u,b):t.prototype&&t.prototype.isPureReactComponent?!Fl(n,l)||!Fl(o,u):!0}function Oh(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&nc.enqueueReplaceState(t,t.state,null)}function Ua(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=y({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}var Bs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function kh(e){Bs(e)}function zh(e){console.error(e)}function Bh(e){Bs(e)}function Ls(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Lh(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function ac(e,t,n){return n=Gn(n),n.tag=3,n.payload={element:null},n.callback=function(){Ls(e,t)},n}function Hh(e){return e=Gn(e),e.tag=3,e}function qh(e,t,n,l){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var u=l.value;e.payload=function(){return o(u)},e.callback=function(){Lh(t,n,l)}}var b=n.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){Lh(t,n,l),typeof o!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function mv(e,t,n,l,o){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&li(t,n,o,!0),n=Lt.current,n!==null){switch(n.tag){case 13:return Ft===null?Ac():n.alternate===null&&Ze===0&&(Ze=3),n.flags&=-257,n.flags|=65536,n.lanes=o,l===Mo?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Cc(e,l,o)),!1;case 22:return n.flags|=65536,l===Mo?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Cc(e,l,o)),!1}throw Error(r(435,n.tag))}return Cc(e,l,o),Ac(),!1}if(De)return t=Lt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,l!==To&&(e=Error(r(422),{cause:l}),ai(Ot(e,n)))):(l!==To&&(t=Error(r(423),{cause:l}),ai(Ot(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,l=Ot(l,n),o=ac(e.stateNode,l,o),ko(e,o),Ze!==4&&(Ze=2)),!1;var u=Error(r(520),{cause:l});if(u=Ot(u,n),Ni===null?Ni=[u]:Ni.push(u),Ze!==4&&(Ze=2),t===null)return!0;l=Ot(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=ac(n.stateNode,l,e),ko(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(ea===null||!ea.has(u))))return n.flags|=65536,o&=-o,n.lanes|=o,o=Hh(o),qh(o,e,n,l),ko(n,o),!1}n=n.return}while(n!==null);return!1}var $h=Error(r(461)),tt=!1;function st(e,t,n,l){t.child=e===null?_h(t,null,n,l):gl(t,e.child,n,l)}function Yh(e,t,n,l,o){n=n.render;var u=t.ref;if("ref"in l){var b={};for(var w in l)w!=="ref"&&(b[w]=l[w])}else b=l;return Ra(t),l=qo(e,t,n,b,u,o),w=$o(),e!==null&&!tt?(Yo(e,t,o),wn(e,t,o)):(De&&w&&So(t),t.flags|=1,st(e,t,l,o),t.child)}function Vh(e,t,n,l,o){if(e===null){var u=n.type;return typeof u=="function"&&!xo(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,Gh(e,t,u,l,o)):(e=ys(n.type,null,l,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!fc(e,o)){var b=u.memoizedProps;if(n=n.compare,n=n!==null?n:Fl,n(b,l)&&e.ref===t.ref)return wn(e,t,o)}return t.flags|=1,e=gn(u,l),e.ref=t.ref,e.return=t,t.child=e}function Gh(e,t,n,l,o){if(e!==null){var u=e.memoizedProps;if(Fl(u,l)&&e.ref===t.ref)if(tt=!1,t.pendingProps=l=u,fc(e,o))(e.flags&131072)!==0&&(tt=!0);else return t.lanes=e.lanes,wn(e,t,o)}return lc(e,t,n,l,o)}function Zh(e,t,n){var l=t.pendingProps,o=l.children,u=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((t.flags&128)!==0){if(l=u!==null?u.baseLanes|n:n,e!==null){for(o=t.child=e.child,u=0;o!==null;)u=u|o.lanes|o.childLanes,o=o.sibling;t.childLanes=u&~l}else t.childLanes=0,t.child=null;return Xh(e,t,l,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ws(t,u!==null?u.cachePool:null),u!==null?Gd(t,u):Bo(),Mh(t);else return t.lanes=t.childLanes=536870912,Xh(e,t,u!==null?u.baseLanes|n:n,n)}else u!==null?(ws(t,u.cachePool),Gd(t,u),Kn(),t.memoizedState=null):(e!==null&&ws(t,null),Bo(),Kn());return st(e,t,o,n),t.child}function Xh(e,t,n,l){var o=_o();return o=o===null?null:{parent:Ie._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&ws(t,null),Bo(),Mh(t),e!==null&&li(e,t,l,!0),null}function Hs(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function lc(e,t,n,l,o){return Ra(t),n=qo(e,t,n,l,void 0,o),l=$o(),e!==null&&!tt?(Yo(e,t,o),wn(e,t,o)):(De&&l&&So(t),t.flags|=1,st(e,t,n,o),t.child)}function Qh(e,t,n,l,o,u){return Ra(t),t.updateQueue=null,n=Xd(t,l,n,o),Zd(e),l=$o(),e!==null&&!tt?(Yo(e,t,u),wn(e,t,u)):(De&&l&&So(t),t.flags|=1,st(e,t,n,u),t.child)}function Kh(e,t,n,l,o){if(Ra(t),t.stateNode===null){var u=il,b=n.contextType;typeof b=="object"&&b!==null&&(u=ft(b)),u=new n(l,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=nc,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=l,u.state=t.memoizedState,u.refs={},Uo(t),b=n.contextType,u.context=typeof b=="object"&&b!==null?ft(b):il,u.state=t.memoizedState,b=n.getDerivedStateFromProps,typeof b=="function"&&(tc(t,n,b,l),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(b=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),b!==u.state&&nc.enqueueReplaceState(u,u.state,null),fi(t,l,u,o),ui(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){u=t.stateNode;var w=t.memoizedProps,U=Ua(n,w);u.props=U;var G=u.context,I=n.contextType;b=il,typeof I=="object"&&I!==null&&(b=ft(I));var te=n.getDerivedStateFromProps;I=typeof te=="function"||typeof u.getSnapshotBeforeUpdate=="function",w=t.pendingProps!==w,I||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(w||G!==b)&&Oh(t,u,l,b),Vn=!1;var X=t.memoizedState;u.state=X,fi(t,l,u,o),ui(),G=t.memoizedState,w||X!==G||Vn?(typeof te=="function"&&(tc(t,n,te,l),G=t.memoizedState),(U=Vn||Uh(t,n,U,l,X,G,b))?(I||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=G),u.props=l,u.state=G,u.context=b,l=U):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{u=t.stateNode,Oo(e,t),b=t.memoizedProps,I=Ua(n,b),u.props=I,te=t.pendingProps,X=u.context,G=n.contextType,U=il,typeof G=="object"&&G!==null&&(U=ft(G)),w=n.getDerivedStateFromProps,(G=typeof w=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(b!==te||X!==U)&&Oh(t,u,l,U),Vn=!1,X=t.memoizedState,u.state=X,fi(t,l,u,o),ui();var Q=t.memoizedState;b!==te||X!==Q||Vn||e!==null&&e.dependencies!==null&&xs(e.dependencies)?(typeof w=="function"&&(tc(t,n,w,l),Q=t.memoizedState),(I=Vn||Uh(t,n,I,l,X,Q,U)||e!==null&&e.dependencies!==null&&xs(e.dependencies))?(G||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(l,Q,U),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(l,Q,U)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||b===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=Q),u.props=l,u.state=Q,u.context=U,l=I):(typeof u.componentDidUpdate!="function"||b===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),l=!1)}return u=l,Hs(e,t),l=(t.flags&128)!==0,u||l?(u=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&l?(t.child=gl(t,e.child,null,o),t.child=gl(t,null,n,o)):st(e,t,n,o),t.memoizedState=u.state,e=t.child):e=wn(e,t,o),e}function Jh(e,t,n,l){return ni(),t.flags|=256,st(e,t,n,l),t.child}var ic={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sc(e){return{baseLanes:e,cachePool:zd()}}function rc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ht),e}function Ph(e,t,n){var l=t.pendingProps,o=!1,u=(t.flags&128)!==0,b;if((b=u)||(b=e!==null&&e.memoizedState===null?!1:(We.current&2)!==0),b&&(o=!0,t.flags&=-129),b=(t.flags&32)!==0,t.flags&=-33,e===null){if(De){if(o?Qn(t):Kn(),De){var w=Ge,U;if(U=w){e:{for(U=w,w=Wt;U.nodeType!==8;){if(!w){w=null;break e}if(U=Qt(U.nextSibling),U===null){w=null;break e}}w=U}w!==null?(t.memoizedState={dehydrated:w,treeContext:Ta!==null?{id:pn,overflow:yn}:null,retryLane:536870912,hydrationErrors:null},U=jt(18,null,null,0),U.stateNode=w,U.return=t,t.child=U,pt=t,Ge=null,U=!0):U=!1}U||Da(t)}if(w=t.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Gc(w)?t.lanes=32:t.lanes=536870912,null;En(t)}return w=l.children,l=l.fallback,o?(Kn(),o=t.mode,w=qs({mode:"hidden",children:w},o),l=Na(l,o,n,null),w.return=t,l.return=t,w.sibling=l,t.child=w,o=t.child,o.memoizedState=sc(n),o.childLanes=rc(e,b,n),t.memoizedState=ic,l):(Qn(t),oc(t,w))}if(U=e.memoizedState,U!==null&&(w=U.dehydrated,w!==null)){if(u)t.flags&256?(Qn(t),t.flags&=-257,t=cc(e,t,n)):t.memoizedState!==null?(Kn(),t.child=e.child,t.flags|=128,t=null):(Kn(),o=l.fallback,w=t.mode,l=qs({mode:"visible",children:l.children},w),o=Na(o,w,n,null),o.flags|=2,l.return=t,o.return=t,l.sibling=o,t.child=l,gl(t,e.child,null,n),l=t.child,l.memoizedState=sc(n),l.childLanes=rc(e,b,n),t.memoizedState=ic,t=o);else if(Qn(t),Gc(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var G=b.dgst;b=G,l=Error(r(419)),l.stack="",l.digest=b,ai({value:l,source:null,stack:null}),t=cc(e,t,n)}else if(tt||li(e,t,n,!1),b=(n&e.childLanes)!==0,tt||b){if(b=Le,b!==null&&(l=n&-n,l=(l&42)!==0?1:Gr(l),l=(l&(b.suspendedLanes|n))!==0?0:l,l!==0&&l!==U.retryLane))throw U.retryLane=l,ll(e,l),_t(b,e,l),$h;w.data==="$?"||Ac(),t=cc(e,t,n)}else w.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=U.treeContext,Ge=Qt(w.nextSibling),pt=t,De=!0,Aa=null,Wt=!1,e!==null&&(zt[Bt++]=pn,zt[Bt++]=yn,zt[Bt++]=Ta,pn=e.id,yn=e.overflow,Ta=t),t=oc(t,l.children),t.flags|=4096);return t}return o?(Kn(),o=l.fallback,w=t.mode,U=e.child,G=U.sibling,l=gn(U,{mode:"hidden",children:l.children}),l.subtreeFlags=U.subtreeFlags&65011712,G!==null?o=gn(G,o):(o=Na(o,w,n,null),o.flags|=2),o.return=t,l.return=t,l.sibling=o,t.child=l,l=o,o=t.child,w=e.child.memoizedState,w===null?w=sc(n):(U=w.cachePool,U!==null?(G=Ie._currentValue,U=U.parent!==G?{parent:G,pool:G}:U):U=zd(),w={baseLanes:w.baseLanes|n,cachePool:U}),o.memoizedState=w,o.childLanes=rc(e,b,n),t.memoizedState=ic,l):(Qn(t),n=e.child,e=n.sibling,n=gn(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(b=t.deletions,b===null?(t.deletions=[e],t.flags|=16):b.push(e)),t.child=n,t.memoizedState=null,n)}function oc(e,t){return t=qs({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function qs(e,t){return e=jt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function cc(e,t,n){return gl(t,e.child,null,n),e=oc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ih(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Ao(e.return,t,n)}function uc(e,t,n,l,o){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:o}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=l,u.tail=n,u.tailMode=o)}function Wh(e,t,n){var l=t.pendingProps,o=l.revealOrder,u=l.tail;if(st(e,t,l.children,n),l=We.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ih(e,n,t);else if(e.tag===19)Ih(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(le(We,l),o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&zs(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),uc(t,!1,o,n,u);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&zs(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}uc(t,!0,n,null,u);break;case"together":uc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(li(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function fc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&xs(e)))}function gv(e,t,n){switch(t.tag){case 3:pe(t,t.stateNode.containerInfo),Yn(t,Ie,e.memoizedState.cache),ni();break;case 27:case 5:ke(t);break;case 4:pe(t,t.stateNode.containerInfo);break;case 10:Yn(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Qn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Ph(e,t,n):(Qn(t),e=wn(e,t,n),e!==null?e.sibling:null);Qn(t);break;case 19:var o=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(li(e,t,n,!1),l=(n&t.childLanes)!==0),o){if(l)return Wh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),le(We,We.current),l)break;return null;case 22:case 23:return t.lanes=0,Zh(e,t,n);case 24:Yn(t,Ie,e.memoizedState.cache)}return wn(e,t,n)}function Fh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)tt=!0;else{if(!fc(e,n)&&(t.flags&128)===0)return tt=!1,gv(e,t,n);tt=(e.flags&131072)!==0}else tt=!1,De&&(t.flags&1048576)!==0&&Cd(t,bs,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,o=l._init;if(l=o(l._payload),t.type=l,typeof l=="function")xo(l)?(e=Ua(l,e),t.tag=1,t=Kh(null,t,l,e,n)):(t.tag=0,t=lc(null,t,l,e,n));else{if(l!=null){if(o=l.$$typeof,o===D){t.tag=11,t=Yh(null,t,l,e,n);break e}else if(o===B){t.tag=14,t=Vh(null,t,l,e,n);break e}}throw t=Y(l)||l,Error(r(306,t,""))}}return t;case 0:return lc(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,o=Ua(l,t.pendingProps),Kh(e,t,l,o,n);case 3:e:{if(pe(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var u=t.memoizedState;o=u.element,Oo(e,t),fi(t,l,null,n);var b=t.memoizedState;if(l=b.cache,Yn(t,Ie,l),l!==u.cache&&Do(t,[Ie],n,!0),ui(),l=b.element,u.isDehydrated)if(u={element:l,isDehydrated:!1,cache:b.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Jh(e,t,l,n);break e}else if(l!==o){o=Ot(Error(r(424)),t),ai(o),t=Jh(e,t,l,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ge=Qt(e.firstChild),pt=t,De=!0,Aa=null,Wt=!0,n=_h(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ni(),l===o){t=wn(e,t,n);break e}st(e,t,l,n)}t=t.child}return t;case 26:return Hs(e,t),e===null?(n=ag(t.type,null,t.pendingProps,null))?t.memoizedState=n:De||(n=t.type,e=t.pendingProps,l=er(ie.current).createElement(n),l[ut]=t,l[yt]=e,ot(l,n,e),et(l),t.stateNode=l):t.memoizedState=ag(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ke(t),e===null&&De&&(l=t.stateNode=eg(t.type,t.pendingProps,ie.current),pt=t,Wt=!0,o=Ge,aa(t.type)?(Zc=o,Ge=Qt(l.firstChild)):Ge=o),st(e,t,t.pendingProps.children,n),Hs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&De&&((o=l=Ge)&&(l=Vv(l,t.type,t.pendingProps,Wt),l!==null?(t.stateNode=l,pt=t,Ge=Qt(l.firstChild),Wt=!1,o=!0):o=!1),o||Da(t)),ke(t),o=t.type,u=t.pendingProps,b=e!==null?e.memoizedProps:null,l=u.children,$c(o,u)?l=null:b!==null&&$c(o,b)&&(t.flags|=32),t.memoizedState!==null&&(o=qo(e,t,rv,null,null,n),Ui._currentValue=o),Hs(e,t),st(e,t,l,n),t.child;case 6:return e===null&&De&&((e=n=Ge)&&(n=Gv(n,t.pendingProps,Wt),n!==null?(t.stateNode=n,pt=t,Ge=null,e=!0):e=!1),e||Da(t)),null;case 13:return Ph(e,t,n);case 4:return pe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=gl(t,null,l,n):st(e,t,l,n),t.child;case 11:return Yh(e,t,t.type,t.pendingProps,n);case 7:return st(e,t,t.pendingProps,n),t.child;case 8:return st(e,t,t.pendingProps.children,n),t.child;case 12:return st(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Yn(t,t.type,l.value),st(e,t,l.children,n),t.child;case 9:return o=t.type._context,l=t.pendingProps.children,Ra(t),o=ft(o),l=l(o),t.flags|=1,st(e,t,l,n),t.child;case 14:return Vh(e,t,t.type,t.pendingProps,n);case 15:return Gh(e,t,t.type,t.pendingProps,n);case 19:return Wh(e,t,n);case 31:return l=t.pendingProps,n=t.mode,l={mode:l.mode,children:l.children},e===null?(n=qs(l,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=gn(e.child,l),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Zh(e,t,n);case 24:return Ra(t),l=ft(Ie),e===null?(o=_o(),o===null&&(o=Le,u=Co(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=n),o=u),t.memoizedState={parent:l,cache:o},Uo(t),Yn(t,Ie,o)):((e.lanes&n)!==0&&(Oo(e,t),fi(t,null,null,n),ui()),o=e.memoizedState,u=t.memoizedState,o.parent!==l?(o={parent:l,cache:l},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Yn(t,Ie,l)):(l=u.cache,Yn(t,Ie,l),l!==o.cache&&Do(t,[Ie],n,!0))),st(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Sn(e){e.flags|=4}function em(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!og(t)){if(t=Lt.current,t!==null&&((Ne&4194048)===Ne?Ft!==null:(Ne&62914560)!==Ne&&(Ne&536870912)===0||t!==Ft))throw oi=Mo,Bd;e.flags|=8192}}function $s(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Mf():536870912,e.lanes|=t,bl|=t)}function vi(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,l|=o.subtreeFlags&65011712,l|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,l|=o.subtreeFlags,l|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function pv(e,t,n){var l=t.pendingProps;switch(No(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return Ve(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),bn(Ie),Se(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ti(t)?Sn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Md())),Ve(t),null;case 26:return n=t.memoizedState,e===null?(Sn(t),n!==null?(Ve(t),em(t,n)):(Ve(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Sn(t),Ve(t),em(t,n)):(Ve(t),t.flags&=-16777217):(e.memoizedProps!==l&&Sn(t),Ve(t),t.flags&=-16777217),null;case 27:se(t),n=ie.current;var o=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Sn(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return Ve(t),null}e=P.current,ti(t)?Rd(t):(e=eg(o,l,n),t.stateNode=e,Sn(t))}return Ve(t),null;case 5:if(se(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Sn(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return Ve(t),null}if(e=P.current,ti(t))Rd(t);else{switch(o=er(ie.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?o.createElement("select",{is:l.is}):o.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?o.createElement(n,{is:l.is}):o.createElement(n)}}e[ut]=t,e[yt]=l;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(ot(e,n,l),n){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Sn(t)}}return Ve(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Sn(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=ie.current,ti(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,o=pt,o!==null)switch(o.tag){case 27:case 5:l=o.memoizedProps}e[ut]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Qm(e.nodeValue,n)),e||Da(t)}else e=er(e).createTextNode(l),e[ut]=t,t.stateNode=e}return Ve(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=ti(t),l!==null&&l.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[ut]=t}else ni(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),o=!1}else o=Md(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(En(t),t):(En(t),null)}if(En(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=l!==null,e=e!==null&&e.memoizedState!==null,n){l=t.child,o=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(o=l.alternate.memoizedState.cachePool.pool);var u=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(u=l.memoizedState.cachePool.pool),u!==o&&(l.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),$s(t,t.updateQueue),Ve(t),null;case 4:return Se(),e===null&&zc(t.stateNode.containerInfo),Ve(t),null;case 10:return bn(t.type),Ve(t),null;case 19:if(ee(We),o=t.memoizedState,o===null)return Ve(t),null;if(l=(t.flags&128)!==0,u=o.rendering,u===null)if(l)vi(o,!1);else{if(Ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=zs(e),u!==null){for(t.flags|=128,vi(o,!1),e=u.updateQueue,t.updateQueue=e,$s(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Dd(n,e),n=n.sibling;return le(We,We.current&1|2),t.child}e=e.sibling}o.tail!==null&&He()>Gs&&(t.flags|=128,l=!0,vi(o,!1),t.lanes=4194304)}else{if(!l)if(e=zs(u),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,$s(t,e),vi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!u.alternate&&!De)return Ve(t),null}else 2*He()-o.renderingStartTime>Gs&&n!==536870912&&(t.flags|=128,l=!0,vi(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(e=o.last,e!==null?e.sibling=u:t.child=u,o.last=u)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=He(),t.sibling=null,e=We.current,le(We,l?e&1|2:e&1),t):(Ve(t),null);case 22:case 23:return En(t),Lo(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),n=t.updateQueue,n!==null&&$s(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&ee(_a),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bn(Ie),Ve(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function yv(e,t){switch(No(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bn(Ie),Se(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return se(t),null;case 13:if(En(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));ni()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(We),null;case 4:return Se(),null;case 10:return bn(t.type),null;case 22:case 23:return En(t),Lo(),e!==null&&ee(_a),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return bn(Ie),null;case 25:return null;default:return null}}function tm(e,t){switch(No(t),t.tag){case 3:bn(Ie),Se();break;case 26:case 27:case 5:se(t);break;case 4:Se();break;case 13:En(t);break;case 19:ee(We);break;case 10:bn(t.type);break;case 22:case 23:En(t),Lo(),e!==null&&ee(_a);break;case 24:bn(Ie)}}function bi(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var o=l.next;n=o;do{if((n.tag&e)===e){l=void 0;var u=n.create,b=n.inst;l=u(),b.destroy=l}n=n.next}while(n!==o)}}catch(w){ze(t,t.return,w)}}function Jn(e,t,n){try{var l=t.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var u=o.next;l=u;do{if((l.tag&e)===e){var b=l.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,o=t;var U=n,G=w;try{G()}catch(I){ze(o,U,I)}}}l=l.next}while(l!==u)}}catch(I){ze(t,t.return,I)}}function nm(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Vd(t,n)}catch(l){ze(e,e.return,l)}}}function am(e,t,n){n.props=Ua(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){ze(e,t,l)}}function xi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(o){ze(e,t,o)}}function en(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(o){ze(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){ze(e,t,o)}else n.current=null}function lm(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(o){ze(e,e.return,o)}}function dc(e,t,n){try{var l=e.stateNode;Lv(l,e.type,n,t),l[yt]=t}catch(o){ze(e,e.return,o)}}function im(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&aa(e.type)||e.tag===4}function hc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||im(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&aa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mc(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Fs));else if(l!==4&&(l===27&&aa(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(mc(e,t,n),e=e.sibling;e!==null;)mc(e,t,n),e=e.sibling}function Ys(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&aa(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Ys(e,t,n),e=e.sibling;e!==null;)Ys(e,t,n),e=e.sibling}function sm(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ot(t,l,n),t[ut]=e,t[yt]=n}catch(u){ze(e,e.return,u)}}var Nn=!1,Qe=!1,gc=!1,rm=typeof WeakSet=="function"?WeakSet:Set,nt=null;function vv(e,t){if(e=e.containerInfo,Hc=sr,e=vd(e),ho(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var o=l.anchorOffset,u=l.focusNode;l=l.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var b=0,w=-1,U=-1,G=0,I=0,te=e,X=null;t:for(;;){for(var Q;te!==n||o!==0&&te.nodeType!==3||(w=b+o),te!==u||l!==0&&te.nodeType!==3||(U=b+l),te.nodeType===3&&(b+=te.nodeValue.length),(Q=te.firstChild)!==null;)X=te,te=Q;for(;;){if(te===e)break t;if(X===n&&++G===o&&(w=b),X===u&&++I===l&&(U=b),(Q=te.nextSibling)!==null)break;te=X,X=te.parentNode}te=Q}n=w===-1||U===-1?null:{start:w,end:U}}else n=null}n=n||{start:0,end:0}}else n=null;for(qc={focusedElem:e,selectionRange:n},sr=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){switch(t=nt,u=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,o=u.memoizedProps,u=u.memoizedState,l=n.stateNode;try{var ge=Ua(n.type,o,n.elementType===n.type);e=l.getSnapshotBeforeUpdate(ge,u),l.__reactInternalSnapshotBeforeUpdate=e}catch(he){ze(n,n.return,he)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Vc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}}function om(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:Pn(e,n),l&4&&bi(5,n);break;case 1:if(Pn(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(b){ze(n,n.return,b)}else{var o=Ua(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(b){ze(n,n.return,b)}}l&64&&nm(n),l&512&&xi(n,n.return);break;case 3:if(Pn(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Vd(e,t)}catch(b){ze(n,n.return,b)}}break;case 27:t===null&&l&4&&sm(n);case 26:case 5:Pn(e,n),t===null&&l&4&&lm(n),l&512&&xi(n,n.return);break;case 12:Pn(e,n);break;case 13:Pn(e,n),l&4&&fm(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Av.bind(null,n),Zv(e,n))));break;case 22:if(l=n.memoizedState!==null||Nn,!l){t=t!==null&&t.memoizedState!==null||Qe,o=Nn;var u=Qe;Nn=l,(Qe=t)&&!u?In(e,n,(n.subtreeFlags&8772)!==0):Pn(e,n),Nn=o,Qe=u}break;case 30:break;default:Pn(e,n)}}function cm(e){var t=e.alternate;t!==null&&(e.alternate=null,cm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Qr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,xt=!1;function Tn(e,t,n){for(n=n.child;n!==null;)um(e,t,n),n=n.sibling}function um(e,t,n){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(va,n)}catch{}switch(n.tag){case 26:Qe||en(n,t),Tn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Qe||en(n,t);var l=qe,o=xt;aa(n.type)&&(qe=n.stateNode,xt=!1),Tn(e,t,n),Ci(n.stateNode),qe=l,xt=o;break;case 5:Qe||en(n,t);case 6:if(l=qe,o=xt,qe=null,Tn(e,t,n),qe=l,xt=o,qe!==null)if(xt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(n.stateNode)}catch(u){ze(n,t,u)}else try{qe.removeChild(n.stateNode)}catch(u){ze(n,t,u)}break;case 18:qe!==null&&(xt?(e=qe,Wm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Bi(e)):Wm(qe,n.stateNode));break;case 4:l=qe,o=xt,qe=n.stateNode.containerInfo,xt=!0,Tn(e,t,n),qe=l,xt=o;break;case 0:case 11:case 14:case 15:Qe||Jn(2,n,t),Qe||Jn(4,n,t),Tn(e,t,n);break;case 1:Qe||(en(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&am(n,t,l)),Tn(e,t,n);break;case 21:Tn(e,t,n);break;case 22:Qe=(l=Qe)||n.memoizedState!==null,Tn(e,t,n),Qe=l;break;default:Tn(e,t,n)}}function fm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Bi(e)}catch(n){ze(t,t.return,n)}}function bv(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new rm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new rm),t;default:throw Error(r(435,e.tag))}}function pc(e,t){var n=bv(e);t.forEach(function(l){var o=Dv.bind(null,e,l);n.has(l)||(n.add(l),l.then(o,o))})}function At(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var o=n[l],u=e,b=t,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(aa(w.type)){qe=w.stateNode,xt=!1;break e}break;case 5:qe=w.stateNode,xt=!1;break e;case 3:case 4:qe=w.stateNode.containerInfo,xt=!0;break e}w=w.return}if(qe===null)throw Error(r(160));um(u,b,o),qe=null,xt=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)dm(t,e),t=t.sibling}var Xt=null;function dm(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:At(t,e),Dt(e),l&4&&(Jn(3,e,e.return),bi(3,e),Jn(5,e,e.return));break;case 1:At(t,e),Dt(e),l&512&&(Qe||n===null||en(n,n.return)),l&64&&Nn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var o=Xt;if(At(t,e),Dt(e),l&512&&(Qe||n===null||en(n,n.return)),l&4){var u=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(l){case"title":u=o.getElementsByTagName("title")[0],(!u||u[Gl]||u[ut]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(l),o.head.insertBefore(u,o.querySelector("head > title"))),ot(u,l,n),u[ut]=e,et(u),l=u;break e;case"link":var b=sg("link","href",o).get(l+(n.href||""));if(b){for(var w=0;w<b.length;w++)if(u=b[w],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){b.splice(w,1);break t}}u=o.createElement(l),ot(u,l,n),o.head.appendChild(u);break;case"meta":if(b=sg("meta","content",o).get(l+(n.content||""))){for(w=0;w<b.length;w++)if(u=b[w],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){b.splice(w,1);break t}}u=o.createElement(l),ot(u,l,n),o.head.appendChild(u);break;default:throw Error(r(468,l))}u[ut]=e,et(u),l=u}e.stateNode=l}else rg(o,e.type,e.stateNode);else e.stateNode=ig(o,l,e.memoizedProps);else u!==l?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,l===null?rg(o,e.type,e.stateNode):ig(o,l,e.memoizedProps)):l===null&&e.stateNode!==null&&dc(e,e.memoizedProps,n.memoizedProps)}break;case 27:At(t,e),Dt(e),l&512&&(Qe||n===null||en(n,n.return)),n!==null&&l&4&&dc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(At(t,e),Dt(e),l&512&&(Qe||n===null||en(n,n.return)),e.flags&32){o=e.stateNode;try{Ia(o,"")}catch(Q){ze(e,e.return,Q)}}l&4&&e.stateNode!=null&&(o=e.memoizedProps,dc(e,o,n!==null?n.memoizedProps:o)),l&1024&&(gc=!0);break;case 6:if(At(t,e),Dt(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(Q){ze(e,e.return,Q)}}break;case 3:if(ar=null,o=Xt,Xt=tr(t.containerInfo),At(t,e),Xt=o,Dt(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Bi(t.containerInfo)}catch(Q){ze(e,e.return,Q)}gc&&(gc=!1,hm(e));break;case 4:l=Xt,Xt=tr(e.stateNode.containerInfo),At(t,e),Dt(e),Xt=l;break;case 12:At(t,e),Dt(e);break;case 13:At(t,e),Dt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(wc=He()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,pc(e,l)));break;case 22:o=e.memoizedState!==null;var U=n!==null&&n.memoizedState!==null,G=Nn,I=Qe;if(Nn=G||o,Qe=I||U,At(t,e),Qe=I,Nn=G,Dt(e),l&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||U||Nn||Qe||Oa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){U=n=t;try{if(u=U.stateNode,o)b=u.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=U.stateNode;var te=U.memoizedProps.style,X=te!=null&&te.hasOwnProperty("display")?te.display:null;w.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Q){ze(U,U.return,Q)}}}else if(t.tag===6){if(n===null){U=t;try{U.stateNode.nodeValue=o?"":U.memoizedProps}catch(Q){ze(U,U.return,Q)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,pc(e,n))));break;case 19:At(t,e),Dt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,pc(e,l)));break;case 30:break;case 21:break;default:At(t,e),Dt(e)}}function Dt(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(im(l)){n=l;break}l=l.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var o=n.stateNode,u=hc(e);Ys(e,u,o);break;case 5:var b=n.stateNode;n.flags&32&&(Ia(b,""),n.flags&=-33);var w=hc(e);Ys(e,w,b);break;case 3:case 4:var U=n.stateNode.containerInfo,G=hc(e);mc(e,G,U);break;default:throw Error(r(161))}}catch(I){ze(e,e.return,I)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;hm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Pn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)om(e,t.alternate,t),t=t.sibling}function Oa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Jn(4,t,t.return),Oa(t);break;case 1:en(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&am(t,t.return,n),Oa(t);break;case 27:Ci(t.stateNode);case 26:case 5:en(t,t.return),Oa(t);break;case 22:t.memoizedState===null&&Oa(t);break;case 30:Oa(t);break;default:Oa(t)}e=e.sibling}}function In(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,o=e,u=t,b=u.flags;switch(u.tag){case 0:case 11:case 15:In(o,u,n),bi(4,u);break;case 1:if(In(o,u,n),l=u,o=l.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(G){ze(l,l.return,G)}if(l=u,o=l.updateQueue,o!==null){var w=l.stateNode;try{var U=o.shared.hiddenCallbacks;if(U!==null)for(o.shared.hiddenCallbacks=null,o=0;o<U.length;o++)Yd(U[o],w)}catch(G){ze(l,l.return,G)}}n&&b&64&&nm(u),xi(u,u.return);break;case 27:sm(u);case 26:case 5:In(o,u,n),n&&l===null&&b&4&&lm(u),xi(u,u.return);break;case 12:In(o,u,n);break;case 13:In(o,u,n),n&&b&4&&fm(o,u);break;case 22:u.memoizedState===null&&In(o,u,n),xi(u,u.return);break;case 30:break;default:In(o,u,n)}t=t.sibling}}function yc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ii(n))}function vc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ii(e))}function tn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)mm(e,t,n,l),t=t.sibling}function mm(e,t,n,l){var o=t.flags;switch(t.tag){case 0:case 11:case 15:tn(e,t,n,l),o&2048&&bi(9,t);break;case 1:tn(e,t,n,l);break;case 3:tn(e,t,n,l),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ii(e)));break;case 12:if(o&2048){tn(e,t,n,l),e=t.stateNode;try{var u=t.memoizedProps,b=u.id,w=u.onPostCommit;typeof w=="function"&&w(b,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){ze(t,t.return,U)}}else tn(e,t,n,l);break;case 13:tn(e,t,n,l);break;case 23:break;case 22:u=t.stateNode,b=t.alternate,t.memoizedState!==null?u._visibility&2?tn(e,t,n,l):Ei(e,t):u._visibility&2?tn(e,t,n,l):(u._visibility|=2,pl(e,t,n,l,(t.subtreeFlags&10256)!==0)),o&2048&&yc(b,t);break;case 24:tn(e,t,n,l),o&2048&&vc(t.alternate,t);break;default:tn(e,t,n,l)}}function pl(e,t,n,l,o){for(o=o&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var u=e,b=t,w=n,U=l,G=b.flags;switch(b.tag){case 0:case 11:case 15:pl(u,b,w,U,o),bi(8,b);break;case 23:break;case 22:var I=b.stateNode;b.memoizedState!==null?I._visibility&2?pl(u,b,w,U,o):Ei(u,b):(I._visibility|=2,pl(u,b,w,U,o)),o&&G&2048&&yc(b.alternate,b);break;case 24:pl(u,b,w,U,o),o&&G&2048&&vc(b.alternate,b);break;default:pl(u,b,w,U,o)}t=t.sibling}}function Ei(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,o=l.flags;switch(l.tag){case 22:Ei(n,l),o&2048&&yc(l.alternate,l);break;case 24:Ei(n,l),o&2048&&vc(l.alternate,l);break;default:Ei(n,l)}t=t.sibling}}var wi=8192;function yl(e){if(e.subtreeFlags&wi)for(e=e.child;e!==null;)gm(e),e=e.sibling}function gm(e){switch(e.tag){case 26:yl(e),e.flags&wi&&e.memoizedState!==null&&lb(Xt,e.memoizedState,e.memoizedProps);break;case 5:yl(e);break;case 3:case 4:var t=Xt;Xt=tr(e.stateNode.containerInfo),yl(e),Xt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=wi,wi=16777216,yl(e),wi=t):yl(e));break;default:yl(e)}}function pm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Si(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];nt=l,vm(l,e)}pm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ym(e),e=e.sibling}function ym(e){switch(e.tag){case 0:case 11:case 15:Si(e),e.flags&2048&&Jn(9,e,e.return);break;case 3:Si(e);break;case 12:Si(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Vs(e)):Si(e);break;default:Si(e)}}function Vs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];nt=l,vm(l,e)}pm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Jn(8,t,t.return),Vs(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Vs(t));break;default:Vs(t)}e=e.sibling}}function vm(e,t){for(;nt!==null;){var n=nt;switch(n.tag){case 0:case 11:case 15:Jn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ii(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,nt=l;else e:for(n=e;nt!==null;){l=nt;var o=l.sibling,u=l.return;if(cm(l),l===n){nt=null;break e}if(o!==null){o.return=u,nt=o;break e}nt=u}}}var xv={getCacheForType:function(e){var t=ft(Ie),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Ev=typeof WeakMap=="function"?WeakMap:Map,Re=0,Le=null,xe=null,Ne=0,_e=0,Ct=null,Wn=!1,vl=!1,bc=!1,jn=0,Ze=0,Fn=0,ka=0,xc=0,Ht=0,bl=0,Ni=null,Et=null,Ec=!1,wc=0,Gs=1/0,Zs=null,ea=null,rt=0,ta=null,xl=null,El=0,Sc=0,Nc=null,bm=null,Ti=0,Tc=null;function Rt(){if((Re&2)!==0&&Ne!==0)return Ne&-Ne;if(A.T!==null){var e=ol;return e!==0?e:Mc()}return kf()}function xm(){Ht===0&&(Ht=(Ne&536870912)===0||De?_f():536870912);var e=Lt.current;return e!==null&&(e.flags|=32),Ht}function _t(e,t,n){(e===Le&&(_e===2||_e===9)||e.cancelPendingCommit!==null)&&(wl(e,0),na(e,Ne,Ht,!1)),Vl(e,n),((Re&2)===0||e!==Le)&&(e===Le&&((Re&2)===0&&(ka|=n),Ze===4&&na(e,Ne,Ht,!1)),nn(e))}function Em(e,t,n){if((Re&6)!==0)throw Error(r(327));var l=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Yl(e,t),o=l?Nv(e,t):Dc(e,t,!0),u=l;do{if(o===0){vl&&!l&&na(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!wv(n)){o=Dc(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){t=b;e:{var w=e;o=Ni;var U=w.current.memoizedState.isDehydrated;if(U&&(wl(w,b).flags|=256),b=Dc(w,b,!1),b!==2){if(bc&&!U){w.errorRecoveryDisabledLanes|=u,ka|=u,o=4;break e}u=Et,Et=o,u!==null&&(Et===null?Et=u:Et.push.apply(Et,u))}o=b}if(u=!1,o!==2)continue}}if(o===1){wl(e,0),na(e,t,0,!0);break}e:{switch(l=e,u=o,u){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:na(l,t,Ht,!Wn);break e;case 2:Et=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=wc+300-He(),10<o)){if(na(l,t,Ht,!Wn),ns(l,0,!0)!==0)break e;l.timeoutHandle=Pm(wm.bind(null,l,n,Et,Zs,Ec,t,Ht,ka,bl,Wn,u,2,-0,0),o);break e}wm(l,n,Et,Zs,Ec,t,Ht,ka,bl,Wn,u,0,-0,0)}}break}while(!0);nn(e)}function wm(e,t,n,l,o,u,b,w,U,G,I,te,X,Q){if(e.timeoutHandle=-1,te=t.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Mi={stylesheets:null,count:0,unsuspend:ab},gm(t),te=ib(),te!==null)){e.cancelPendingCommit=te(Cm.bind(null,e,t,u,n,l,o,b,w,U,I,1,X,Q)),na(e,u,b,!G);return}Cm(e,t,u,n,l,o,b,w,U)}function wv(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var o=n[l],u=o.getSnapshot;o=o.value;try{if(!Tt(u(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function na(e,t,n,l){t&=~xc,t&=~ka,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var o=t;0<o;){var u=31-Nt(o),b=1<<u;l[u]=-1,o&=~b}n!==0&&Uf(e,n,t)}function Xs(){return(Re&6)===0?(ji(0),!1):!0}function jc(){if(xe!==null){if(_e===0)var e=xe.return;else e=xe,vn=Ca=null,Vo(e),ml=null,pi=0,e=xe;for(;e!==null;)tm(e.alternate,e),e=e.return;xe=null}}function wl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,qv(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),jc(),Le=e,xe=n=gn(e.current,null),Ne=t,_e=0,Ct=null,Wn=!1,vl=Yl(e,t),bc=!1,bl=Ht=xc=ka=Fn=Ze=0,Et=Ni=null,Ec=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var o=31-Nt(l),u=1<<o;t|=e[o],l&=~u}return jn=t,ms(),n}function Sm(e,t){ve=null,A.H=Us,t===ri||t===Ss?(t=qd(),_e=3):t===Bd?(t=qd(),_e=4):_e=t===$h?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ct=t,xe===null&&(Ze=1,Ls(e,Ot(t,e.current)))}function Nm(){var e=A.H;return A.H=Us,e===null?Us:e}function Tm(){var e=A.A;return A.A=xv,e}function Ac(){Ze=4,Wn||(Ne&4194048)!==Ne&&Lt.current!==null||(vl=!0),(Fn&134217727)===0&&(ka&134217727)===0||Le===null||na(Le,Ne,Ht,!1)}function Dc(e,t,n){var l=Re;Re|=2;var o=Nm(),u=Tm();(Le!==e||Ne!==t)&&(Zs=null,wl(e,t)),t=!1;var b=Ze;e:do try{if(_e!==0&&xe!==null){var w=xe,U=Ct;switch(_e){case 8:jc(),b=6;break e;case 3:case 2:case 9:case 6:Lt.current===null&&(t=!0);var G=_e;if(_e=0,Ct=null,Sl(e,w,U,G),n&&vl){b=0;break e}break;default:G=_e,_e=0,Ct=null,Sl(e,w,U,G)}}Sv(),b=Ze;break}catch(I){Sm(e,I)}while(!0);return t&&e.shellSuspendCounter++,vn=Ca=null,Re=l,A.H=o,A.A=u,xe===null&&(Le=null,Ne=0,ms()),b}function Sv(){for(;xe!==null;)jm(xe)}function Nv(e,t){var n=Re;Re|=2;var l=Nm(),o=Tm();Le!==e||Ne!==t?(Zs=null,Gs=He()+500,wl(e,t)):vl=Yl(e,t);e:do try{if(_e!==0&&xe!==null){t=xe;var u=Ct;t:switch(_e){case 1:_e=0,Ct=null,Sl(e,t,u,1);break;case 2:case 9:if(Ld(u)){_e=0,Ct=null,Am(t);break}t=function(){_e!==2&&_e!==9||Le!==e||(_e=7),nn(e)},u.then(t,t);break e;case 3:_e=7;break e;case 4:_e=5;break e;case 7:Ld(u)?(_e=0,Ct=null,Am(t)):(_e=0,Ct=null,Sl(e,t,u,7));break;case 5:var b=null;switch(xe.tag){case 26:b=xe.memoizedState;case 5:case 27:var w=xe;if(!b||og(b)){_e=0,Ct=null;var U=w.sibling;if(U!==null)xe=U;else{var G=w.return;G!==null?(xe=G,Qs(G)):xe=null}break t}}_e=0,Ct=null,Sl(e,t,u,5);break;case 6:_e=0,Ct=null,Sl(e,t,u,6);break;case 8:jc(),Ze=6;break e;default:throw Error(r(462))}}Tv();break}catch(I){Sm(e,I)}while(!0);return vn=Ca=null,A.H=l,A.A=o,Re=n,xe!==null?0:(Le=null,Ne=0,ms(),Ze)}function Tv(){for(;xe!==null&&!Fe();)jm(xe)}function jm(e){var t=Fh(e.alternate,e,jn);e.memoizedProps=e.pendingProps,t===null?Qs(e):xe=t}function Am(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Qh(n,t,t.pendingProps,t.type,void 0,Ne);break;case 11:t=Qh(n,t,t.pendingProps,t.type.render,t.ref,Ne);break;case 5:Vo(t);default:tm(n,t),t=xe=Dd(t,jn),t=Fh(n,t,jn)}e.memoizedProps=e.pendingProps,t===null?Qs(e):xe=t}function Sl(e,t,n,l){vn=Ca=null,Vo(t),ml=null,pi=0;var o=t.return;try{if(mv(e,o,t,n,Ne)){Ze=1,Ls(e,Ot(n,e.current)),xe=null;return}}catch(u){if(o!==null)throw xe=o,u;Ze=1,Ls(e,Ot(n,e.current)),xe=null;return}t.flags&32768?(De||l===1?e=!0:vl||(Ne&536870912)!==0?e=!1:(Wn=e=!0,(l===2||l===9||l===3||l===6)&&(l=Lt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Dm(t,e)):Qs(t)}function Qs(e){var t=e;do{if((t.flags&32768)!==0){Dm(t,Wn);return}e=t.return;var n=pv(t.alternate,t,jn);if(n!==null){xe=n;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);Ze===0&&(Ze=5)}function Dm(e,t){do{var n=yv(e.alternate,e);if(n!==null){n.flags&=32767,xe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){xe=e;return}xe=e=n}while(e!==null);Ze=6,xe=null}function Cm(e,t,n,l,o,u,b,w,U){e.cancelPendingCommit=null;do Ks();while(rt!==0);if((Re&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(u=t.lanes|t.childLanes,u|=vo,a0(e,n,u,b,w,U),e===Le&&(xe=Le=null,Ne=0),xl=t,ta=e,El=n,Sc=u,Nc=o,bm=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Cv(dn,function(){return Om(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=A.T,A.T=null,o=$.p,$.p=2,b=Re,Re|=4;try{vv(e,t,n)}finally{Re=b,$.p=o,A.T=l}}rt=1,Rm(),_m(),Mm()}}function Rm(){if(rt===1){rt=0;var e=ta,t=xl,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=A.T,A.T=null;var l=$.p;$.p=2;var o=Re;Re|=4;try{dm(t,e);var u=qc,b=vd(e.containerInfo),w=u.focusedElem,U=u.selectionRange;if(b!==w&&w&&w.ownerDocument&&yd(w.ownerDocument.documentElement,w)){if(U!==null&&ho(w)){var G=U.start,I=U.end;if(I===void 0&&(I=G),"selectionStart"in w)w.selectionStart=G,w.selectionEnd=Math.min(I,w.value.length);else{var te=w.ownerDocument||document,X=te&&te.defaultView||window;if(X.getSelection){var Q=X.getSelection(),ge=w.textContent.length,he=Math.min(U.start,ge),Oe=U.end===void 0?he:Math.min(U.end,ge);!Q.extend&&he>Oe&&(b=Oe,Oe=he,he=b);var q=pd(w,he),z=pd(w,Oe);if(q&&z&&(Q.rangeCount!==1||Q.anchorNode!==q.node||Q.anchorOffset!==q.offset||Q.focusNode!==z.node||Q.focusOffset!==z.offset)){var V=te.createRange();V.setStart(q.node,q.offset),Q.removeAllRanges(),he>Oe?(Q.addRange(V),Q.extend(z.node,z.offset)):(V.setEnd(z.node,z.offset),Q.addRange(V))}}}}for(te=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&te.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<te.length;w++){var F=te[w];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}sr=!!Hc,qc=Hc=null}finally{Re=o,$.p=l,A.T=n}}e.current=t,rt=2}}function _m(){if(rt===2){rt=0;var e=ta,t=xl,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=A.T,A.T=null;var l=$.p;$.p=2;var o=Re;Re|=4;try{om(e,t.alternate,t)}finally{Re=o,$.p=l,A.T=n}}rt=3}}function Mm(){if(rt===4||rt===3){rt=0,Ae();var e=ta,t=xl,n=El,l=bm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?rt=5:(rt=0,xl=ta=null,Um(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(ea=null),Zr(n),t=t.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(va,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=A.T,o=$.p,$.p=2,A.T=null;try{for(var u=e.onRecoverableError,b=0;b<l.length;b++){var w=l[b];u(w.value,{componentStack:w.stack})}}finally{A.T=t,$.p=o}}(El&3)!==0&&Ks(),nn(e),o=e.pendingLanes,(n&4194090)!==0&&(o&42)!==0?e===Tc?Ti++:(Ti=0,Tc=e):Ti=0,ji(0)}}function Um(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ii(t)))}function Ks(e){return Rm(),_m(),Mm(),Om()}function Om(){if(rt!==5)return!1;var e=ta,t=Sc;Sc=0;var n=Zr(El),l=A.T,o=$.p;try{$.p=32>n?32:n,A.T=null,n=Nc,Nc=null;var u=ta,b=El;if(rt=0,xl=ta=null,El=0,(Re&6)!==0)throw Error(r(331));var w=Re;if(Re|=4,ym(u.current),mm(u,u.current,b,n),Re=w,ji(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(va,u)}catch{}return!0}finally{$.p=o,A.T=l,Um(e,t)}}function km(e,t,n){t=Ot(n,t),t=ac(e.stateNode,t,2),e=Zn(e,t,2),e!==null&&(Vl(e,2),nn(e))}function ze(e,t,n){if(e.tag===3)km(e,e,n);else for(;t!==null;){if(t.tag===3){km(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ea===null||!ea.has(l))){e=Ot(n,e),n=Hh(2),l=Zn(t,n,2),l!==null&&(qh(n,l,t,e),Vl(l,2),nn(l));break}}t=t.return}}function Cc(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new Ev;var o=new Set;l.set(t,o)}else o=l.get(t),o===void 0&&(o=new Set,l.set(t,o));o.has(n)||(bc=!0,o.add(n),e=jv.bind(null,e,t,n),t.then(e,e))}function jv(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Le===e&&(Ne&n)===n&&(Ze===4||Ze===3&&(Ne&62914560)===Ne&&300>He()-wc?(Re&2)===0&&wl(e,0):xc|=n,bl===Ne&&(bl=0)),nn(e)}function zm(e,t){t===0&&(t=Mf()),e=ll(e,t),e!==null&&(Vl(e,t),nn(e))}function Av(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zm(e,n)}function Dv(e,t){var n=0;switch(e.tag){case 13:var l=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),zm(e,n)}function Cv(e,t){return Ce(e,t)}var Js=null,Nl=null,Rc=!1,Ps=!1,_c=!1,za=0;function nn(e){e!==Nl&&e.next===null&&(Nl===null?Js=Nl=e:Nl=Nl.next=e),Ps=!0,Rc||(Rc=!0,_v())}function ji(e,t){if(!_c&&Ps){_c=!0;do for(var n=!1,l=Js;l!==null;){if(e!==0){var o=l.pendingLanes;if(o===0)var u=0;else{var b=l.suspendedLanes,w=l.pingedLanes;u=(1<<31-Nt(42|e)+1)-1,u&=o&~(b&~w),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,qm(l,u))}else u=Ne,u=ns(l,l===Le?u:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(u&3)===0||Yl(l,u)||(n=!0,qm(l,u));l=l.next}while(n);_c=!1}}function Rv(){Bm()}function Bm(){Ps=Rc=!1;var e=0;za!==0&&(Hv()&&(e=za),za=0);for(var t=He(),n=null,l=Js;l!==null;){var o=l.next,u=Lm(l,t);u===0?(l.next=null,n===null?Js=o:n.next=o,o===null&&(Nl=n)):(n=l,(e!==0||(u&3)!==0)&&(Ps=!0)),l=o}ji(e)}function Lm(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var b=31-Nt(u),w=1<<b,U=o[b];U===-1?((w&n)===0||(w&l)!==0)&&(o[b]=n0(w,t)):U<=t&&(e.expiredLanes|=w),u&=~w}if(t=Le,n=Ne,n=ns(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(_e===2||_e===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Be(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Yl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&Be(l),Zr(n)){case 2:case 8:n=fn;break;case 32:n=dn;break;case 268435456:n=Fi;break;default:n=dn}return l=Hm.bind(null,e),n=Ce(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&Be(l),e.callbackPriority=2,e.callbackNode=null,2}function Hm(e,t){if(rt!==0&&rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ks()&&e.callbackNode!==n)return null;var l=Ne;return l=ns(e,e===Le?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Em(e,l,t),Lm(e,He()),e.callbackNode!=null&&e.callbackNode===n?Hm.bind(null,e):null)}function qm(e,t){if(Ks())return null;Em(e,t,!0)}function _v(){$v(function(){(Re&6)!==0?Ce($l,Rv):Bm()})}function Mc(){return za===0&&(za=_f()),za}function $m(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:rs(""+e)}function Ym(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Mv(e,t,n,l,o){if(t==="submit"&&n&&n.stateNode===o){var u=$m((o[yt]||null).action),b=l.submitter;b&&(t=(t=b[yt]||null)?$m(t.formAction):b.getAttribute("formAction"),t!==null&&(u=t,b=null));var w=new fs("action","action",null,l,o);e.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(za!==0){var U=b?Ym(o,b):new FormData(o);Wo(n,{pending:!0,data:U,method:o.method,action:u},null,U)}}else typeof u=="function"&&(w.preventDefault(),U=b?Ym(o,b):new FormData(o),Wo(n,{pending:!0,data:U,method:o.method,action:u},u,U))},currentTarget:o}]})}}for(var Uc=0;Uc<yo.length;Uc++){var Oc=yo[Uc],Uv=Oc.toLowerCase(),Ov=Oc[0].toUpperCase()+Oc.slice(1);Zt(Uv,"on"+Ov)}Zt(Ed,"onAnimationEnd"),Zt(wd,"onAnimationIteration"),Zt(Sd,"onAnimationStart"),Zt("dblclick","onDoubleClick"),Zt("focusin","onFocus"),Zt("focusout","onBlur"),Zt(I0,"onTransitionRun"),Zt(W0,"onTransitionStart"),Zt(F0,"onTransitionCancel"),Zt(Nd,"onTransitionEnd"),Ka("onMouseEnter",["mouseout","mouseover"]),Ka("onMouseLeave",["mouseout","mouseover"]),Ka("onPointerEnter",["pointerout","pointerover"]),Ka("onPointerLeave",["pointerout","pointerover"]),xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xa("onBeforeInput",["compositionend","keypress","textInput","paste"]),xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ai));function Vm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],o=l.event;l=l.listeners;e:{var u=void 0;if(t)for(var b=l.length-1;0<=b;b--){var w=l[b],U=w.instance,G=w.currentTarget;if(w=w.listener,U!==u&&o.isPropagationStopped())break e;u=w,o.currentTarget=G;try{u(o)}catch(I){Bs(I)}o.currentTarget=null,u=U}else for(b=0;b<l.length;b++){if(w=l[b],U=w.instance,G=w.currentTarget,w=w.listener,U!==u&&o.isPropagationStopped())break e;u=w,o.currentTarget=G;try{u(o)}catch(I){Bs(I)}o.currentTarget=null,u=U}}}}function Ee(e,t){var n=t[Xr];n===void 0&&(n=t[Xr]=new Set);var l=e+"__bubble";n.has(l)||(Gm(t,e,2,!1),n.add(l))}function kc(e,t,n){var l=0;t&&(l|=4),Gm(n,e,l,t)}var Is="_reactListening"+Math.random().toString(36).slice(2);function zc(e){if(!e[Is]){e[Is]=!0,Bf.forEach(function(n){n!=="selectionchange"&&(kv.has(n)||kc(n,!1,e),kc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Is]||(t[Is]=!0,kc("selectionchange",!1,t))}}function Gm(e,t,n,l){switch(mg(t)){case 2:var o=ob;break;case 8:o=cb;break;default:o=Pc}n=o.bind(null,t,n,e),o=void 0,!ao||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),l?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Bc(e,t,n,l,o){var u=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var w=l.stateNode.containerInfo;if(w===o)break;if(b===4)for(b=l.return;b!==null;){var U=b.tag;if((U===3||U===4)&&b.stateNode.containerInfo===o)return;b=b.return}for(;w!==null;){if(b=Za(w),b===null)return;if(U=b.tag,U===5||U===6||U===26||U===27){l=u=b;continue e}w=w.parentNode}}l=l.return}If(function(){var G=u,I=to(n),te=[];e:{var X=Td.get(e);if(X!==void 0){var Q=fs,ge=e;switch(e){case"keypress":if(cs(n)===0)break e;case"keydown":case"keyup":Q=C0;break;case"focusin":ge="focus",Q=ro;break;case"focusout":ge="blur",Q=ro;break;case"beforeblur":case"afterblur":Q=ro;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=ed;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=y0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=M0;break;case Ed:case wd:case Sd:Q=x0;break;case Nd:Q=O0;break;case"scroll":case"scrollend":Q=g0;break;case"wheel":Q=z0;break;case"copy":case"cut":case"paste":Q=w0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=nd;break;case"toggle":case"beforetoggle":Q=L0}var he=(t&4)!==0,Oe=!he&&(e==="scroll"||e==="scrollend"),q=he?X!==null?X+"Capture":null:X;he=[];for(var z=G,V;z!==null;){var F=z;if(V=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||V===null||q===null||(F=Xl(z,q),F!=null&&he.push(Di(z,F,V))),Oe)break;z=z.return}0<he.length&&(X=new Q(X,ge,null,n,I),te.push({event:X,listeners:he}))}}if((t&7)===0){e:{if(X=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",X&&n!==eo&&(ge=n.relatedTarget||n.fromElement)&&(Za(ge)||ge[Ga]))break e;if((Q||X)&&(X=I.window===I?I:(X=I.ownerDocument)?X.defaultView||X.parentWindow:window,Q?(ge=n.relatedTarget||n.toElement,Q=G,ge=ge?Za(ge):null,ge!==null&&(Oe=d(ge),he=ge.tag,ge!==Oe||he!==5&&he!==27&&he!==6)&&(ge=null)):(Q=null,ge=G),Q!==ge)){if(he=ed,F="onMouseLeave",q="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(he=nd,F="onPointerLeave",q="onPointerEnter",z="pointer"),Oe=Q==null?X:Zl(Q),V=ge==null?X:Zl(ge),X=new he(F,z+"leave",Q,n,I),X.target=Oe,X.relatedTarget=V,F=null,Za(I)===G&&(he=new he(q,z+"enter",ge,n,I),he.target=V,he.relatedTarget=Oe,F=he),Oe=F,Q&&ge)t:{for(he=Q,q=ge,z=0,V=he;V;V=Tl(V))z++;for(V=0,F=q;F;F=Tl(F))V++;for(;0<z-V;)he=Tl(he),z--;for(;0<V-z;)q=Tl(q),V--;for(;z--;){if(he===q||q!==null&&he===q.alternate)break t;he=Tl(he),q=Tl(q)}he=null}else he=null;Q!==null&&Zm(te,X,Q,he,!1),ge!==null&&Oe!==null&&Zm(te,Oe,ge,he,!0)}}e:{if(X=G?Zl(G):window,Q=X.nodeName&&X.nodeName.toLowerCase(),Q==="select"||Q==="input"&&X.type==="file")var fe=ud;else if(od(X))if(fd)fe=K0;else{fe=X0;var be=Z0}else Q=X.nodeName,!Q||Q.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?G&&Fr(G.elementType)&&(fe=ud):fe=Q0;if(fe&&(fe=fe(e,G))){cd(te,fe,n,I);break e}be&&be(e,X,G),e==="focusout"&&G&&X.type==="number"&&G.memoizedProps.value!=null&&Wr(X,"number",X.value)}switch(be=G?Zl(G):window,e){case"focusin":(od(be)||be.contentEditable==="true")&&(tl=be,mo=G,ei=null);break;case"focusout":ei=mo=tl=null;break;case"mousedown":go=!0;break;case"contextmenu":case"mouseup":case"dragend":go=!1,bd(te,n,I);break;case"selectionchange":if(P0)break;case"keydown":case"keyup":bd(te,n,I)}var de;if(co)e:{switch(e){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else el?sd(e,n)&&(me="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(me="onCompositionStart");me&&(ad&&n.locale!=="ko"&&(el||me!=="onCompositionStart"?me==="onCompositionEnd"&&el&&(de=Wf()):($n=I,lo="value"in $n?$n.value:$n.textContent,el=!0)),be=Ws(G,me),0<be.length&&(me=new td(me,e,null,n,I),te.push({event:me,listeners:be}),de?me.data=de:(de=rd(n),de!==null&&(me.data=de)))),(de=q0?$0(e,n):Y0(e,n))&&(me=Ws(G,"onBeforeInput"),0<me.length&&(be=new td("onBeforeInput","beforeinput",null,n,I),te.push({event:be,listeners:me}),be.data=de)),Mv(te,e,G,n,I)}Vm(te,t)})}function Di(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ws(e,t){for(var n=t+"Capture",l=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=Xl(e,n),o!=null&&l.unshift(Di(e,o,u)),o=Xl(e,t),o!=null&&l.push(Di(e,o,u))),e.tag===3)return l;e=e.return}return[]}function Tl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zm(e,t,n,l,o){for(var u=t._reactName,b=[];n!==null&&n!==l;){var w=n,U=w.alternate,G=w.stateNode;if(w=w.tag,U!==null&&U===l)break;w!==5&&w!==26&&w!==27||G===null||(U=G,o?(G=Xl(n,u),G!=null&&b.unshift(Di(n,G,U))):o||(G=Xl(n,u),G!=null&&b.push(Di(n,G,U)))),n=n.return}b.length!==0&&e.push({event:t,listeners:b})}var zv=/\r\n?/g,Bv=/\u0000|\uFFFD/g;function Xm(e){return(typeof e=="string"?e:""+e).replace(zv,`
`).replace(Bv,"")}function Qm(e,t){return t=Xm(t),Xm(e)===t}function Fs(){}function Ue(e,t,n,l,o,u){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Ia(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Ia(e,""+l);break;case"className":ls(e,"class",l);break;case"tabIndex":ls(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ls(e,n,l);break;case"style":Jf(e,l,u);break;case"data":if(t!=="object"){ls(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=rs(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&Ue(e,t,"name",o.name,o,null),Ue(e,t,"formEncType",o.formEncType,o,null),Ue(e,t,"formMethod",o.formMethod,o,null),Ue(e,t,"formTarget",o.formTarget,o,null)):(Ue(e,t,"encType",o.encType,o,null),Ue(e,t,"method",o.method,o,null),Ue(e,t,"target",o.target,o,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=rs(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=Fs);break;case"onScroll":l!=null&&Ee("scroll",e);break;case"onScrollEnd":l!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=rs(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),as(e,"popover",l);break;case"xlinkActuate":hn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":hn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":hn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":hn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":hn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":hn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":hn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":hn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":hn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":as(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=h0.get(n)||n,as(e,n,l))}}function Lc(e,t,n,l,o,u){switch(n){case"style":Jf(e,l,u);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof l=="string"?Ia(e,l):(typeof l=="number"||typeof l=="bigint")&&Ia(e,""+l);break;case"onScroll":l!=null&&Ee("scroll",e);break;case"onScrollEnd":l!=null&&Ee("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Fs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lf.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),u=e[yt]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof l=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,o);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):as(e,n,l)}}}function ot(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var l=!1,o=!1,u;for(u in n)if(n.hasOwnProperty(u)){var b=n[u];if(b!=null)switch(u){case"src":l=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ue(e,t,u,b,n,null)}}o&&Ue(e,t,"srcSet",n.srcSet,n,null),l&&Ue(e,t,"src",n.src,n,null);return;case"input":Ee("invalid",e);var w=u=b=o=null,U=null,G=null;for(l in n)if(n.hasOwnProperty(l)){var I=n[l];if(I!=null)switch(l){case"name":o=I;break;case"type":b=I;break;case"checked":U=I;break;case"defaultChecked":G=I;break;case"value":u=I;break;case"defaultValue":w=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,t));break;default:Ue(e,t,l,I,n,null)}}Zf(e,u,w,U,G,b,o,!1),is(e);return;case"select":Ee("invalid",e),l=b=u=null;for(o in n)if(n.hasOwnProperty(o)&&(w=n[o],w!=null))switch(o){case"value":u=w;break;case"defaultValue":b=w;break;case"multiple":l=w;default:Ue(e,t,o,w,n,null)}t=u,n=b,e.multiple=!!l,t!=null?Pa(e,!!l,t,!1):n!=null&&Pa(e,!!l,n,!0);return;case"textarea":Ee("invalid",e),u=o=l=null;for(b in n)if(n.hasOwnProperty(b)&&(w=n[b],w!=null))switch(b){case"value":l=w;break;case"defaultValue":o=w;break;case"children":u=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:Ue(e,t,b,w,n,null)}Qf(e,l,o,u),is(e);return;case"option":for(U in n)if(n.hasOwnProperty(U)&&(l=n[U],l!=null))switch(U){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ue(e,t,U,l,n,null)}return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(l=0;l<Ai.length;l++)Ee(Ai[l],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in n)if(n.hasOwnProperty(G)&&(l=n[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ue(e,t,G,l,n,null)}return;default:if(Fr(t)){for(I in n)n.hasOwnProperty(I)&&(l=n[I],l!==void 0&&Lc(e,t,I,l,n,void 0));return}}for(w in n)n.hasOwnProperty(w)&&(l=n[w],l!=null&&Ue(e,t,w,l,n,null))}function Lv(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,b=null,w=null,U=null,G=null,I=null;for(Q in n){var te=n[Q];if(n.hasOwnProperty(Q)&&te!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":U=te;default:l.hasOwnProperty(Q)||Ue(e,t,Q,null,l,te)}}for(var X in l){var Q=l[X];if(te=n[X],l.hasOwnProperty(X)&&(Q!=null||te!=null))switch(X){case"type":u=Q;break;case"name":o=Q;break;case"checked":G=Q;break;case"defaultChecked":I=Q;break;case"value":b=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,t));break;default:Q!==te&&Ue(e,t,X,Q,l,te)}}Ir(e,b,w,U,G,I,u,o);return;case"select":Q=b=w=X=null;for(u in n)if(U=n[u],n.hasOwnProperty(u)&&U!=null)switch(u){case"value":break;case"multiple":Q=U;default:l.hasOwnProperty(u)||Ue(e,t,u,null,l,U)}for(o in l)if(u=l[o],U=n[o],l.hasOwnProperty(o)&&(u!=null||U!=null))switch(o){case"value":X=u;break;case"defaultValue":w=u;break;case"multiple":b=u;default:u!==U&&Ue(e,t,o,u,l,U)}t=w,n=b,l=Q,X!=null?Pa(e,!!n,X,!1):!!l!=!!n&&(t!=null?Pa(e,!!n,t,!0):Pa(e,!!n,n?[]:"",!1));return;case"textarea":Q=X=null;for(w in n)if(o=n[w],n.hasOwnProperty(w)&&o!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Ue(e,t,w,null,l,o)}for(b in l)if(o=l[b],u=n[b],l.hasOwnProperty(b)&&(o!=null||u!=null))switch(b){case"value":X=o;break;case"defaultValue":Q=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==u&&Ue(e,t,b,o,l,u)}Xf(e,X,Q);return;case"option":for(var ge in n)if(X=n[ge],n.hasOwnProperty(ge)&&X!=null&&!l.hasOwnProperty(ge))switch(ge){case"selected":e.selected=!1;break;default:Ue(e,t,ge,null,l,X)}for(U in l)if(X=l[U],Q=n[U],l.hasOwnProperty(U)&&X!==Q&&(X!=null||Q!=null))switch(U){case"selected":e.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:Ue(e,t,U,X,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in n)X=n[he],n.hasOwnProperty(he)&&X!=null&&!l.hasOwnProperty(he)&&Ue(e,t,he,null,l,X);for(G in l)if(X=l[G],Q=n[G],l.hasOwnProperty(G)&&X!==Q&&(X!=null||Q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,t));break;default:Ue(e,t,G,X,l,Q)}return;default:if(Fr(t)){for(var Oe in n)X=n[Oe],n.hasOwnProperty(Oe)&&X!==void 0&&!l.hasOwnProperty(Oe)&&Lc(e,t,Oe,void 0,l,X);for(I in l)X=l[I],Q=n[I],!l.hasOwnProperty(I)||X===Q||X===void 0&&Q===void 0||Lc(e,t,I,X,l,Q);return}}for(var q in n)X=n[q],n.hasOwnProperty(q)&&X!=null&&!l.hasOwnProperty(q)&&Ue(e,t,q,null,l,X);for(te in l)X=l[te],Q=n[te],!l.hasOwnProperty(te)||X===Q||X==null&&Q==null||Ue(e,t,te,X,l,Q)}var Hc=null,qc=null;function er(e){return e.nodeType===9?e:e.ownerDocument}function Km(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function $c(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yc=null;function Hv(){var e=window.event;return e&&e.type==="popstate"?e===Yc?!1:(Yc=e,!0):(Yc=null,!1)}var Pm=typeof setTimeout=="function"?setTimeout:void 0,qv=typeof clearTimeout=="function"?clearTimeout:void 0,Im=typeof Promise=="function"?Promise:void 0,$v=typeof queueMicrotask=="function"?queueMicrotask:typeof Im<"u"?function(e){return Im.resolve(null).then(e).catch(Yv)}:Pm;function Yv(e){setTimeout(function(){throw e})}function aa(e){return e==="head"}function Wm(e,t){var n=t,l=0,o=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"){if(0<l&&8>l){n=l;var b=e.ownerDocument;if(n&1&&Ci(b.documentElement),n&2&&Ci(b.body),n&4)for(n=b.head,Ci(n),b=n.firstChild;b;){var w=b.nextSibling,U=b.nodeName;b[Gl]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&b.rel.toLowerCase()==="stylesheet"||n.removeChild(b),b=w}}if(o===0){e.removeChild(u),Bi(t);return}o--}else n==="$"||n==="$?"||n==="$!"?o++:l=n.charCodeAt(0)-48;else l=0;n=u}while(n);Bi(t)}function Vc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Vc(n),Qr(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Vv(e,t,n,l){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Gl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Qt(e.nextSibling),e===null)break}return null}function Gv(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Qt(e.nextSibling),e===null))return null;return e}function Gc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Zv(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Zc=null;function Fm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function eg(e,t,n){switch(t=er(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ci(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Qr(e)}var qt=new Map,tg=new Set;function tr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var An=$.d;$.d={f:Xv,r:Qv,D:Kv,C:Jv,L:Pv,m:Iv,X:Fv,S:Wv,M:eb};function Xv(){var e=An.f(),t=Xs();return e||t}function Qv(e){var t=Xa(e);t!==null&&t.tag===5&&t.type==="form"?Eh(t):An.r(e)}var jl=typeof document>"u"?null:document;function ng(e,t,n){var l=jl;if(l&&typeof t=="string"&&t){var o=Ut(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),tg.has(o)||(tg.add(o),e={rel:e,crossOrigin:n,href:t},l.querySelector(o)===null&&(t=l.createElement("link"),ot(t,"link",e),et(t),l.head.appendChild(t)))}}function Kv(e){An.D(e),ng("dns-prefetch",e,null)}function Jv(e,t){An.C(e,t),ng("preconnect",e,t)}function Pv(e,t,n){An.L(e,t,n);var l=jl;if(l&&e&&t){var o='link[rel="preload"][as="'+Ut(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Ut(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Ut(n.imageSizes)+'"]')):o+='[href="'+Ut(e)+'"]';var u=o;switch(t){case"style":u=Al(e);break;case"script":u=Dl(e)}qt.has(u)||(e=y({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),qt.set(u,e),l.querySelector(o)!==null||t==="style"&&l.querySelector(Ri(u))||t==="script"&&l.querySelector(_i(u))||(t=l.createElement("link"),ot(t,"link",e),et(t),l.head.appendChild(t)))}}function Iv(e,t){An.m(e,t);var n=jl;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Ut(l)+'"][href="'+Ut(e)+'"]',u=o;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Dl(e)}if(!qt.has(u)&&(e=y({rel:"modulepreload",href:e},t),qt.set(u,e),n.querySelector(o)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(_i(u)))return}l=n.createElement("link"),ot(l,"link",e),et(l),n.head.appendChild(l)}}}function Wv(e,t,n){An.S(e,t,n);var l=jl;if(l&&e){var o=Qa(l).hoistableStyles,u=Al(e);t=t||"default";var b=o.get(u);if(!b){var w={loading:0,preload:null};if(b=l.querySelector(Ri(u)))w.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},n),(n=qt.get(u))&&Xc(e,n);var U=b=l.createElement("link");et(U),ot(U,"link",e),U._p=new Promise(function(G,I){U.onload=G,U.onerror=I}),U.addEventListener("load",function(){w.loading|=1}),U.addEventListener("error",function(){w.loading|=2}),w.loading|=4,nr(b,t,l)}b={type:"stylesheet",instance:b,count:1,state:w},o.set(u,b)}}}function Fv(e,t){An.X(e,t);var n=jl;if(n&&e){var l=Qa(n).hoistableScripts,o=Dl(e),u=l.get(o);u||(u=n.querySelector(_i(o)),u||(e=y({src:e,async:!0},t),(t=qt.get(o))&&Qc(e,t),u=n.createElement("script"),et(u),ot(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(o,u))}}function eb(e,t){An.M(e,t);var n=jl;if(n&&e){var l=Qa(n).hoistableScripts,o=Dl(e),u=l.get(o);u||(u=n.querySelector(_i(o)),u||(e=y({src:e,async:!0,type:"module"},t),(t=qt.get(o))&&Qc(e,t),u=n.createElement("script"),et(u),ot(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(o,u))}}function ag(e,t,n,l){var o=(o=ie.current)?tr(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Al(n.href),n=Qa(o).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Al(n.href);var u=Qa(o).hoistableStyles,b=u.get(e);if(b||(o=o.ownerDocument||o,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,b),(u=o.querySelector(Ri(e)))&&!u._p&&(b.instance=u,b.state.loading=5),qt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},qt.set(e,n),u||tb(o,e,n,b.state))),t&&l===null)throw Error(r(528,""));return b}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Dl(n),n=Qa(o).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Al(e){return'href="'+Ut(e)+'"'}function Ri(e){return'link[rel="stylesheet"]['+e+"]"}function lg(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function tb(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),ot(t,"link",n),et(t),e.head.appendChild(t))}function Dl(e){return'[src="'+Ut(e)+'"]'}function _i(e){return"script[async]"+e}function ig(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Ut(n.href)+'"]');if(l)return t.instance=l,et(l),l;var o=y({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),et(l),ot(l,"style",o),nr(l,n.precedence,e),t.instance=l;case"stylesheet":o=Al(n.href);var u=e.querySelector(Ri(o));if(u)return t.state.loading|=4,t.instance=u,et(u),u;l=lg(n),(o=qt.get(o))&&Xc(l,o),u=(e.ownerDocument||e).createElement("link"),et(u);var b=u;return b._p=new Promise(function(w,U){b.onload=w,b.onerror=U}),ot(u,"link",l),t.state.loading|=4,nr(u,n.precedence,e),t.instance=u;case"script":return u=Dl(n.src),(o=e.querySelector(_i(u)))?(t.instance=o,et(o),o):(l=n,(o=qt.get(u))&&(l=y({},n),Qc(l,o)),e=e.ownerDocument||e,o=e.createElement("script"),et(o),ot(o,"link",l),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,nr(l,n.precedence,e));return t.instance}function nr(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=l.length?l[l.length-1]:null,u=o,b=0;b<l.length;b++){var w=l[b];if(w.dataset.precedence===t)u=w;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Xc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Qc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ar=null;function sg(e,t,n){if(ar===null){var l=new Map,o=ar=new Map;o.set(n,l)}else o=ar,l=o.get(n),l||(l=new Map,o.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var u=n[o];if(!(u[Gl]||u[ut]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var b=u.getAttribute(t)||"";b=e+b;var w=l.get(b);w?w.push(u):l.set(b,[u])}}return l}function rg(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function nb(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function og(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Mi=null;function ab(){}function lb(e,t,n){if(Mi===null)throw Error(r(475));var l=Mi;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var o=Al(n.href),u=e.querySelector(Ri(o));if(u){e=u._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=lr.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=u,et(u);return}u=e.ownerDocument||e,n=lg(n),(o=qt.get(o))&&Xc(n,o),u=u.createElement("link"),et(u);var b=u;b._p=new Promise(function(w,U){b.onload=w,b.onerror=U}),ot(u,"link",n),t.instance=u}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(l.count++,t=lr.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function ib(){if(Mi===null)throw Error(r(475));var e=Mi;return e.stylesheets&&e.count===0&&Kc(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Kc(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function lr(){if(this.count--,this.count===0){if(this.stylesheets)Kc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ir=null;function Kc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ir=new Map,t.forEach(sb,e),ir=null,lr.call(e))}function sb(e,t){if(!(t.state.loading&4)){var n=ir.get(e);if(n)var l=n.get(null);else{n=new Map,ir.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var b=o[u];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(n.set(b.dataset.precedence,b),l=b)}l&&n.set(null,l)}o=t.instance,b=o.getAttribute("data-precedence"),u=n.get(b)||l,u===l&&n.set(null,o),n.set(b,o),this.count++,l=lr.bind(this),o.addEventListener("load",l),o.addEventListener("error",l),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Ui={$$typeof:M,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function rb(e,t,n,l,o,u,b,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vr(0),this.hiddenUpdates=Vr(null),this.identifierPrefix=l,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function cg(e,t,n,l,o,u,b,w,U,G,I,te){return e=new rb(e,t,n,b,w,U,G,te),t=1,u===!0&&(t|=24),u=jt(3,null,null,t),e.current=u,u.stateNode=e,t=Co(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:l,isDehydrated:n,cache:t},Uo(u),e}function ug(e){return e?(e=il,e):il}function fg(e,t,n,l,o,u){o=ug(o),l.context===null?l.context=o:l.pendingContext=o,l=Gn(t),l.payload={element:n},u=u===void 0?null:u,u!==null&&(l.callback=u),n=Zn(e,l,t),n!==null&&(_t(n,e,t),ci(n,e,t))}function dg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Jc(e,t){dg(e,t),(e=e.alternate)&&dg(e,t)}function hg(e){if(e.tag===13){var t=ll(e,67108864);t!==null&&_t(t,e,67108864),Jc(e,67108864)}}var sr=!0;function ob(e,t,n,l){var o=A.T;A.T=null;var u=$.p;try{$.p=2,Pc(e,t,n,l)}finally{$.p=u,A.T=o}}function cb(e,t,n,l){var o=A.T;A.T=null;var u=$.p;try{$.p=8,Pc(e,t,n,l)}finally{$.p=u,A.T=o}}function Pc(e,t,n,l){if(sr){var o=Ic(l);if(o===null)Bc(e,t,l,rr,n),gg(e,l);else if(fb(o,e,t,n,l))l.stopPropagation();else if(gg(e,l),t&4&&-1<ub.indexOf(e)){for(;o!==null;){var u=Xa(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var b=ba(u.pendingLanes);if(b!==0){var w=u;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var U=1<<31-Nt(b);w.entanglements[1]|=U,b&=~U}nn(u),(Re&6)===0&&(Gs=He()+500,ji(0))}}break;case 13:w=ll(u,2),w!==null&&_t(w,u,2),Xs(),Jc(u,2)}if(u=Ic(l),u===null&&Bc(e,t,l,rr,n),u===o)break;o=u}o!==null&&l.stopPropagation()}else Bc(e,t,l,null,n)}}function Ic(e){return e=to(e),Wc(e)}var rr=null;function Wc(e){if(rr=null,e=Za(e),e!==null){var t=d(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return rr=e,null}function mg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ln()){case $l:return 2;case fn:return 8;case dn:case Wi:return 32;case Fi:return 268435456;default:return 32}default:return 32}}var Fc=!1,la=null,ia=null,sa=null,Oi=new Map,ki=new Map,ra=[],ub="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gg(e,t){switch(e){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":sa=null;break;case"pointerover":case"pointerout":Oi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ki.delete(t.pointerId)}}function zi(e,t,n,l,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Xa(t),t!==null&&hg(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function fb(e,t,n,l,o){switch(t){case"focusin":return la=zi(la,e,t,n,l,o),!0;case"dragenter":return ia=zi(ia,e,t,n,l,o),!0;case"mouseover":return sa=zi(sa,e,t,n,l,o),!0;case"pointerover":var u=o.pointerId;return Oi.set(u,zi(Oi.get(u)||null,e,t,n,l,o)),!0;case"gotpointercapture":return u=o.pointerId,ki.set(u,zi(ki.get(u)||null,e,t,n,l,o)),!0}return!1}function pg(e){var t=Za(e.target);if(t!==null){var n=d(t);if(n!==null){if(t=n.tag,t===13){if(t=m(n),t!==null){e.blockedOn=t,l0(e.priority,function(){if(n.tag===13){var l=Rt();l=Gr(l);var o=ll(n,l);o!==null&&_t(o,n,l),Jc(n,l)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function or(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ic(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);eo=l,n.target.dispatchEvent(l),eo=null}else return t=Xa(n),t!==null&&hg(t),e.blockedOn=n,!1;t.shift()}return!0}function yg(e,t,n){or(e)&&n.delete(t)}function db(){Fc=!1,la!==null&&or(la)&&(la=null),ia!==null&&or(ia)&&(ia=null),sa!==null&&or(sa)&&(sa=null),Oi.forEach(yg),ki.forEach(yg)}function cr(e,t){e.blockedOn===t&&(e.blockedOn=null,Fc||(Fc=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,db)))}var ur=null;function vg(e){ur!==e&&(ur=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ur===e&&(ur=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],o=e[t+2];if(typeof l!="function"){if(Wc(l||n)===null)continue;break}var u=Xa(n);u!==null&&(e.splice(t,3),t-=3,Wo(u,{pending:!0,data:o,method:n.method,action:l},l,o))}}))}function Bi(e){function t(U){return cr(U,e)}la!==null&&cr(la,e),ia!==null&&cr(ia,e),sa!==null&&cr(sa,e),Oi.forEach(t),ki.forEach(t);for(var n=0;n<ra.length;n++){var l=ra[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ra.length&&(n=ra[0],n.blockedOn===null);)pg(n),n.blockedOn===null&&ra.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var o=n[l],u=n[l+1],b=o[yt]||null;if(typeof u=="function")b||vg(n);else if(b){var w=null;if(u&&u.hasAttribute("formAction")){if(o=u,b=u[yt]||null)w=b.formAction;else if(Wc(o)!==null)continue}else w=b.action;typeof w=="function"?n[l+1]=w:(n.splice(l,3),l-=3),vg(n)}}}function eu(e){this._internalRoot=e}fr.prototype.render=eu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,l=Rt();fg(n,l,e,t,null,null)},fr.prototype.unmount=eu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fg(e.current,2,null,e,null,null),Xs(),t[Ga]=null}};function fr(e){this._internalRoot=e}fr.prototype.unstable_scheduleHydration=function(e){if(e){var t=kf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ra.length&&t!==0&&t<ra[n].priority;n++);ra.splice(n,0,e),n===0&&pg(e)}};var bg=i.version;if(bg!=="19.1.0")throw Error(r(527,bg,"19.1.0"));$.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=h(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var hb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dr.isDisabled&&dr.supportsFiber)try{va=dr.inject(hb),St=dr}catch{}}return Hi.createRoot=function(e,t){if(!c(e))throw Error(r(299));var n=!1,l="",o=kh,u=zh,b=Bh,w=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(b=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(w=t.unstable_transitionCallbacks)),t=cg(e,1,!1,null,null,n,l,o,u,b,w,null),e[Ga]=t.current,zc(e),new eu(t)},Hi.hydrateRoot=function(e,t,n){if(!c(e))throw Error(r(299));var l=!1,o="",u=kh,b=zh,w=Bh,U=null,G=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(b=n.onCaughtError),n.onRecoverableError!==void 0&&(w=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(U=n.unstable_transitionCallbacks),n.formState!==void 0&&(G=n.formState)),t=cg(e,1,!0,t,n??null,l,o,u,b,w,U,G),t.context=ug(null),n=t.current,l=Rt(),l=Gr(l),o=Gn(l),o.callback=null,Zn(n,o,l),n=l,t.current.lanes=n,Vl(t,n),nn(t),e[Ga]=t.current,zc(e),new fr(t)},Hi.version="19.1.0",Hi}var Cg;function Nb(){if(Cg)return au.exports;Cg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),au.exports=Sb(),au.exports}var Tb=Nb(),qi={},Rg;function jb(){if(Rg)return qi;Rg=1,Object.defineProperty(qi,"__esModule",{value:!0}),qi.parse=m,qi.serialize=g;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,i=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,c=Object.prototype.toString,d=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function m(x,S){const E=new d,N=x.length;if(N<2)return E;const T=S?.decode||y;let j=0;do{const R=x.indexOf("=",j);if(R===-1)break;const M=x.indexOf(";",j),D=M===-1?N:M;if(R>D){j=x.lastIndexOf(";",R-1)+1;continue}const k=p(x,j,R),O=h(x,R,k),B=x.slice(k,O);if(E[B]===void 0){let H=p(x,R+1,D),K=h(x,D,H);const J=T(x.slice(H,K));E[B]=J}j=D+1}while(j<N);return E}function p(x,S,E){do{const N=x.charCodeAt(S);if(N!==32&&N!==9)return S}while(++S<E);return E}function h(x,S,E){for(;S>E;){const N=x.charCodeAt(--S);if(N!==32&&N!==9)return S+1}return E}function g(x,S,E){const N=E?.encode||encodeURIComponent;if(!a.test(x))throw new TypeError(`argument name is invalid: ${x}`);const T=N(S);if(!i.test(T))throw new TypeError(`argument val is invalid: ${S}`);let j=x+"="+T;if(!E)return j;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);j+="; Max-Age="+E.maxAge}if(E.domain){if(!s.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);j+="; Domain="+E.domain}if(E.path){if(!r.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);j+="; Path="+E.path}if(E.expires){if(!v(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);j+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(j+="; HttpOnly"),E.secure&&(j+="; Secure"),E.partitioned&&(j+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return j}function y(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function v(x){return c.call(x)==="[object Date]"}return qi}jb();var _g="popstate";function Ab(a={}){function i(r,c){let{pathname:d,search:m,hash:p}=r.location;return wu("",{pathname:d,search:m,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(r,c){return typeof c=="string"?c:Zi(c)}return Cb(i,s,null,a)}function $e(a,i){if(a===!1||a===null||typeof a>"u")throw new Error(i)}function Vt(a,i){if(!a){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function Db(){return Math.random().toString(36).substring(2,10)}function Mg(a,i){return{usr:a.state,key:a.key,idx:i}}function wu(a,i,s=null,r){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof i=="string"?Ol(i):i,state:s,key:i&&i.key||r||Db()}}function Zi({pathname:a="/",search:i="",hash:s=""}){return i&&i!=="?"&&(a+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(a+=s.charAt(0)==="#"?s:"#"+s),a}function Ol(a){let i={};if(a){let s=a.indexOf("#");s>=0&&(i.hash=a.substring(s),a=a.substring(0,s));let r=a.indexOf("?");r>=0&&(i.search=a.substring(r),a=a.substring(0,r)),a&&(i.pathname=a)}return i}function Cb(a,i,s,r={}){let{window:c=document.defaultView,v5Compat:d=!1}=r,m=c.history,p="POP",h=null,g=y();g==null&&(g=0,m.replaceState({...m.state,idx:g},""));function y(){return(m.state||{idx:null}).idx}function v(){p="POP";let T=y(),j=T==null?null:T-g;g=T,h&&h({action:p,location:N.location,delta:j})}function x(T,j){p="PUSH";let R=wu(N.location,T,j);g=y()+1;let M=Mg(R,g),D=N.createHref(R);try{m.pushState(M,"",D)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;c.location.assign(D)}d&&h&&h({action:p,location:N.location,delta:1})}function S(T,j){p="REPLACE";let R=wu(N.location,T,j);g=y();let M=Mg(R,g),D=N.createHref(R);m.replaceState(M,"",D),d&&h&&h({action:p,location:N.location,delta:0})}function E(T){return Rb(T)}let N={get action(){return p},get location(){return a(c,m)},listen(T){if(h)throw new Error("A history only accepts one active listener");return c.addEventListener(_g,v),h=T,()=>{c.removeEventListener(_g,v),h=null}},createHref(T){return i(c,T)},createURL:E,encodeLocation(T){let j=E(T);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:x,replace:S,go(T){return m.go(T)}};return N}function Rb(a,i=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),$e(s,"No window.location.(origin|href) available to create URL");let r=typeof a=="string"?a:Zi(a);return r=r.replace(/ $/,"%20"),!i&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function lp(a,i,s="/"){return _b(a,i,s,!1)}function _b(a,i,s,r){let c=typeof i=="string"?Ol(i):i,d=Un(c.pathname||"/",s);if(d==null)return null;let m=ip(a);Mb(m);let p=null;for(let h=0;p==null&&h<m.length;++h){let g=Vb(d);p=$b(m[h],g,r)}return p}function ip(a,i=[],s=[],r=""){let c=(d,m,p)=>{let h={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};h.relativePath.startsWith("/")&&($e(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let g=Mn([r,h.relativePath]),y=s.concat(h);d.children&&d.children.length>0&&($e(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),ip(d.children,i,y,g)),!(d.path==null&&!d.index)&&i.push({path:g,score:Hb(g,d.index),routesMeta:y})};return a.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))c(d,m);else for(let p of sp(d.path))c(d,m,p)}),i}function sp(a){let i=a.split("/");if(i.length===0)return[];let[s,...r]=i,c=s.endsWith("?"),d=s.replace(/\?$/,"");if(r.length===0)return c?[d,""]:[d];let m=sp(r.join("/")),p=[];return p.push(...m.map(h=>h===""?d:[d,h].join("/"))),c&&p.push(...m),p.map(h=>a.startsWith("/")&&h===""?"/":h)}function Mb(a){a.sort((i,s)=>i.score!==s.score?s.score-i.score:qb(i.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var Ub=/^:[\w-]+$/,Ob=3,kb=2,zb=1,Bb=10,Lb=-2,Ug=a=>a==="*";function Hb(a,i){let s=a.split("/"),r=s.length;return s.some(Ug)&&(r+=Lb),i&&(r+=kb),s.filter(c=>!Ug(c)).reduce((c,d)=>c+(Ub.test(d)?Ob:d===""?zb:Bb),r)}function qb(a,i){return a.length===i.length&&a.slice(0,-1).every((r,c)=>r===i[c])?a[a.length-1]-i[i.length-1]:0}function $b(a,i,s=!1){let{routesMeta:r}=a,c={},d="/",m=[];for(let p=0;p<r.length;++p){let h=r[p],g=p===r.length-1,y=d==="/"?i:i.slice(d.length)||"/",v=vr({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},y),x=h.route;if(!v&&g&&s&&!r[r.length-1].route.index&&(v=vr({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!v)return null;Object.assign(c,v.params),m.push({params:c,pathname:Mn([d,v.pathname]),pathnameBase:Qb(Mn([d,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(d=Mn([d,v.pathnameBase]))}return m}function vr(a,i){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[s,r]=Yb(a.path,a.caseSensitive,a.end),c=i.match(s);if(!c)return null;let d=c[0],m=d.replace(/(.)\/+$/,"$1"),p=c.slice(1);return{params:r.reduce((g,{paramName:y,isOptional:v},x)=>{if(y==="*"){let E=p[x]||"";m=d.slice(0,d.length-E.length).replace(/(.)\/+$/,"$1")}const S=p[x];return v&&!S?g[y]=void 0:g[y]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:d,pathnameBase:m,pattern:a}}function Yb(a,i=!1,s=!0){Vt(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let r=[],c="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,p,h)=>(r.push({paramName:p,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(r.push({paramName:"*"}),c+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":a!==""&&a!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,i?void 0:"i"),r]}function Vb(a){try{return a.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return Vt(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),a}}function Un(a,i){if(i==="/")return a;if(!a.toLowerCase().startsWith(i.toLowerCase()))return null;let s=i.endsWith("/")?i.length-1:i.length,r=a.charAt(s);return r&&r!=="/"?null:a.slice(s)||"/"}function Gb(a,i="/"){let{pathname:s,search:r="",hash:c=""}=typeof a=="string"?Ol(a):a;return{pathname:s?s.startsWith("/")?s:Zb(s,i):i,search:Kb(r),hash:Jb(c)}}function Zb(a,i){let s=i.replace(/\/+$/,"").split("/");return a.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function ru(a,i,s,r){return`Cannot include a '${a}' character in a manually specified \`to.${i}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Xb(a){return a.filter((i,s)=>s===0||i.route.path&&i.route.path.length>0)}function Lu(a){let i=Xb(a);return i.map((s,r)=>r===i.length-1?s.pathname:s.pathnameBase)}function Hu(a,i,s,r=!1){let c;typeof a=="string"?c=Ol(a):(c={...a},$e(!c.pathname||!c.pathname.includes("?"),ru("?","pathname","search",c)),$e(!c.pathname||!c.pathname.includes("#"),ru("#","pathname","hash",c)),$e(!c.search||!c.search.includes("#"),ru("#","search","hash",c)));let d=a===""||c.pathname==="",m=d?"/":c.pathname,p;if(m==null)p=s;else{let v=i.length-1;if(!r&&m.startsWith("..")){let x=m.split("/");for(;x[0]==="..";)x.shift(),v-=1;c.pathname=x.join("/")}p=v>=0?i[v]:"/"}let h=Gb(c,p),g=m&&m!=="/"&&m.endsWith("/"),y=(d||m===".")&&s.endsWith("/");return!h.pathname.endsWith("/")&&(g||y)&&(h.pathname+="/"),h}var Mn=a=>a.join("/").replace(/\/\/+/g,"/"),Qb=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),Kb=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,Jb=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function Pb(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var rp=["POST","PUT","PATCH","DELETE"];new Set(rp);var Ib=["GET",...rp];new Set(Ib);var kl=_.createContext(null);kl.displayName="DataRouter";var Tr=_.createContext(null);Tr.displayName="DataRouterState";var op=_.createContext({isTransitioning:!1});op.displayName="ViewTransition";var Wb=_.createContext(new Map);Wb.displayName="Fetchers";var Fb=_.createContext(null);Fb.displayName="Await";var Jt=_.createContext(null);Jt.displayName="Navigation";var Ji=_.createContext(null);Ji.displayName="Location";var cn=_.createContext({outlet:null,matches:[],isDataRoute:!1});cn.displayName="Route";var qu=_.createContext(null);qu.displayName="RouteError";function e1(a,{relative:i}={}){$e(zl(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=_.useContext(Jt),{hash:c,pathname:d,search:m}=Pi(a,{relative:i}),p=d;return s!=="/"&&(p=d==="/"?s:Mn([s,d])),r.createHref({pathname:p,search:m,hash:c})}function zl(){return _.useContext(Ji)!=null}function Pt(){return $e(zl(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Ji).location}var cp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function up(a){_.useContext(Jt).static||_.useLayoutEffect(a)}function Va(){let{isDataRoute:a}=_.useContext(cn);return a?h1():t1()}function t1(){$e(zl(),"useNavigate() may be used only in the context of a <Router> component.");let a=_.useContext(kl),{basename:i,navigator:s}=_.useContext(Jt),{matches:r}=_.useContext(cn),{pathname:c}=Pt(),d=JSON.stringify(Lu(r)),m=_.useRef(!1);return up(()=>{m.current=!0}),_.useCallback((h,g={})=>{if(Vt(m.current,cp),!m.current)return;if(typeof h=="number"){s.go(h);return}let y=Hu(h,JSON.parse(d),c,g.relative==="path");a==null&&i!=="/"&&(y.pathname=y.pathname==="/"?i:Mn([i,y.pathname])),(g.replace?s.replace:s.push)(y,g.state,g)},[i,s,d,c,a])}_.createContext(null);function Pi(a,{relative:i}={}){let{matches:s}=_.useContext(cn),{pathname:r}=Pt(),c=JSON.stringify(Lu(s));return _.useMemo(()=>Hu(a,JSON.parse(c),r,i==="path"),[a,c,r,i])}function n1(a,i){return fp(a,i)}function fp(a,i,s,r){$e(zl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=_.useContext(Jt),{matches:d}=_.useContext(cn),m=d[d.length-1],p=m?m.params:{},h=m?m.pathname:"/",g=m?m.pathnameBase:"/",y=m&&m.route;{let j=y&&y.path||"";dp(h,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let v=Pt(),x;if(i){let j=typeof i=="string"?Ol(i):i;$e(g==="/"||j.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${j.pathname}" was given in the \`location\` prop.`),x=j}else x=v;let S=x.pathname||"/",E=S;if(g!=="/"){let j=g.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(j.length).join("/")}let N=lp(a,{pathname:E});Vt(y||N!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Vt(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=r1(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},p,j.params),pathname:Mn([g,c.encodeLocation?c.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:Mn([g,c.encodeLocation?c.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),d,s,r);return i&&T?_.createElement(Ji.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},T):T}function a1(){let a=d1(),i=Pb(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),s=a instanceof Error?a.stack:null,r="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:r},d={padding:"2px 4px",backgroundColor:r},m=null;return console.error("Error handled by React Router default ErrorBoundary:",a),m=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:d},"ErrorBoundary")," or"," ",_.createElement("code",{style:d},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},i),s?_.createElement("pre",{style:c},s):null,m)}var l1=_.createElement(a1,null),i1=class extends _.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,i){return i.location!==a.location||i.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:i.error,location:i.location,revalidation:a.revalidation||i.revalidation}}componentDidCatch(a,i){console.error("React Router caught the following error during render",a,i)}render(){return this.state.error!==void 0?_.createElement(cn.Provider,{value:this.props.routeContext},_.createElement(qu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function s1({routeContext:a,match:i,children:s}){let r=_.useContext(kl);return r&&r.static&&r.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=i.route.id),_.createElement(cn.Provider,{value:a},s)}function r1(a,i=[],s=null,r=null){if(a==null){if(!s)return null;if(s.errors)a=s.matches;else if(i.length===0&&!s.initialized&&s.matches.length>0)a=s.matches;else return null}let c=a,d=s?.errors;if(d!=null){let h=c.findIndex(g=>g.route.id&&d?.[g.route.id]!==void 0);$e(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,h+1))}let m=!1,p=-1;if(s)for(let h=0;h<c.length;h++){let g=c[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=h),g.route.id){let{loaderData:y,errors:v}=s,x=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||x){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((h,g,y)=>{let v,x=!1,S=null,E=null;s&&(v=d&&g.route.id?d[g.route.id]:void 0,S=g.route.errorElement||l1,m&&(p<0&&y===0?(dp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,E=null):p===y&&(x=!0,E=g.route.hydrateFallbackElement||null)));let N=i.concat(c.slice(0,y+1)),T=()=>{let j;return v?j=S:x?j=E:g.route.Component?j=_.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=h,_.createElement(s1,{match:g,routeContext:{outlet:h,matches:N,isDataRoute:s!=null},children:j})};return s&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?_.createElement(i1,{location:s.location,revalidation:s.revalidation,component:S,error:v,children:T(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):T()},null)}function $u(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o1(a){let i=_.useContext(kl);return $e(i,$u(a)),i}function c1(a){let i=_.useContext(Tr);return $e(i,$u(a)),i}function u1(a){let i=_.useContext(cn);return $e(i,$u(a)),i}function Yu(a){let i=u1(a),s=i.matches[i.matches.length-1];return $e(s.route.id,`${a} can only be used on routes that contain a unique "id"`),s.route.id}function f1(){return Yu("useRouteId")}function d1(){let a=_.useContext(qu),i=c1("useRouteError"),s=Yu("useRouteError");return a!==void 0?a:i.errors?.[s]}function h1(){let{router:a}=o1("useNavigate"),i=Yu("useNavigate"),s=_.useRef(!1);return up(()=>{s.current=!0}),_.useCallback(async(c,d={})=>{Vt(s.current,cp),s.current&&(typeof c=="number"?a.navigate(c):await a.navigate(c,{fromRouteId:i,...d}))},[a,i])}var Og={};function dp(a,i,s){!i&&!Og[a]&&(Og[a]=!0,Vt(!1,s))}_.memo(m1);function m1({routes:a,future:i,state:s}){return fp(a,void 0,s,i)}function g1({to:a,replace:i,state:s,relative:r}){$e(zl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=_.useContext(Jt);Vt(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=_.useContext(cn),{pathname:m}=Pt(),p=Va(),h=Hu(a,Lu(d),m,r==="path"),g=JSON.stringify(h);return _.useEffect(()=>{p(JSON.parse(g),{replace:i,state:s,relative:r})},[p,g,r,i,s]),null}function Dn(a){$e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function p1({basename:a="/",children:i=null,location:s,navigationType:r="POP",navigator:c,static:d=!1}){$e(!zl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=a.replace(/^\/*/,"/"),p=_.useMemo(()=>({basename:m,navigator:c,static:d,future:{}}),[m,c,d]);typeof s=="string"&&(s=Ol(s));let{pathname:h="/",search:g="",hash:y="",state:v=null,key:x="default"}=s,S=_.useMemo(()=>{let E=Un(h,m);return E==null?null:{location:{pathname:E,search:g,hash:y,state:v,key:x},navigationType:r}},[m,h,g,y,v,x,r]);return Vt(S!=null,`<Router basename="${m}"> is not able to match the URL "${h}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:_.createElement(Jt.Provider,{value:p},_.createElement(Ji.Provider,{children:i,value:S}))}function y1({children:a,location:i}){return n1(Su(a),i)}function Su(a,i=[]){let s=[];return _.Children.forEach(a,(r,c)=>{if(!_.isValidElement(r))return;let d=[...i,c];if(r.type===_.Fragment){s.push.apply(s,Su(r.props.children,d));return}$e(r.type===Dn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$e(!r.props.index||!r.props.children,"An index route cannot have child routes.");let m={id:r.props.id||d.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(m.children=Su(r.props.children,d)),s.push(m)}),s}var gr="get",pr="application/x-www-form-urlencoded";function jr(a){return a!=null&&typeof a.tagName=="string"}function v1(a){return jr(a)&&a.tagName.toLowerCase()==="button"}function b1(a){return jr(a)&&a.tagName.toLowerCase()==="form"}function x1(a){return jr(a)&&a.tagName.toLowerCase()==="input"}function E1(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function w1(a,i){return a.button===0&&(!i||i==="_self")&&!E1(a)}function Nu(a=""){return new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((i,s)=>{let r=a[s];return i.concat(Array.isArray(r)?r.map(c=>[s,c]):[[s,r]])},[]))}function S1(a,i){let s=Nu(a);return i&&i.forEach((r,c)=>{s.has(c)||i.getAll(c).forEach(d=>{s.append(c,d)})}),s}var hr=null;function N1(){if(hr===null)try{new FormData(document.createElement("form"),0),hr=!1}catch{hr=!0}return hr}var T1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ou(a){return a!=null&&!T1.has(a)?(Vt(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pr}"`),null):a}function j1(a,i){let s,r,c,d,m;if(b1(a)){let p=a.getAttribute("action");r=p?Un(p,i):null,s=a.getAttribute("method")||gr,c=ou(a.getAttribute("enctype"))||pr,d=new FormData(a)}else if(v1(a)||x1(a)&&(a.type==="submit"||a.type==="image")){let p=a.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=a.getAttribute("formaction")||p.getAttribute("action");if(r=h?Un(h,i):null,s=a.getAttribute("formmethod")||p.getAttribute("method")||gr,c=ou(a.getAttribute("formenctype"))||ou(p.getAttribute("enctype"))||pr,d=new FormData(p,a),!N1()){let{name:g,type:y,value:v}=a;if(y==="image"){let x=g?`${g}.`:"";d.append(`${x}x`,"0"),d.append(`${x}y`,"0")}else g&&d.append(g,v)}}else{if(jr(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=gr,r=null,c=pr,m=a}return d&&c==="text/plain"&&(m=d,d=void 0),{action:r,method:s.toLowerCase(),encType:c,formData:d,body:m}}function Vu(a,i){if(a===!1||a===null||typeof a>"u")throw new Error(i)}async function A1(a,i){if(a.id in i)return i[a.id];try{let s=await import(a.module);return i[a.id]=s,s}catch(s){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function D1(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function C1(a,i,s){let r=await Promise.all(a.map(async c=>{let d=i.routes[c.route.id];if(d){let m=await A1(d,s);return m.links?m.links():[]}return[]}));return U1(r.flat(1).filter(D1).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function kg(a,i,s,r,c,d){let m=(h,g)=>s[g]?h.route.id!==s[g].route.id:!0,p=(h,g)=>s[g].pathname!==h.pathname||s[g].route.path?.endsWith("*")&&s[g].params["*"]!==h.params["*"];return d==="assets"?i.filter((h,g)=>m(h,g)||p(h,g)):d==="data"?i.filter((h,g)=>{let y=r.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(m(h,g)||p(h,g))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function R1(a,i,{includeHydrateFallback:s}={}){return _1(a.map(r=>{let c=i.routes[r.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),s&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function _1(a){return[...new Set(a)]}function M1(a){let i={},s=Object.keys(a).sort();for(let r of s)i[r]=a[r];return i}function U1(a,i){let s=new Set;return new Set(i),a.reduce((r,c)=>{let d=JSON.stringify(M1(c));return s.has(d)||(s.add(d),r.push({key:d,link:c})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var O1=new Set([100,101,204,205]);function k1(a,i){let s=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return s.pathname==="/"?s.pathname="_root.data":i&&Un(s.pathname,i)==="/"?s.pathname=`${i.replace(/\/$/,"")}/_root.data`:s.pathname=`${s.pathname.replace(/\/$/,"")}.data`,s}function hp(){let a=_.useContext(kl);return Vu(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function z1(){let a=_.useContext(Tr);return Vu(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Gu=_.createContext(void 0);Gu.displayName="FrameworkContext";function mp(){let a=_.useContext(Gu);return Vu(a,"You must render this element inside a <HydratedRouter> element"),a}function B1(a,i){let s=_.useContext(Gu),[r,c]=_.useState(!1),[d,m]=_.useState(!1),{onFocus:p,onBlur:h,onMouseEnter:g,onMouseLeave:y,onTouchStart:v}=i,x=_.useRef(null);_.useEffect(()=>{if(a==="render"&&m(!0),a==="viewport"){let N=j=>{j.forEach(R=>{m(R.isIntersecting)})},T=new IntersectionObserver(N,{threshold:.5});return x.current&&T.observe(x.current),()=>{T.disconnect()}}},[a]),_.useEffect(()=>{if(r){let N=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(N)}}},[r]);let S=()=>{c(!0)},E=()=>{c(!1),m(!1)};return s?a!=="intent"?[d,x,{}]:[d,x,{onFocus:$i(p,S),onBlur:$i(h,E),onMouseEnter:$i(g,S),onMouseLeave:$i(y,E),onTouchStart:$i(v,S)}]:[!1,x,{}]}function $i(a,i){return s=>{a&&a(s),s.defaultPrevented||i(s)}}function L1({page:a,...i}){let{router:s}=hp(),r=_.useMemo(()=>lp(s.routes,a,s.basename),[s.routes,a,s.basename]);return r?_.createElement(q1,{page:a,matches:r,...i}):null}function H1(a){let{manifest:i,routeModules:s}=mp(),[r,c]=_.useState([]);return _.useEffect(()=>{let d=!1;return C1(a,i,s).then(m=>{d||c(m)}),()=>{d=!0}},[a,i,s]),r}function q1({page:a,matches:i,...s}){let r=Pt(),{manifest:c,routeModules:d}=mp(),{basename:m}=hp(),{loaderData:p,matches:h}=z1(),g=_.useMemo(()=>kg(a,i,h,c,r,"data"),[a,i,h,c,r]),y=_.useMemo(()=>kg(a,i,h,c,r,"assets"),[a,i,h,c,r]),v=_.useMemo(()=>{if(a===r.pathname+r.search+r.hash)return[];let E=new Set,N=!1;if(i.forEach(j=>{let R=c.routes[j.route.id];!R||!R.hasLoader||(!g.some(M=>M.route.id===j.route.id)&&j.route.id in p&&d[j.route.id]?.shouldRevalidate||R.hasClientLoader?N=!0:E.add(j.route.id))}),E.size===0)return[];let T=k1(a,m);return N&&E.size>0&&T.searchParams.set("_routes",i.filter(j=>E.has(j.route.id)).map(j=>j.route.id).join(",")),[T.pathname+T.search]},[m,p,r,c,g,i,a,d]),x=_.useMemo(()=>R1(y,c),[y,c]),S=H1(y);return _.createElement(_.Fragment,null,v.map(E=>_.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...s})),x.map(E=>_.createElement("link",{key:E,rel:"modulepreload",href:E,...s})),S.map(({key:E,link:N})=>_.createElement("link",{key:E,...N})))}function $1(...a){return i=>{a.forEach(s=>{typeof s=="function"?s(i):s!=null&&(s.current=i)})}}var gp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gp&&(window.__reactRouterVersion="7.6.3")}catch{}function Y1({basename:a,children:i,window:s}){let r=_.useRef();r.current==null&&(r.current=Ab({window:s,v5Compat:!0}));let c=r.current,[d,m]=_.useState({action:c.action,location:c.location}),p=_.useCallback(h=>{_.startTransition(()=>m(h))},[m]);return _.useLayoutEffect(()=>c.listen(p),[c,p]),_.createElement(p1,{basename:a,children:i,location:d.location,navigationType:d.action,navigator:c})}var pp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ha=_.forwardRef(function({onClick:i,discover:s="render",prefetch:r="none",relative:c,reloadDocument:d,replace:m,state:p,target:h,to:g,preventScrollReset:y,viewTransition:v,...x},S){let{basename:E}=_.useContext(Jt),N=typeof g=="string"&&pp.test(g),T,j=!1;if(typeof g=="string"&&N&&(T=g,gp))try{let K=new URL(window.location.href),J=g.startsWith("//")?new URL(K.protocol+g):new URL(g),ne=Un(J.pathname,E);J.origin===K.origin&&ne!=null?g=ne+J.search+J.hash:j=!0}catch{Vt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=e1(g,{relative:c}),[M,D,k]=B1(r,x),O=X1(g,{replace:m,state:p,target:h,preventScrollReset:y,relative:c,viewTransition:v});function B(K){i&&i(K),K.defaultPrevented||O(K)}let H=_.createElement("a",{...x,...k,href:T||R,onClick:j||d?i:B,ref:$1(S,D),target:h,"data-discover":!N&&s==="render"?"true":void 0});return M&&!N?_.createElement(_.Fragment,null,H,_.createElement(L1,{page:R})):H});ha.displayName="Link";var V1=_.forwardRef(function({"aria-current":i="page",caseSensitive:s=!1,className:r="",end:c=!1,style:d,to:m,viewTransition:p,children:h,...g},y){let v=Pi(m,{relative:g.relative}),x=Pt(),S=_.useContext(Tr),{navigator:E,basename:N}=_.useContext(Jt),T=S!=null&&W1(v)&&p===!0,j=E.encodeLocation?E.encodeLocation(v).pathname:v.pathname,R=x.pathname,M=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;s||(R=R.toLowerCase(),M=M?M.toLowerCase():null,j=j.toLowerCase()),M&&N&&(M=Un(M,N)||M);const D=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let k=R===j||!c&&R.startsWith(j)&&R.charAt(D)==="/",O=M!=null&&(M===j||!c&&M.startsWith(j)&&M.charAt(j.length)==="/"),B={isActive:k,isPending:O,isTransitioning:T},H=k?i:void 0,K;typeof r=="function"?K=r(B):K=[r,k?"active":null,O?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let J=typeof d=="function"?d(B):d;return _.createElement(ha,{...g,"aria-current":H,className:K,ref:y,style:J,to:m,viewTransition:p},typeof h=="function"?h(B):h)});V1.displayName="NavLink";var G1=_.forwardRef(({discover:a="render",fetcherKey:i,navigate:s,reloadDocument:r,replace:c,state:d,method:m=gr,action:p,onSubmit:h,relative:g,preventScrollReset:y,viewTransition:v,...x},S)=>{let E=P1(),N=I1(p,{relative:g}),T=m.toLowerCase()==="get"?"get":"post",j=typeof p=="string"&&pp.test(p),R=M=>{if(h&&h(M),M.defaultPrevented)return;M.preventDefault();let D=M.nativeEvent.submitter,k=D?.getAttribute("formmethod")||m;E(D||M.currentTarget,{fetcherKey:i,method:k,navigate:s,replace:c,state:d,relative:g,preventScrollReset:y,viewTransition:v})};return _.createElement("form",{ref:S,method:T,action:N,onSubmit:r?h:R,...x,"data-discover":!j&&a==="render"?"true":void 0})});G1.displayName="Form";function Z1(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yp(a){let i=_.useContext(kl);return $e(i,Z1(a)),i}function X1(a,{target:i,replace:s,state:r,preventScrollReset:c,relative:d,viewTransition:m}={}){let p=Va(),h=Pt(),g=Pi(a,{relative:d});return _.useCallback(y=>{if(w1(y,i)){y.preventDefault();let v=s!==void 0?s:Zi(h)===Zi(g);p(a,{replace:v,state:r,preventScrollReset:c,relative:d,viewTransition:m})}},[h,p,g,s,r,i,a,c,d,m])}function Q1(a){Vt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let i=_.useRef(Nu(a)),s=_.useRef(!1),r=Pt(),c=_.useMemo(()=>S1(r.search,s.current?null:i.current),[r.search]),d=Va(),m=_.useCallback((p,h)=>{const g=Nu(typeof p=="function"?p(c):p);s.current=!0,d("?"+g,h)},[d,c]);return[c,m]}var K1=0,J1=()=>`__${String(++K1)}__`;function P1(){let{router:a}=yp("useSubmit"),{basename:i}=_.useContext(Jt),s=f1();return _.useCallback(async(r,c={})=>{let{action:d,method:m,encType:p,formData:h,body:g}=j1(r,i);if(c.navigate===!1){let y=c.fetcherKey||J1();await a.fetch(y,s,c.action||d,{preventScrollReset:c.preventScrollReset,formData:h,body:g,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await a.navigate(c.action||d,{preventScrollReset:c.preventScrollReset,formData:h,body:g,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,i,s])}function I1(a,{relative:i}={}){let{basename:s}=_.useContext(Jt),r=_.useContext(cn);$e(r,"useFormAction must be used inside a RouteContext");let[c]=r.matches.slice(-1),d={...Pi(a||".",{relative:i})},m=Pt();if(a==null){d.search=m.search;let p=new URLSearchParams(d.search),h=p.getAll("index");if(h.some(y=>y==="")){p.delete("index"),h.filter(v=>v).forEach(v=>p.append("index",v));let y=p.toString();d.search=y?`?${y}`:""}}return(!a||a===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(d.pathname=d.pathname==="/"?s:Mn([s,d.pathname])),Zi(d)}function W1(a,i={}){let s=_.useContext(op);$e(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=yp("useViewTransitionState"),c=Pi(a,{relative:i.relative});if(!s.isTransitioning)return!1;let d=Un(s.currentLocation.pathname,r)||s.currentLocation.pathname,m=Un(s.nextLocation.pathname,r)||s.nextLocation.pathname;return vr(c.pathname,m)!=null||vr(c.pathname,d)!=null}[...O1];const vp=_.createContext(null);function F1({children:a}){const[i,s]=_.useState(!1),[r,c]=_.useState(null),[d,m]=_.useState(null);_.useEffect(()=>{const v=localStorage.getItem("nostrcal_user");if(v)try{const x=JSON.parse(v);c(x),s(!0),console.log("Restored user from localStorage:",x)}catch(x){console.error("Failed to parse saved user data:",x),localStorage.removeItem("nostrcal_user")}},[]);const y={isLoggedIn:i,user:r,userProfile:d,login:v=>{console.log("AuthContext.login called with:",v),c(v),s(!0),localStorage.setItem("nostrcal_user",JSON.stringify(v)),console.log("User logged in successfully, isLoggedIn:",!0)},logout:()=>{console.log("Logging out..."),c(null),s(!1),localStorage.removeItem("nostrcal_user")},updateProfile:v=>{if(m(v),r){const x={...r,profile:v};c(x),localStorage.setItem("nostrcal_user",JSON.stringify(x))}}};return f.jsx(vp.Provider,{value:y,children:a})}function It(){const a=_.useContext(vp);if(!a)throw new Error("useAuth must be used within an AuthProvider");return a}function zg(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`Wrong positive integer: ${a}`)}function bp(a,...i){if(!(a instanceof Uint8Array))throw new Error("Expected Uint8Array");if(i.length>0&&!i.includes(a.length))throw new Error(`Expected Uint8Array of length ${i}, not of length=${a.length}`)}function ex(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");zg(a.outputLen),zg(a.blockLen)}function br(a,i=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(i&&a.finished)throw new Error("Hash#digest() has already been called")}function tx(a,i){bp(a);const s=i.outputLen;if(a.length<s)throw new Error(`digestInto() expects output buffer of length at least ${s}`)}const cu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xp=a=>a instanceof Uint8Array,uu=a=>new DataView(a.buffer,a.byteOffset,a.byteLength),an=(a,i)=>a<<32-i|a>>>i,nx=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!nx)throw new Error("Non little-endian hardware is not supported");function ax(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function Zu(a){if(typeof a=="string"&&(a=ax(a)),!xp(a))throw new Error(`expected Uint8Array, got ${typeof a}`);return a}function lx(...a){const i=new Uint8Array(a.reduce((r,c)=>r+c.length,0));let s=0;return a.forEach(r=>{if(!xp(r))throw new Error("Uint8Array expected");i.set(r,s),s+=r.length}),i}let Ep=class{clone(){return this._cloneInto()}};function ix(a){const i=r=>a().update(Zu(r)).digest(),s=a();return i.outputLen=s.outputLen,i.blockLen=s.blockLen,i.create=()=>a(),i}function wp(a=32){if(cu&&typeof cu.getRandomValues=="function")return cu.getRandomValues(new Uint8Array(a));throw new Error("crypto.getRandomValues must be defined")}function sx(a,i,s,r){if(typeof a.setBigUint64=="function")return a.setBigUint64(i,s,r);const c=BigInt(32),d=BigInt(4294967295),m=Number(s>>c&d),p=Number(s&d),h=r?4:0,g=r?0:4;a.setUint32(i+h,m,r),a.setUint32(i+g,p,r)}let rx=class extends Ep{constructor(i,s,r,c){super(),this.blockLen=i,this.outputLen=s,this.padOffset=r,this.isLE=c,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(i),this.view=uu(this.buffer)}update(i){br(this);const{view:s,buffer:r,blockLen:c}=this;i=Zu(i);const d=i.length;for(let m=0;m<d;){const p=Math.min(c-this.pos,d-m);if(p===c){const h=uu(i);for(;c<=d-m;m+=c)this.process(h,m);continue}r.set(i.subarray(m,m+p),this.pos),this.pos+=p,m+=p,this.pos===c&&(this.process(s,0),this.pos=0)}return this.length+=i.length,this.roundClean(),this}digestInto(i){br(this),tx(i,this),this.finished=!0;const{buffer:s,view:r,blockLen:c,isLE:d}=this;let{pos:m}=this;s[m++]=128,this.buffer.subarray(m).fill(0),this.padOffset>c-m&&(this.process(r,0),m=0);for(let v=m;v<c;v++)s[v]=0;sx(r,c-8,BigInt(this.length*8),d),this.process(r,0);const p=uu(i),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const g=h/4,y=this.get();if(g>y.length)throw new Error("_sha2: outputLen bigger than state");for(let v=0;v<g;v++)p.setUint32(4*v,y[v],d)}digest(){const{buffer:i,outputLen:s}=this;this.digestInto(i);const r=i.slice(0,s);return this.destroy(),r}_cloneInto(i){i||(i=new this.constructor),i.set(...this.get());const{blockLen:s,buffer:r,length:c,finished:d,destroyed:m,pos:p}=this;return i.length=c,i.pos=p,i.finished=d,i.destroyed=m,c%s&&i.buffer.set(r),i}};const ox=(a,i,s)=>a&i^~a&s,cx=(a,i,s)=>a&i^a&s^i&s,ux=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ca=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ua=new Uint32Array(64);let fx=class extends rx{constructor(){super(64,32,8,!1),this.A=ca[0]|0,this.B=ca[1]|0,this.C=ca[2]|0,this.D=ca[3]|0,this.E=ca[4]|0,this.F=ca[5]|0,this.G=ca[6]|0,this.H=ca[7]|0}get(){const{A:i,B:s,C:r,D:c,E:d,F:m,G:p,H:h}=this;return[i,s,r,c,d,m,p,h]}set(i,s,r,c,d,m,p,h){this.A=i|0,this.B=s|0,this.C=r|0,this.D=c|0,this.E=d|0,this.F=m|0,this.G=p|0,this.H=h|0}process(i,s){for(let v=0;v<16;v++,s+=4)ua[v]=i.getUint32(s,!1);for(let v=16;v<64;v++){const x=ua[v-15],S=ua[v-2],E=an(x,7)^an(x,18)^x>>>3,N=an(S,17)^an(S,19)^S>>>10;ua[v]=N+ua[v-7]+E+ua[v-16]|0}let{A:r,B:c,C:d,D:m,E:p,F:h,G:g,H:y}=this;for(let v=0;v<64;v++){const x=an(p,6)^an(p,11)^an(p,25),S=y+x+ox(p,h,g)+ux[v]+ua[v]|0,N=(an(r,2)^an(r,13)^an(r,22))+cx(r,c,d)|0;y=g,g=h,h=p,p=m+S|0,m=d,d=c,c=r,r=S+N|0}r=r+this.A|0,c=c+this.B|0,d=d+this.C|0,m=m+this.D|0,p=p+this.E|0,h=h+this.F|0,g=g+this.G|0,y=y+this.H|0,this.set(r,c,d,m,p,h,g,y)}roundClean(){ua.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Tu=ix(()=>new fx);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Sp=BigInt(0),Ar=BigInt(1),dx=BigInt(2),Dr=a=>a instanceof Uint8Array,hx=Array.from({length:256},(a,i)=>i.toString(16).padStart(2,"0"));function _l(a){if(!Dr(a))throw new Error("Uint8Array expected");let i="";for(let s=0;s<a.length;s++)i+=hx[a[s]];return i}function Np(a){const i=a.toString(16);return i.length&1?`0${i}`:i}function Xu(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);return BigInt(a===""?"0":`0x${a}`)}function Ml(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const i=a.length;if(i%2)throw new Error("padded hex string expected, got unpadded hex of length "+i);const s=new Uint8Array(i/2);for(let r=0;r<s.length;r++){const c=r*2,d=a.slice(c,c+2),m=Number.parseInt(d,16);if(Number.isNaN(m)||m<0)throw new Error("Invalid byte sequence");s[r]=m}return s}function wt(a){return Xu(_l(a))}function Qu(a){if(!Dr(a))throw new Error("Uint8Array expected");return Xu(_l(Uint8Array.from(a).reverse()))}function pa(a,i){return Ml(a.toString(16).padStart(i*2,"0"))}function Ku(a,i){return pa(a,i).reverse()}function mx(a){return Ml(Np(a))}function ht(a,i,s){let r;if(typeof i=="string")try{r=Ml(i)}catch(d){throw new Error(`${a} must be valid hex string, got "${i}". Cause: ${d}`)}else if(Dr(i))r=Uint8Array.from(i);else throw new Error(`${a} must be hex string or Uint8Array`);const c=r.length;if(typeof s=="number"&&c!==s)throw new Error(`${a} expected ${s} bytes, got ${c}`);return r}function $a(...a){const i=new Uint8Array(a.reduce((r,c)=>r+c.length,0));let s=0;return a.forEach(r=>{if(!Dr(r))throw new Error("Uint8Array expected");i.set(r,s),s+=r.length}),i}function gx(a,i){if(a.length!==i.length)return!1;for(let s=0;s<a.length;s++)if(a[s]!==i[s])return!1;return!0}function px(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function yx(a){let i;for(i=0;a>Sp;a>>=Ar,i+=1);return i}function vx(a,i){return a>>BigInt(i)&Ar}const bx=(a,i,s)=>a|(s?Ar:Sp)<<BigInt(i),Ju=a=>(dx<<BigInt(a-1))-Ar,fu=a=>new Uint8Array(a),Bg=a=>Uint8Array.from(a);function Tp(a,i,s){if(typeof a!="number"||a<2)throw new Error("hashLen must be a number");if(typeof i!="number"||i<2)throw new Error("qByteLen must be a number");if(typeof s!="function")throw new Error("hmacFn must be a function");let r=fu(a),c=fu(a),d=0;const m=()=>{r.fill(1),c.fill(0),d=0},p=(...v)=>s(c,r,...v),h=(v=fu())=>{c=p(Bg([0]),v),r=p(),v.length!==0&&(c=p(Bg([1]),v),r=p())},g=()=>{if(d++>=1e3)throw new Error("drbg: tried 1000 values");let v=0;const x=[];for(;v<i;){r=p();const S=r.slice();x.push(S),v+=r.length}return $a(...x)};return(v,x)=>{m(),h(v);let S;for(;!(S=x(g()));)h();return m(),S}}const xx={bigint:a=>typeof a=="bigint",function:a=>typeof a=="function",boolean:a=>typeof a=="boolean",string:a=>typeof a=="string",stringOrUint8Array:a=>typeof a=="string"||a instanceof Uint8Array,isSafeInteger:a=>Number.isSafeInteger(a),array:a=>Array.isArray(a),field:(a,i)=>i.Fp.isValid(a),hash:a=>typeof a=="function"&&Number.isSafeInteger(a.outputLen)};function Ii(a,i,s={}){const r=(c,d,m)=>{const p=xx[d];if(typeof p!="function")throw new Error(`Invalid validator "${d}", expected function`);const h=a[c];if(!(m&&h===void 0)&&!p(h,a))throw new Error(`Invalid param ${String(c)}=${h} (${typeof h}), expected ${d}`)};for(const[c,d]of Object.entries(i))r(c,d,!1);for(const[c,d]of Object.entries(s))r(c,d,!0);return a}const Ex=Object.freeze(Object.defineProperty({__proto__:null,bitGet:vx,bitLen:yx,bitMask:Ju,bitSet:bx,bytesToHex:_l,bytesToNumberBE:wt,bytesToNumberLE:Qu,concatBytes:$a,createHmacDrbg:Tp,ensureBytes:ht,equalBytes:gx,hexToBytes:Ml,hexToNumber:Xu,numberToBytesBE:pa,numberToBytesLE:Ku,numberToHexUnpadded:Np,numberToVarBytesBE:mx,utf8ToBytes:px,validateObject:Ii},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const it=BigInt(0),Ke=BigInt(1),Ba=BigInt(2),wx=BigInt(3),ju=BigInt(4),Lg=BigInt(5),Hg=BigInt(8);BigInt(9);BigInt(16);function ct(a,i){const s=a%i;return s>=it?s:i+s}function Sx(a,i,s){if(s<=it||i<it)throw new Error("Expected power/modulo > 0");if(s===Ke)return it;let r=Ke;for(;i>it;)i&Ke&&(r=r*a%s),a=a*a%s,i>>=Ke;return r}function $t(a,i,s){let r=a;for(;i-- >it;)r*=r,r%=s;return r}function Au(a,i){if(a===it||i<=it)throw new Error(`invert: expected positive integers, got n=${a} mod=${i}`);let s=ct(a,i),r=i,c=it,d=Ke;for(;s!==it;){const p=r/s,h=r%s,g=c-d*p;r=s,s=h,c=d,d=g}if(r!==Ke)throw new Error("invert: does not exist");return ct(c,i)}function Nx(a){const i=(a-Ke)/Ba;let s,r,c;for(s=a-Ke,r=0;s%Ba===it;s/=Ba,r++);for(c=Ba;c<a&&Sx(c,i,a)!==a-Ke;c++);if(r===1){const m=(a+Ke)/ju;return function(h,g){const y=h.pow(g,m);if(!h.eql(h.sqr(y),g))throw new Error("Cannot find square root");return y}}const d=(s+Ke)/Ba;return function(p,h){if(p.pow(h,i)===p.neg(p.ONE))throw new Error("Cannot find square root");let g=r,y=p.pow(p.mul(p.ONE,c),s),v=p.pow(h,d),x=p.pow(h,s);for(;!p.eql(x,p.ONE);){if(p.eql(x,p.ZERO))return p.ZERO;let S=1;for(let N=p.sqr(x);S<g&&!p.eql(N,p.ONE);S++)N=p.sqr(N);const E=p.pow(y,Ke<<BigInt(g-S-1));y=p.sqr(E),v=p.mul(v,E),x=p.mul(x,y),g=S}return v}}function Tx(a){if(a%ju===wx){const i=(a+Ke)/ju;return function(r,c){const d=r.pow(c,i);if(!r.eql(r.sqr(d),c))throw new Error("Cannot find square root");return d}}if(a%Hg===Lg){const i=(a-Lg)/Hg;return function(r,c){const d=r.mul(c,Ba),m=r.pow(d,i),p=r.mul(c,m),h=r.mul(r.mul(p,Ba),m),g=r.mul(p,r.sub(h,r.ONE));if(!r.eql(r.sqr(g),c))throw new Error("Cannot find square root");return g}}return Nx(a)}const jx=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ax(a){const i={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},s=jx.reduce((r,c)=>(r[c]="function",r),i);return Ii(a,s)}function Dx(a,i,s){if(s<it)throw new Error("Expected power > 0");if(s===it)return a.ONE;if(s===Ke)return i;let r=a.ONE,c=i;for(;s>it;)s&Ke&&(r=a.mul(r,c)),c=a.sqr(c),s>>=Ke;return r}function Cx(a,i){const s=new Array(i.length),r=i.reduce((d,m,p)=>a.is0(m)?d:(s[p]=d,a.mul(d,m)),a.ONE),c=a.inv(r);return i.reduceRight((d,m,p)=>a.is0(m)?d:(s[p]=a.mul(d,s[p]),a.mul(d,m)),c),s}function jp(a,i){const s=i!==void 0?i:a.toString(2).length,r=Math.ceil(s/8);return{nBitLength:s,nByteLength:r}}function Rx(a,i,s=!1,r={}){if(a<=it)throw new Error(`Expected Field ORDER > 0, got ${a}`);const{nBitLength:c,nByteLength:d}=jp(a,i);if(d>2048)throw new Error("Field lengths over 2048 bytes are not supported");const m=Tx(a),p=Object.freeze({ORDER:a,BITS:c,BYTES:d,MASK:Ju(c),ZERO:it,ONE:Ke,create:h=>ct(h,a),isValid:h=>{if(typeof h!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof h}`);return it<=h&&h<a},is0:h=>h===it,isOdd:h=>(h&Ke)===Ke,neg:h=>ct(-h,a),eql:(h,g)=>h===g,sqr:h=>ct(h*h,a),add:(h,g)=>ct(h+g,a),sub:(h,g)=>ct(h-g,a),mul:(h,g)=>ct(h*g,a),pow:(h,g)=>Dx(p,h,g),div:(h,g)=>ct(h*Au(g,a),a),sqrN:h=>h*h,addN:(h,g)=>h+g,subN:(h,g)=>h-g,mulN:(h,g)=>h*g,inv:h=>Au(h,a),sqrt:r.sqrt||(h=>m(p,h)),invertBatch:h=>Cx(p,h),cmov:(h,g,y)=>y?g:h,toBytes:h=>s?Ku(h,d):pa(h,d),fromBytes:h=>{if(h.length!==d)throw new Error(`Fp.fromBytes: expected ${d}, got ${h.length}`);return s?Qu(h):wt(h)}});return Object.freeze(p)}function Ap(a){if(typeof a!="bigint")throw new Error("field order must be bigint");const i=a.toString(2).length;return Math.ceil(i/8)}function Dp(a){const i=Ap(a);return i+Math.ceil(i/2)}function _x(a,i,s=!1){const r=a.length,c=Ap(i),d=Dp(i);if(r<16||r<d||r>1024)throw new Error(`expected ${d}-1024 bytes of input, got ${r}`);const m=s?wt(a):Qu(a),p=ct(m,i-Ke)+Ke;return s?Ku(p,c):pa(p,c)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mx=BigInt(0),du=BigInt(1);function Ux(a,i){const s=(c,d)=>{const m=d.negate();return c?m:d},r=c=>{const d=Math.ceil(i/c)+1,m=2**(c-1);return{windows:d,windowSize:m}};return{constTimeNegate:s,unsafeLadder(c,d){let m=a.ZERO,p=c;for(;d>Mx;)d&du&&(m=m.add(p)),p=p.double(),d>>=du;return m},precomputeWindow(c,d){const{windows:m,windowSize:p}=r(d),h=[];let g=c,y=g;for(let v=0;v<m;v++){y=g,h.push(y);for(let x=1;x<p;x++)y=y.add(g),h.push(y);g=y.double()}return h},wNAF(c,d,m){const{windows:p,windowSize:h}=r(c);let g=a.ZERO,y=a.BASE;const v=BigInt(2**c-1),x=2**c,S=BigInt(c);for(let E=0;E<p;E++){const N=E*h;let T=Number(m&v);m>>=S,T>h&&(T-=x,m+=du);const j=N,R=N+Math.abs(T)-1,M=E%2!==0,D=T<0;T===0?y=y.add(s(M,d[j])):g=g.add(s(D,d[R]))}return{p:g,f:y}},wNAFCached(c,d,m,p){const h=c._WINDOW_SIZE||1;let g=d.get(c);return g||(g=this.precomputeWindow(c,h),h!==1&&d.set(c,p(g))),this.wNAF(h,g,m)}}}function Cp(a){return Ax(a.Fp),Ii(a,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...jp(a.n,a.nBitLength),...a,p:a.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ox(a){const i=Cp(a);Ii(i,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:s,Fp:r,a:c}=i;if(s){if(!r.eql(c,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof s!="object"||typeof s.beta!="bigint"||typeof s.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...i})}const{bytesToNumberBE:kx,hexToBytes:zx}=Ex,La={Err:class extends Error{constructor(i=""){super(i)}},_parseInt(a){const{Err:i}=La;if(a.length<2||a[0]!==2)throw new i("Invalid signature integer tag");const s=a[1],r=a.subarray(2,s+2);if(!s||r.length!==s)throw new i("Invalid signature integer: wrong length");if(r[0]&128)throw new i("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new i("Invalid signature integer: unnecessary leading zero");return{d:kx(r),l:a.subarray(s+2)}},toSig(a){const{Err:i}=La,s=typeof a=="string"?zx(a):a;if(!(s instanceof Uint8Array))throw new Error("ui8a expected");let r=s.length;if(r<2||s[0]!=48)throw new i("Invalid signature tag");if(s[1]!==r-2)throw new i("Invalid signature: incorrect length");const{d:c,l:d}=La._parseInt(s.subarray(2)),{d:m,l:p}=La._parseInt(d);if(p.length)throw new i("Invalid signature: left bytes after parsing");return{r:c,s:m}},hexFromSig(a){const i=g=>Number.parseInt(g[0],16)&8?"00"+g:g,s=g=>{const y=g.toString(16);return y.length&1?`0${y}`:y},r=i(s(a.s)),c=i(s(a.r)),d=r.length/2,m=c.length/2,p=s(d),h=s(m);return`30${s(m+d+4)}02${h}${c}02${p}${r}`}},Cn=BigInt(0),Yt=BigInt(1);BigInt(2);const qg=BigInt(3);BigInt(4);function Bx(a){const i=Ox(a),{Fp:s}=i,r=i.toBytes||((E,N,T)=>{const j=N.toAffine();return $a(Uint8Array.from([4]),s.toBytes(j.x),s.toBytes(j.y))}),c=i.fromBytes||(E=>{const N=E.subarray(1),T=s.fromBytes(N.subarray(0,s.BYTES)),j=s.fromBytes(N.subarray(s.BYTES,2*s.BYTES));return{x:T,y:j}});function d(E){const{a:N,b:T}=i,j=s.sqr(E),R=s.mul(j,E);return s.add(s.add(R,s.mul(E,N)),T)}if(!s.eql(s.sqr(i.Gy),d(i.Gx)))throw new Error("bad generator point: equation left != right");function m(E){return typeof E=="bigint"&&Cn<E&&E<i.n}function p(E){if(!m(E))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function h(E){const{allowedPrivateKeyLengths:N,nByteLength:T,wrapPrivateKey:j,n:R}=i;if(N&&typeof E!="bigint"){if(E instanceof Uint8Array&&(E=_l(E)),typeof E!="string"||!N.includes(E.length))throw new Error("Invalid key");E=E.padStart(T*2,"0")}let M;try{M=typeof E=="bigint"?E:wt(ht("private key",E,T))}catch{throw new Error(`private key must be ${T} bytes, hex or bigint, not ${typeof E}`)}return j&&(M=ct(M,R)),p(M),M}const g=new Map;function y(E){if(!(E instanceof v))throw new Error("ProjectivePoint expected")}class v{constructor(N,T,j){if(this.px=N,this.py=T,this.pz=j,N==null||!s.isValid(N))throw new Error("x required");if(T==null||!s.isValid(T))throw new Error("y required");if(j==null||!s.isValid(j))throw new Error("z required")}static fromAffine(N){const{x:T,y:j}=N||{};if(!N||!s.isValid(T)||!s.isValid(j))throw new Error("invalid affine point");if(N instanceof v)throw new Error("projective point not allowed");const R=M=>s.eql(M,s.ZERO);return R(T)&&R(j)?v.ZERO:new v(T,j,s.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(N){const T=s.invertBatch(N.map(j=>j.pz));return N.map((j,R)=>j.toAffine(T[R])).map(v.fromAffine)}static fromHex(N){const T=v.fromAffine(c(ht("pointHex",N)));return T.assertValidity(),T}static fromPrivateKey(N){return v.BASE.multiply(h(N))}_setWindowSize(N){this._WINDOW_SIZE=N,g.delete(this)}assertValidity(){if(this.is0()){if(i.allowInfinityPoint&&!s.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:N,y:T}=this.toAffine();if(!s.isValid(N)||!s.isValid(T))throw new Error("bad point: x or y not FE");const j=s.sqr(T),R=d(N);if(!s.eql(j,R))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:N}=this.toAffine();if(s.isOdd)return!s.isOdd(N);throw new Error("Field doesn't support isOdd")}equals(N){y(N);const{px:T,py:j,pz:R}=this,{px:M,py:D,pz:k}=N,O=s.eql(s.mul(T,k),s.mul(M,R)),B=s.eql(s.mul(j,k),s.mul(D,R));return O&&B}negate(){return new v(this.px,s.neg(this.py),this.pz)}double(){const{a:N,b:T}=i,j=s.mul(T,qg),{px:R,py:M,pz:D}=this;let k=s.ZERO,O=s.ZERO,B=s.ZERO,H=s.mul(R,R),K=s.mul(M,M),J=s.mul(D,D),ne=s.mul(R,M);return ne=s.add(ne,ne),B=s.mul(R,D),B=s.add(B,B),k=s.mul(N,B),O=s.mul(j,J),O=s.add(k,O),k=s.sub(K,O),O=s.add(K,O),O=s.mul(k,O),k=s.mul(ne,k),B=s.mul(j,B),J=s.mul(N,J),ne=s.sub(H,J),ne=s.mul(N,ne),ne=s.add(ne,B),B=s.add(H,H),H=s.add(B,H),H=s.add(H,J),H=s.mul(H,ne),O=s.add(O,H),J=s.mul(M,D),J=s.add(J,J),H=s.mul(J,ne),k=s.sub(k,H),B=s.mul(J,K),B=s.add(B,B),B=s.add(B,B),new v(k,O,B)}add(N){y(N);const{px:T,py:j,pz:R}=this,{px:M,py:D,pz:k}=N;let O=s.ZERO,B=s.ZERO,H=s.ZERO;const K=i.a,J=s.mul(i.b,qg);let ne=s.mul(T,M),ce=s.mul(j,D),re=s.mul(R,k),Y=s.add(T,j),L=s.add(M,D);Y=s.mul(Y,L),L=s.add(ne,ce),Y=s.sub(Y,L),L=s.add(T,R);let A=s.add(M,k);return L=s.mul(L,A),A=s.add(ne,re),L=s.sub(L,A),A=s.add(j,R),O=s.add(D,k),A=s.mul(A,O),O=s.add(ce,re),A=s.sub(A,O),H=s.mul(K,L),O=s.mul(J,re),H=s.add(O,H),O=s.sub(ce,H),H=s.add(ce,H),B=s.mul(O,H),ce=s.add(ne,ne),ce=s.add(ce,ne),re=s.mul(K,re),L=s.mul(J,L),ce=s.add(ce,re),re=s.sub(ne,re),re=s.mul(K,re),L=s.add(L,re),ne=s.mul(ce,L),B=s.add(B,ne),ne=s.mul(A,L),O=s.mul(Y,O),O=s.sub(O,ne),ne=s.mul(Y,ce),H=s.mul(A,H),H=s.add(H,ne),new v(O,B,H)}subtract(N){return this.add(N.negate())}is0(){return this.equals(v.ZERO)}wNAF(N){return S.wNAFCached(this,g,N,T=>{const j=s.invertBatch(T.map(R=>R.pz));return T.map((R,M)=>R.toAffine(j[M])).map(v.fromAffine)})}multiplyUnsafe(N){const T=v.ZERO;if(N===Cn)return T;if(p(N),N===Yt)return this;const{endo:j}=i;if(!j)return S.unsafeLadder(this,N);let{k1neg:R,k1:M,k2neg:D,k2:k}=j.splitScalar(N),O=T,B=T,H=this;for(;M>Cn||k>Cn;)M&Yt&&(O=O.add(H)),k&Yt&&(B=B.add(H)),H=H.double(),M>>=Yt,k>>=Yt;return R&&(O=O.negate()),D&&(B=B.negate()),B=new v(s.mul(B.px,j.beta),B.py,B.pz),O.add(B)}multiply(N){p(N);let T=N,j,R;const{endo:M}=i;if(M){const{k1neg:D,k1:k,k2neg:O,k2:B}=M.splitScalar(T);let{p:H,f:K}=this.wNAF(k),{p:J,f:ne}=this.wNAF(B);H=S.constTimeNegate(D,H),J=S.constTimeNegate(O,J),J=new v(s.mul(J.px,M.beta),J.py,J.pz),j=H.add(J),R=K.add(ne)}else{const{p:D,f:k}=this.wNAF(T);j=D,R=k}return v.normalizeZ([j,R])[0]}multiplyAndAddUnsafe(N,T,j){const R=v.BASE,M=(k,O)=>O===Cn||O===Yt||!k.equals(R)?k.multiplyUnsafe(O):k.multiply(O),D=M(this,T).add(M(N,j));return D.is0()?void 0:D}toAffine(N){const{px:T,py:j,pz:R}=this,M=this.is0();N==null&&(N=M?s.ONE:s.inv(R));const D=s.mul(T,N),k=s.mul(j,N),O=s.mul(R,N);if(M)return{x:s.ZERO,y:s.ZERO};if(!s.eql(O,s.ONE))throw new Error("invZ was invalid");return{x:D,y:k}}isTorsionFree(){const{h:N,isTorsionFree:T}=i;if(N===Yt)return!0;if(T)return T(v,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:N,clearCofactor:T}=i;return N===Yt?this:T?T(v,this):this.multiplyUnsafe(i.h)}toRawBytes(N=!0){return this.assertValidity(),r(v,this,N)}toHex(N=!0){return _l(this.toRawBytes(N))}}v.BASE=new v(i.Gx,i.Gy,s.ONE),v.ZERO=new v(s.ZERO,s.ONE,s.ZERO);const x=i.nBitLength,S=Ux(v,i.endo?Math.ceil(x/2):x);return{CURVE:i,ProjectivePoint:v,normPrivateKeyToScalar:h,weierstrassEquation:d,isWithinCurveOrder:m}}function Lx(a){const i=Cp(a);return Ii(i,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...i})}function Hx(a){const i=Lx(a),{Fp:s,n:r}=i,c=s.BYTES+1,d=2*s.BYTES+1;function m(L){return Cn<L&&L<s.ORDER}function p(L){return ct(L,r)}function h(L){return Au(L,r)}const{ProjectivePoint:g,normPrivateKeyToScalar:y,weierstrassEquation:v,isWithinCurveOrder:x}=Bx({...i,toBytes(L,A,$){const W=A.toAffine(),ae=s.toBytes(W.x),C=$a;return $?C(Uint8Array.from([A.hasEvenY()?2:3]),ae):C(Uint8Array.from([4]),ae,s.toBytes(W.y))},fromBytes(L){const A=L.length,$=L[0],W=L.subarray(1);if(A===c&&($===2||$===3)){const ae=wt(W);if(!m(ae))throw new Error("Point is not on curve");const C=v(ae);let Z=s.sqrt(C);const ee=(Z&Yt)===Yt;return($&1)===1!==ee&&(Z=s.neg(Z)),{x:ae,y:Z}}else if(A===d&&$===4){const ae=s.fromBytes(W.subarray(0,s.BYTES)),C=s.fromBytes(W.subarray(s.BYTES,2*s.BYTES));return{x:ae,y:C}}else throw new Error(`Point of length ${A} was invalid. Expected ${c} compressed bytes or ${d} uncompressed bytes`)}}),S=L=>_l(pa(L,i.nByteLength));function E(L){const A=r>>Yt;return L>A}function N(L){return E(L)?p(-L):L}const T=(L,A,$)=>wt(L.slice(A,$));class j{constructor(A,$,W){this.r=A,this.s=$,this.recovery=W,this.assertValidity()}static fromCompact(A){const $=i.nByteLength;return A=ht("compactSignature",A,$*2),new j(T(A,0,$),T(A,$,2*$))}static fromDER(A){const{r:$,s:W}=La.toSig(ht("DER",A));return new j($,W)}assertValidity(){if(!x(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!x(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(A){return new j(this.r,this.s,A)}recoverPublicKey(A){const{r:$,s:W,recovery:ae}=this,C=B(ht("msgHash",A));if(ae==null||![0,1,2,3].includes(ae))throw new Error("recovery id invalid");const Z=ae===2||ae===3?$+i.n:$;if(Z>=s.ORDER)throw new Error("recovery id 2 or 3 invalid");const ee=(ae&1)===0?"02":"03",le=g.fromHex(ee+S(Z)),P=h(Z),oe=p(-C*P),ie=p(W*P),ue=g.BASE.multiplyAndAddUnsafe(le,oe,ie);if(!ue)throw new Error("point at infinify");return ue.assertValidity(),ue}hasHighS(){return E(this.s)}normalizeS(){return this.hasHighS()?new j(this.r,p(-this.s),this.recovery):this}toDERRawBytes(){return Ml(this.toDERHex())}toDERHex(){return La.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ml(this.toCompactHex())}toCompactHex(){return S(this.r)+S(this.s)}}const R={isValidPrivateKey(L){try{return y(L),!0}catch{return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{const L=Dp(i.n);return _x(i.randomBytes(L),i.n)},precompute(L=8,A=g.BASE){return A._setWindowSize(L),A.multiply(BigInt(3)),A}};function M(L,A=!0){return g.fromPrivateKey(L).toRawBytes(A)}function D(L){const A=L instanceof Uint8Array,$=typeof L=="string",W=(A||$)&&L.length;return A?W===c||W===d:$?W===2*c||W===2*d:L instanceof g}function k(L,A,$=!0){if(D(L))throw new Error("first arg must be private key");if(!D(A))throw new Error("second arg must be public key");return g.fromHex(A).multiply(y(L)).toRawBytes($)}const O=i.bits2int||function(L){const A=wt(L),$=L.length*8-i.nBitLength;return $>0?A>>BigInt($):A},B=i.bits2int_modN||function(L){return p(O(L))},H=Ju(i.nBitLength);function K(L){if(typeof L!="bigint")throw new Error("bigint expected");if(!(Cn<=L&&L<H))throw new Error(`bigint expected < 2^${i.nBitLength}`);return pa(L,i.nByteLength)}function J(L,A,$=ne){if(["recovered","canonical"].some(Se=>Se in $))throw new Error("sign() legacy options not supported");const{hash:W,randomBytes:ae}=i;let{lowS:C,prehash:Z,extraEntropy:ee}=$;C==null&&(C=!0),L=ht("msgHash",L),Z&&(L=ht("prehashed msgHash",W(L)));const le=B(L),P=y(A),oe=[K(P),K(le)];if(ee!=null){const Se=ee===!0?ae(s.BYTES):ee;oe.push(ht("extraEntropy",Se))}const ie=$a(...oe),ue=le;function pe(Se){const ke=O(Se);if(!x(ke))return;const se=h(ke),we=g.BASE.multiply(ke).toAffine(),Ce=p(we.x);if(Ce===Cn)return;const Be=p(se*p(ue+Ce*P));if(Be===Cn)return;let Fe=(we.x===Ce?0:2)|Number(we.y&Yt),Ae=Be;return C&&E(Be)&&(Ae=N(Be),Fe^=1),new j(Ce,Ae,Fe)}return{seed:ie,k2sig:pe}}const ne={lowS:i.lowS,prehash:!1},ce={lowS:i.lowS,prehash:!1};function re(L,A,$=ne){const{seed:W,k2sig:ae}=J(L,A,$),C=i;return Tp(C.hash.outputLen,C.nByteLength,C.hmac)(W,ae)}g.BASE._setWindowSize(8);function Y(L,A,$,W=ce){const ae=L;if(A=ht("msgHash",A),$=ht("publicKey",$),"strict"in W)throw new Error("options.strict was renamed to lowS");const{lowS:C,prehash:Z}=W;let ee,le;try{if(typeof ae=="string"||ae instanceof Uint8Array)try{ee=j.fromDER(ae)}catch(we){if(!(we instanceof La.Err))throw we;ee=j.fromCompact(ae)}else if(typeof ae=="object"&&typeof ae.r=="bigint"&&typeof ae.s=="bigint"){const{r:we,s:Ce}=ae;ee=new j(we,Ce)}else throw new Error("PARSE");le=g.fromHex($)}catch(we){if(we.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(C&&ee.hasHighS())return!1;Z&&(A=i.hash(A));const{r:P,s:oe}=ee,ie=B(A),ue=h(oe),pe=p(ie*ue),Se=p(P*ue),ke=g.BASE.multiplyAndAddUnsafe(le,pe,Se)?.toAffine();return ke?p(ke.x)===P:!1}return{CURVE:i,getPublicKey:M,getSharedSecret:k,sign:re,verify:Y,ProjectivePoint:g,Signature:j,utils:R}}let Rp=class extends Ep{constructor(i,s){super(),this.finished=!1,this.destroyed=!1,ex(i);const r=Zu(s);if(this.iHash=i.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const c=this.blockLen,d=new Uint8Array(c);d.set(r.length>c?i.create().update(r).digest():r);for(let m=0;m<d.length;m++)d[m]^=54;this.iHash.update(d),this.oHash=i.create();for(let m=0;m<d.length;m++)d[m]^=106;this.oHash.update(d),d.fill(0)}update(i){return br(this),this.iHash.update(i),this}digestInto(i){br(this),bp(i,this.outputLen),this.finished=!0,this.iHash.digestInto(i),this.oHash.update(i),this.oHash.digestInto(i),this.destroy()}digest(){const i=new Uint8Array(this.oHash.outputLen);return this.digestInto(i),i}_cloneInto(i){i||(i=Object.create(Object.getPrototypeOf(this),{}));const{oHash:s,iHash:r,finished:c,destroyed:d,blockLen:m,outputLen:p}=this;return i=i,i.finished=c,i.destroyed=d,i.blockLen=m,i.outputLen=p,i.oHash=s._cloneInto(i.oHash),i.iHash=r._cloneInto(i.iHash),i}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const _p=(a,i,s)=>new Rp(a,i).update(s).digest();_p.create=(a,i)=>new Rp(a,i);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function qx(a){return{hash:a,hmac:(i,...s)=>_p(a,i,lx(...s)),randomBytes:wp}}function $x(a,i){const s=r=>Hx({...a,...qx(r)});return Object.freeze({...s(i),create:s})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Cr=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),xr=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Mp=BigInt(1),Er=BigInt(2),$g=(a,i)=>(a+i/Er)/i;function Up(a){const i=Cr,s=BigInt(3),r=BigInt(6),c=BigInt(11),d=BigInt(22),m=BigInt(23),p=BigInt(44),h=BigInt(88),g=a*a*a%i,y=g*g*a%i,v=$t(y,s,i)*y%i,x=$t(v,s,i)*y%i,S=$t(x,Er,i)*g%i,E=$t(S,c,i)*S%i,N=$t(E,d,i)*E%i,T=$t(N,p,i)*N%i,j=$t(T,h,i)*T%i,R=$t(j,p,i)*N%i,M=$t(R,s,i)*y%i,D=$t(M,m,i)*E%i,k=$t(D,r,i)*g%i,O=$t(k,Er,i);if(!Du.eql(Du.sqr(O),a))throw new Error("Cannot find square root");return O}const Du=Rx(Cr,void 0,void 0,{sqrt:Up}),Bl=$x({a:BigInt(0),b:BigInt(7),Fp:Du,n:xr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:a=>{const i=xr,s=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Mp*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),c=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),d=s,m=BigInt("0x100000000000000000000000000000000"),p=$g(d*a,i),h=$g(-r*a,i);let g=ct(a-p*s-h*c,i),y=ct(-p*r-h*d,i);const v=g>m,x=y>m;if(v&&(g=i-g),x&&(y=i-y),g>m||y>m)throw new Error("splitScalar: Endomorphism failed, k="+a);return{k1neg:v,k1:g,k2neg:x,k2:y}}}},Tu),Rr=BigInt(0),Op=a=>typeof a=="bigint"&&Rr<a&&a<Cr,Yx=a=>typeof a=="bigint"&&Rr<a&&a<xr,Yg={};function wr(a,...i){let s=Yg[a];if(s===void 0){const r=Tu(Uint8Array.from(a,c=>c.charCodeAt(0)));s=$a(r,r),Yg[a]=s}return Tu($a(s,...i))}const Pu=a=>a.toRawBytes(!0).slice(1),Cu=a=>pa(a,32),hu=a=>ct(a,Cr),Xi=a=>ct(a,xr),Iu=Bl.ProjectivePoint,Vx=(a,i,s)=>Iu.BASE.multiplyAndAddUnsafe(a,i,s);function Ru(a){let i=Bl.utils.normPrivateKeyToScalar(a),s=Iu.fromPrivateKey(i);return{scalar:s.hasEvenY()?i:Xi(-i),bytes:Pu(s)}}function kp(a){if(!Op(a))throw new Error("bad x: need 0 < x < p");const i=hu(a*a),s=hu(i*a+BigInt(7));let r=Up(s);r%Er!==Rr&&(r=hu(-r));const c=new Iu(a,r,Mp);return c.assertValidity(),c}function zp(...a){return Xi(wt(wr("BIP0340/challenge",...a)))}function Gx(a){return Ru(a).bytes}function Zx(a,i,s=wp(32)){const r=ht("message",a),{bytes:c,scalar:d}=Ru(i),m=ht("auxRand",s,32),p=Cu(d^wt(wr("BIP0340/aux",m))),h=wr("BIP0340/nonce",p,c,r),g=Xi(wt(h));if(g===Rr)throw new Error("sign failed: k is zero");const{bytes:y,scalar:v}=Ru(g),x=zp(y,c,r),S=new Uint8Array(64);if(S.set(y,0),S.set(Cu(Xi(v+x*d)),32),!Bp(S,r,c))throw new Error("sign: Invalid signature produced");return S}function Bp(a,i,s){const r=ht("signature",a,64),c=ht("message",i),d=ht("publicKey",s,32);try{const m=kp(wt(d)),p=wt(r.subarray(0,32));if(!Op(p))return!1;const h=wt(r.subarray(32,64));if(!Yx(h))return!1;const g=zp(Cu(p),Pu(m),c),y=Vx(m,h,Xi(-g));return!(!y||!y.hasEvenY()||y.toAffine().x!==p)}catch{return!1}}const Yi={getPublicKey:Gx,sign:Zx,verify:Bp,utils:{randomPrivateKey:Bl.utils.randomPrivateKey,lift_x:kp,pointToBytes:Pu,numberToBytesBE:pa,bytesToNumberBE:wt,taggedHash:wr,mod:ct}},mu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Wu=a=>a instanceof Uint8Array,gu=a=>new DataView(a.buffer,a.byteOffset,a.byteLength),ln=(a,i)=>a<<32-i|a>>>i,Xx=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Xx)throw new Error("Non little-endian hardware is not supported");const Qx=Array.from({length:256},(a,i)=>i.toString(16).padStart(2,"0"));function mt(a){if(!Wu(a))throw new Error("Uint8Array expected");let i="";for(let s=0;s<a.length;s++)i+=Qx[a[s]];return i}function Ya(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const i=a.length;if(i%2)throw new Error("padded hex string expected, got unpadded hex of length "+i);const s=new Uint8Array(i/2);for(let r=0;r<s.length;r++){const c=r*2,d=a.slice(c,c+2),m=Number.parseInt(d,16);if(Number.isNaN(m)||m<0)throw new Error("Invalid byte sequence");s[r]=m}return s}function Kx(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function Qi(a){if(typeof a=="string"&&(a=Kx(a)),!Wu(a))throw new Error(`expected Uint8Array, got ${typeof a}`);return a}function _r(...a){const i=new Uint8Array(a.reduce((r,c)=>r+c.length,0));let s=0;return a.forEach(r=>{if(!Wu(r))throw new Error("Uint8Array expected");i.set(r,s),s+=r.length}),i}class Lp{clone(){return this._cloneInto()}}function Hp(a){const i=r=>a().update(Qi(r)).digest(),s=a();return i.outputLen=s.outputLen,i.blockLen=s.blockLen,i.create=()=>a(),i}function qp(a=32){if(mu&&typeof mu.getRandomValues=="function")return mu.getRandomValues(new Uint8Array(a));throw new Error("crypto.getRandomValues must be defined")}function _u(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`Wrong positive integer: ${a}`)}function Jx(a){if(typeof a!="boolean")throw new Error(`Expected boolean, not ${a}`)}function $p(a,...i){if(!(a instanceof Uint8Array))throw new Error("Expected Uint8Array");if(i.length>0&&!i.includes(a.length))throw new Error(`Expected Uint8Array of length ${i}, not of length=${a.length}`)}function Px(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");_u(a.outputLen),_u(a.blockLen)}function Ix(a,i=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(i&&a.finished)throw new Error("Hash#digest() has already been called")}function Wx(a,i){$p(a);const s=i.outputLen;if(a.length<s)throw new Error(`digestInto() expects output buffer of length at least ${s}`)}const sn={number:_u,bool:Jx,bytes:$p,hash:Px,exists:Ix,output:Wx};function Fx(a,i,s,r){if(typeof a.setBigUint64=="function")return a.setBigUint64(i,s,r);const c=BigInt(32),d=BigInt(4294967295),m=Number(s>>c&d),p=Number(s&d),h=r?4:0,g=r?0:4;a.setUint32(i+h,m,r),a.setUint32(i+g,p,r)}class eE extends Lp{constructor(i,s,r,c){super(),this.blockLen=i,this.outputLen=s,this.padOffset=r,this.isLE=c,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(i),this.view=gu(this.buffer)}update(i){sn.exists(this);const{view:s,buffer:r,blockLen:c}=this;i=Qi(i);const d=i.length;for(let m=0;m<d;){const p=Math.min(c-this.pos,d-m);if(p===c){const h=gu(i);for(;c<=d-m;m+=c)this.process(h,m);continue}r.set(i.subarray(m,m+p),this.pos),this.pos+=p,m+=p,this.pos===c&&(this.process(s,0),this.pos=0)}return this.length+=i.length,this.roundClean(),this}digestInto(i){sn.exists(this),sn.output(i,this),this.finished=!0;const{buffer:s,view:r,blockLen:c,isLE:d}=this;let{pos:m}=this;s[m++]=128,this.buffer.subarray(m).fill(0),this.padOffset>c-m&&(this.process(r,0),m=0);for(let v=m;v<c;v++)s[v]=0;Fx(r,c-8,BigInt(this.length*8),d),this.process(r,0);const p=gu(i),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const g=h/4,y=this.get();if(g>y.length)throw new Error("_sha2: outputLen bigger than state");for(let v=0;v<g;v++)p.setUint32(4*v,y[v],d)}digest(){const{buffer:i,outputLen:s}=this;this.digestInto(i);const r=i.slice(0,s);return this.destroy(),r}_cloneInto(i){i||(i=new this.constructor),i.set(...this.get());const{blockLen:s,buffer:r,length:c,finished:d,destroyed:m,pos:p}=this;return i.length=c,i.pos=p,i.finished=d,i.destroyed=m,c%s&&i.buffer.set(r),i}}const tE=(a,i,s)=>a&i^~a&s,nE=(a,i,s)=>a&i^a&s^i&s,aE=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),fa=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),da=new Uint32Array(64);class Yp extends eE{constructor(){super(64,32,8,!1),this.A=fa[0]|0,this.B=fa[1]|0,this.C=fa[2]|0,this.D=fa[3]|0,this.E=fa[4]|0,this.F=fa[5]|0,this.G=fa[6]|0,this.H=fa[7]|0}get(){const{A:i,B:s,C:r,D:c,E:d,F:m,G:p,H:h}=this;return[i,s,r,c,d,m,p,h]}set(i,s,r,c,d,m,p,h){this.A=i|0,this.B=s|0,this.C=r|0,this.D=c|0,this.E=d|0,this.F=m|0,this.G=p|0,this.H=h|0}process(i,s){for(let v=0;v<16;v++,s+=4)da[v]=i.getUint32(s,!1);for(let v=16;v<64;v++){const x=da[v-15],S=da[v-2],E=ln(x,7)^ln(x,18)^x>>>3,N=ln(S,17)^ln(S,19)^S>>>10;da[v]=N+da[v-7]+E+da[v-16]|0}let{A:r,B:c,C:d,D:m,E:p,F:h,G:g,H:y}=this;for(let v=0;v<64;v++){const x=ln(p,6)^ln(p,11)^ln(p,25),S=y+x+tE(p,h,g)+aE[v]+da[v]|0,N=(ln(r,2)^ln(r,13)^ln(r,22))+nE(r,c,d)|0;y=g,g=h,h=p,p=m+S|0,m=d,d=c,c=r,r=S+N|0}r=r+this.A|0,c=c+this.B|0,d=d+this.C|0,m=m+this.D|0,p=p+this.E|0,h=h+this.F|0,g=g+this.G|0,y=y+this.H|0,this.set(r,c,d,m,p,h,g,y)}roundClean(){da.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class lE extends Yp{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Ll=Hp(()=>new Yp);Hp(()=>new lE);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Hl(a){if(!Number.isSafeInteger(a))throw new Error(`Wrong integer: ${a}`)}function kn(...a){const i=(c,d)=>m=>c(d(m)),s=Array.from(a).reverse().reduce((c,d)=>c?i(c,d.encode):d.encode,void 0),r=a.reduce((c,d)=>c?i(c,d.decode):d.decode,void 0);return{encode:s,decode:r}}function zn(a){return{encode:i=>{if(!Array.isArray(i)||i.length&&typeof i[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return i.map(s=>{if(Hl(s),s<0||s>=a.length)throw new Error(`Digit index outside alphabet: ${s} (alphabet: ${a.length})`);return a[s]})},decode:i=>{if(!Array.isArray(i)||i.length&&typeof i[0]!="string")throw new Error("alphabet.decode input should be array of strings");return i.map(s=>{if(typeof s!="string")throw new Error(`alphabet.decode: not string element=${s}`);const r=a.indexOf(s);if(r===-1)throw new Error(`Unknown letter: "${s}". Allowed: ${a}`);return r})}}}function Bn(a=""){if(typeof a!="string")throw new Error("join separator should be string");return{encode:i=>{if(!Array.isArray(i)||i.length&&typeof i[0]!="string")throw new Error("join.encode input should be array of strings");for(let s of i)if(typeof s!="string")throw new Error(`join.encode: non-string input=${s}`);return i.join(a)},decode:i=>{if(typeof i!="string")throw new Error("join.decode input should be string");return i.split(a)}}}function Mr(a,i="="){if(Hl(a),typeof i!="string")throw new Error("padding chr should be string");return{encode(s){if(!Array.isArray(s)||s.length&&typeof s[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of s)if(typeof r!="string")throw new Error(`padding.encode: non-string input=${r}`);for(;s.length*a%8;)s.push(i);return s},decode(s){if(!Array.isArray(s)||s.length&&typeof s[0]!="string")throw new Error("padding.encode input should be array of strings");for(let c of s)if(typeof c!="string")throw new Error(`padding.decode: non-string input=${c}`);let r=s.length;if(r*a%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&s[r-1]===i;r--)if(!((r-1)*a%8))throw new Error("Invalid padding: string has too much padding");return s.slice(0,r)}}}function Vp(a){if(typeof a!="function")throw new Error("normalize fn should be function");return{encode:i=>i,decode:i=>a(i)}}function Vg(a,i,s){if(i<2)throw new Error(`convertRadix: wrong from=${i}, base cannot be less than 2`);if(s<2)throw new Error(`convertRadix: wrong to=${s}, base cannot be less than 2`);if(!Array.isArray(a))throw new Error("convertRadix: data should be array");if(!a.length)return[];let r=0;const c=[],d=Array.from(a);for(d.forEach(m=>{if(Hl(m),m<0||m>=i)throw new Error(`Wrong integer: ${m}`)});;){let m=0,p=!0;for(let h=r;h<d.length;h++){const g=d[h],y=i*m+g;if(!Number.isSafeInteger(y)||i*m/i!==m||y-g!==i*m)throw new Error("convertRadix: carry overflow");if(m=y%s,d[h]=Math.floor(y/s),!Number.isSafeInteger(d[h])||d[h]*s+m!==y)throw new Error("convertRadix: carry overflow");if(p)d[h]?p=!1:r=h;else continue}if(c.push(m),p)break}for(let m=0;m<a.length-1&&a[m]===0;m++)c.push(0);return c.reverse()}const Gp=(a,i)=>i?Gp(i,a%i):a,Sr=(a,i)=>a+(i-Gp(a,i));function Mu(a,i,s,r){if(!Array.isArray(a))throw new Error("convertRadix2: data should be array");if(i<=0||i>32)throw new Error(`convertRadix2: wrong from=${i}`);if(s<=0||s>32)throw new Error(`convertRadix2: wrong to=${s}`);if(Sr(i,s)>32)throw new Error(`convertRadix2: carry overflow from=${i} to=${s} carryBits=${Sr(i,s)}`);let c=0,d=0;const m=2**s-1,p=[];for(const h of a){if(Hl(h),h>=2**i)throw new Error(`convertRadix2: invalid data word=${h} from=${i}`);if(c=c<<i|h,d+i>32)throw new Error(`convertRadix2: carry overflow pos=${d} from=${i}`);for(d+=i;d>=s;d-=s)p.push((c>>d-s&m)>>>0);c&=2**d-1}if(c=c<<s-d&m,!r&&d>=i)throw new Error("Excess padding");if(!r&&c)throw new Error(`Non-zero padding: ${c}`);return r&&d>0&&p.push(c>>>0),p}function iE(a){return Hl(a),{encode:i=>{if(!(i instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Vg(Array.from(i),2**8,a)},decode:i=>{if(!Array.isArray(i)||i.length&&typeof i[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Vg(i,a,2**8))}}}function ya(a,i=!1){if(Hl(a),a<=0||a>32)throw new Error("radix2: bits should be in (0..32]");if(Sr(8,a)>32||Sr(a,8)>32)throw new Error("radix2: carry overflow");return{encode:s=>{if(!(s instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Mu(Array.from(s),8,a,!i)},decode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Mu(s,a,8,i))}}}function Gg(a){if(typeof a!="function")throw new Error("unsafeWrapper fn should be function");return function(...i){try{return a.apply(null,i)}catch{}}}const sE=kn(ya(4),zn("0123456789ABCDEF"),Bn("")),rE=kn(ya(5),zn("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Mr(5),Bn(""));kn(ya(5),zn("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Mr(5),Bn(""));kn(ya(5),zn("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Bn(""),Vp(a=>a.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const On=kn(ya(6),zn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Mr(6),Bn("")),oE=kn(ya(6),zn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Mr(6),Bn("")),Fu=a=>kn(iE(58),zn(a),Bn("")),Uu=Fu("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");Fu("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");Fu("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const Zg=[0,2,3,5,6,7,9,10,11],cE={encode(a){let i="";for(let s=0;s<a.length;s+=8){const r=a.subarray(s,s+8);i+=Uu.encode(r).padStart(Zg[r.length],"1")}return i},decode(a){let i=[];for(let s=0;s<a.length;s+=11){const r=a.slice(s,s+11),c=Zg.indexOf(r.length),d=Uu.decode(r);for(let m=0;m<d.length-c;m++)if(d[m]!==0)throw new Error("base58xmr: wrong padding");i=i.concat(Array.from(d.slice(d.length-c)))}return Uint8Array.from(i)}},Ou=kn(zn("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Bn("")),Xg=[996825010,642813549,513874426,1027748829,705979059];function Vi(a){const i=a>>25;let s=(a&33554431)<<5;for(let r=0;r<Xg.length;r++)(i>>r&1)===1&&(s^=Xg[r]);return s}function Qg(a,i,s=1){const r=a.length;let c=1;for(let d=0;d<r;d++){const m=a.charCodeAt(d);if(m<33||m>126)throw new Error(`Invalid prefix (${a})`);c=Vi(c)^m>>5}c=Vi(c);for(let d=0;d<r;d++)c=Vi(c)^a.charCodeAt(d)&31;for(let d of i)c=Vi(c)^d;for(let d=0;d<6;d++)c=Vi(c);return c^=s,Ou.encode(Mu([c%2**30],30,5,!1))}function Zp(a){const i=a==="bech32"?1:734539939,s=ya(5),r=s.decode,c=s.encode,d=Gg(r);function m(y,v,x=90){if(typeof y!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof y}`);if(!Array.isArray(v)||v.length&&typeof v[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof v}`);const S=y.length+7+v.length;if(x!==!1&&S>x)throw new TypeError(`Length ${S} exceeds limit ${x}`);return y=y.toLowerCase(),`${y}1${Ou.encode(v)}${Qg(y,v,i)}`}function p(y,v=90){if(typeof y!="string")throw new Error(`bech32.decode input should be string, not ${typeof y}`);if(y.length<8||v!==!1&&y.length>v)throw new TypeError(`Wrong string length: ${y.length} (${y}). Expected (8..${v})`);const x=y.toLowerCase();if(y!==x&&y!==y.toUpperCase())throw new Error("String must be lowercase or uppercase");y=x;const S=y.lastIndexOf("1");if(S===0||S===-1)throw new Error('Letter "1" must be present between prefix and data only');const E=y.slice(0,S),N=y.slice(S+1);if(N.length<6)throw new Error("Data must be at least 6 characters long");const T=Ou.decode(N).slice(0,-6),j=Qg(E,T,i);if(!N.endsWith(j))throw new Error(`Invalid checksum in ${y}: expected "${j}"`);return{prefix:E,words:T}}const h=Gg(p);function g(y){const{prefix:v,words:x}=p(y,!1);return{prefix:v,words:x,bytes:r(x)}}return{encode:m,decode:p,decodeToBytes:g,decodeUnsafe:h,fromWords:r,fromWordsUnsafe:d,toWords:c}}const Ul=Zp("bech32");Zp("bech32m");const uE={encode:a=>new TextDecoder().decode(a),decode:a=>new TextEncoder().encode(a)},fE=kn(ya(4),zn("0123456789abcdef"),Bn(""),Vp(a=>{if(typeof a!="string"||a.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof a} with length ${a.length}`);return a.toLowerCase()})),dE={utf8:uE,hex:fE,base16:sE,base32:rE,base64:On,base64url:oE,base58:Uu,base58xmr:cE};`${Object.keys(dE).join(", ")}`;function pu(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`positive integer expected, not ${a}`)}function Kg(a){if(typeof a!="boolean")throw new Error(`boolean expected, not ${a}`)}function hE(a){return a instanceof Uint8Array||a!=null&&typeof a=="object"&&a.constructor.name==="Uint8Array"}function Rn(a,...i){if(!hE(a))throw new Error("Uint8Array expected");if(i.length>0&&!i.includes(a.length))throw new Error(`Uint8Array expected of length ${i}, not of length=${a.length}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const gt=a=>new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)),mE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!mE)throw new Error("Non little-endian hardware is not supported");function gE(a,i){if(i==null||typeof i!="object")throw new Error("options must be defined");return Object.assign(a,i)}function pE(a,i){if(a.length!==i.length)return!1;let s=0;for(let r=0;r<a.length;r++)s|=a[r]^i[r];return s===0}const yE=(a,i)=>(Object.assign(i,a),i),ga=16,vE=283;function ef(a){return a<<1^vE&-(a>>7)}function Rl(a,i){let s=0;for(;i>0;i>>=1)s^=a&-(i&1),a=ef(a);return s}const ku=(()=>{let a=new Uint8Array(256);for(let s=0,r=1;s<256;s++,r^=ef(r))a[s]=r;const i=new Uint8Array(256);i[0]=99;for(let s=0;s<255;s++){let r=a[255-s];r|=r<<8,i[a[s]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return i})(),bE=ku.map((a,i)=>ku.indexOf(i)),xE=a=>a<<24|a>>>8,yu=a=>a<<8|a>>>24;function Xp(a,i){if(a.length!==256)throw new Error("Wrong sbox length");const s=new Uint32Array(256).map((g,y)=>i(a[y])),r=s.map(yu),c=r.map(yu),d=c.map(yu),m=new Uint32Array(256*256),p=new Uint32Array(256*256),h=new Uint16Array(256*256);for(let g=0;g<256;g++)for(let y=0;y<256;y++){const v=g*256+y;m[v]=s[g]^r[y],p[v]=c[g]^d[y],h[v]=a[g]<<8|a[y]}return{sbox:a,sbox2:h,T0:s,T1:r,T2:c,T3:d,T01:m,T23:p}}const tf=Xp(ku,a=>Rl(a,3)<<24|a<<16|a<<8|Rl(a,2)),Qp=Xp(bE,a=>Rl(a,11)<<24|Rl(a,13)<<16|Rl(a,9)<<8|Rl(a,14)),EE=(()=>{const a=new Uint8Array(16);for(let i=0,s=1;i<16;i++,s=ef(s))a[i]=s;return a})();function Kp(a){Rn(a);const i=a.length;if(![16,24,32].includes(i))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${i}`);const{sbox2:s}=tf,r=gt(a),c=r.length,d=p=>rn(s,p,p,p,p),m=new Uint32Array(i+28);m.set(r);for(let p=c;p<m.length;p++){let h=m[p-1];p%c===0?h=d(xE(h))^EE[p/c-1]:c>6&&p%c===4&&(h=d(h)),m[p]=m[p-c]^h}return m}function wE(a){const i=Kp(a),s=i.slice(),r=i.length,{sbox2:c}=tf,{T0:d,T1:m,T2:p,T3:h}=Qp;for(let g=0;g<r;g+=4)for(let y=0;y<4;y++)s[g+y]=i[r-g-4+y];i.fill(0);for(let g=4;g<r-4;g++){const y=s[g],v=rn(c,y,y,y,y);s[g]=d[v&255]^m[v>>>8&255]^p[v>>>16&255]^h[v>>>24]}return s}function ma(a,i,s,r,c,d){return a[s<<8&65280|r>>>8&255]^i[c>>>8&65280|d>>>24&255]}function rn(a,i,s,r,c){return a[i&255|s&65280]|a[r>>>16&255|c>>>16&65280]<<16}function Jg(a,i,s,r,c){const{sbox2:d,T01:m,T23:p}=tf;let h=0;i^=a[h++],s^=a[h++],r^=a[h++],c^=a[h++];const g=a.length/4-2;for(let E=0;E<g;E++){const N=a[h++]^ma(m,p,i,s,r,c),T=a[h++]^ma(m,p,s,r,c,i),j=a[h++]^ma(m,p,r,c,i,s),R=a[h++]^ma(m,p,c,i,s,r);i=N,s=T,r=j,c=R}const y=a[h++]^rn(d,i,s,r,c),v=a[h++]^rn(d,s,r,c,i),x=a[h++]^rn(d,r,c,i,s),S=a[h++]^rn(d,c,i,s,r);return{s0:y,s1:v,s2:x,s3:S}}function SE(a,i,s,r,c){const{sbox2:d,T01:m,T23:p}=Qp;let h=0;i^=a[h++],s^=a[h++],r^=a[h++],c^=a[h++];const g=a.length/4-2;for(let E=0;E<g;E++){const N=a[h++]^ma(m,p,i,c,r,s),T=a[h++]^ma(m,p,s,i,c,r),j=a[h++]^ma(m,p,r,s,i,c),R=a[h++]^ma(m,p,c,r,s,i);i=N,s=T,r=j,c=R}const y=a[h++]^rn(d,i,c,r,s),v=a[h++]^rn(d,s,i,c,r),x=a[h++]^rn(d,r,s,i,c),S=a[h++]^rn(d,c,r,s,i);return{s0:y,s1:v,s2:x,s3:S}}function Jp(a,i){if(!i)return new Uint8Array(a);if(Rn(i),i.length<a)throw new Error(`aes: wrong destination length, expected at least ${a}, got: ${i.length}`);return i}function NE(a){if(Rn(a),a.length%ga!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${ga}`)}function TE(a,i,s){let r=a.length;const c=r%ga;if(!i&&c!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const d=gt(a);if(i){let h=ga-c;h||(h=ga),r=r+h}const m=Jp(r,s),p=gt(m);return{b:d,o:p,out:m}}function jE(a,i){if(!i)return a;const s=a.length;if(!s)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=a[s-1];if(r<=0||r>16)throw new Error(`aes/pcks5: wrong padding byte: ${r}`);const c=a.subarray(0,-r);for(let d=0;d<r;d++)if(a[s-d-1]!==r)throw new Error("aes/pcks5: wrong padding");return c}function AE(a){const i=new Uint8Array(16),s=gt(i);i.set(a);const r=ga-a.length;for(let c=ga-r;c<ga;c++)i[c]=r;return s}const Pp=yE({blockSize:16,nonceLength:16},function(i,s,r={}){Rn(i),Rn(s,16);const c=!r.disablePadding;return{encrypt:(d,m)=>{const p=Kp(i),{b:h,o:g,out:y}=TE(d,c,m),v=gt(s);let x=v[0],S=v[1],E=v[2],N=v[3],T=0;for(;T+4<=h.length;)x^=h[T+0],S^=h[T+1],E^=h[T+2],N^=h[T+3],{s0:x,s1:S,s2:E,s3:N}=Jg(p,x,S,E,N),g[T++]=x,g[T++]=S,g[T++]=E,g[T++]=N;if(c){const j=AE(d.subarray(T*4));x^=j[0],S^=j[1],E^=j[2],N^=j[3],{s0:x,s1:S,s2:E,s3:N}=Jg(p,x,S,E,N),g[T++]=x,g[T++]=S,g[T++]=E,g[T++]=N}return p.fill(0),y},decrypt:(d,m)=>{NE(d);const p=wE(i),h=gt(s),g=Jp(d.length,m),y=gt(d),v=gt(g);let x=h[0],S=h[1],E=h[2],N=h[3];for(let T=0;T+4<=y.length;){const j=x,R=S,M=E,D=N;x=y[T+0],S=y[T+1],E=y[T+2],N=y[T+3];const{s0:k,s1:O,s2:B,s3:H}=SE(p,x,S,E,N);v[T++]=k^j,v[T++]=O^R,v[T++]=B^M,v[T++]=H^D}return p.fill(0),jE(g,c)}}}),Ip=a=>Uint8Array.from(a.split("").map(i=>i.charCodeAt(0))),DE=Ip("expand 16-byte k"),CE=Ip("expand 32-byte k"),RE=gt(DE),Wp=gt(CE);Wp.slice();function je(a,i){return a<<i|a>>>32-i}function zu(a){return a.byteOffset%4===0}const mr=64,_E=16,Fp=2**32-1,Pg=new Uint32Array;function ME(a,i,s,r,c,d,m,p){const h=c.length,g=new Uint8Array(mr),y=gt(g),v=zu(c)&&zu(d),x=v?gt(c):Pg,S=v?gt(d):Pg;for(let E=0;E<h;m++){if(a(i,s,r,y,m,p),m>=Fp)throw new Error("arx: counter overflow");const N=Math.min(mr,h-E);if(v&&N===mr){const T=E/4;if(E%4!==0)throw new Error("arx: invalid block position");for(let j=0,R;j<_E;j++)R=T+j,S[R]=x[R]^y[j];E+=mr;continue}for(let T=0,j;T<N;T++)j=E+T,d[j]=c[j]^g[T];E+=N}}function UE(a,i){const{allowShortKeys:s,extendNonceFn:r,counterLength:c,counterRight:d,rounds:m}=gE({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},i);if(typeof a!="function")throw new Error("core must be a function");return pu(c),pu(m),Kg(d),Kg(s),(p,h,g,y,v=0)=>{Rn(p),Rn(h),Rn(g);const x=g.length;if(y||(y=new Uint8Array(x)),Rn(y),pu(v),v<0||v>=Fp)throw new Error("arx: counter overflow");if(y.length<x)throw new Error(`arx: output (${y.length}) is shorter than data (${x})`);const S=[];let E=p.length,N,T;if(E===32)N=p.slice(),S.push(N),T=Wp;else if(E===16&&s)N=new Uint8Array(32),N.set(p),N.set(p,16),T=RE,S.push(N);else throw new Error(`arx: invalid 32-byte key, got length=${E}`);zu(h)||(h=h.slice(),S.push(h));const j=gt(N);if(r){if(h.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(T,j,gt(h.subarray(0,16)),j),h=h.subarray(16)}const R=16-c;if(R!==h.length)throw new Error(`arx: nonce must be ${R} or 16 bytes`);if(R!==12){const D=new Uint8Array(12);D.set(h,d?0:12-h.length),h=D,S.push(h)}const M=gt(h);for(ME(a,T,j,M,g,y,v,m);S.length>0;)S.pop().fill(0);return y}}function OE(a,i,s,r,c,d=20){let m=a[0],p=a[1],h=a[2],g=a[3],y=i[0],v=i[1],x=i[2],S=i[3],E=i[4],N=i[5],T=i[6],j=i[7],R=c,M=s[0],D=s[1],k=s[2],O=m,B=p,H=h,K=g,J=y,ne=v,ce=x,re=S,Y=E,L=N,A=T,$=j,W=R,ae=M,C=D,Z=k;for(let le=0;le<d;le+=2)O=O+J|0,W=je(W^O,16),Y=Y+W|0,J=je(J^Y,12),O=O+J|0,W=je(W^O,8),Y=Y+W|0,J=je(J^Y,7),B=B+ne|0,ae=je(ae^B,16),L=L+ae|0,ne=je(ne^L,12),B=B+ne|0,ae=je(ae^B,8),L=L+ae|0,ne=je(ne^L,7),H=H+ce|0,C=je(C^H,16),A=A+C|0,ce=je(ce^A,12),H=H+ce|0,C=je(C^H,8),A=A+C|0,ce=je(ce^A,7),K=K+re|0,Z=je(Z^K,16),$=$+Z|0,re=je(re^$,12),K=K+re|0,Z=je(Z^K,8),$=$+Z|0,re=je(re^$,7),O=O+ne|0,Z=je(Z^O,16),A=A+Z|0,ne=je(ne^A,12),O=O+ne|0,Z=je(Z^O,8),A=A+Z|0,ne=je(ne^A,7),B=B+ce|0,W=je(W^B,16),$=$+W|0,ce=je(ce^$,12),B=B+ce|0,W=je(W^B,8),$=$+W|0,ce=je(ce^$,7),H=H+re|0,ae=je(ae^H,16),Y=Y+ae|0,re=je(re^Y,12),H=H+re|0,ae=je(ae^H,8),Y=Y+ae|0,re=je(re^Y,7),K=K+J|0,C=je(C^K,16),L=L+C|0,J=je(J^L,12),K=K+J|0,C=je(C^K,8),L=L+C|0,J=je(J^L,7);let ee=0;r[ee++]=m+O|0,r[ee++]=p+B|0,r[ee++]=h+H|0,r[ee++]=g+K|0,r[ee++]=y+J|0,r[ee++]=v+ne|0,r[ee++]=x+ce|0,r[ee++]=S+re|0,r[ee++]=E+Y|0,r[ee++]=N+L|0,r[ee++]=T+A|0,r[ee++]=j+$|0,r[ee++]=R+W|0,r[ee++]=M+ae|0,r[ee++]=D+C|0,r[ee++]=k+Z|0}const ey=UE(OE,{counterRight:!1,counterLength:4,allowShortKeys:!1});class ty extends Lp{constructor(i,s){super(),this.finished=!1,this.destroyed=!1,sn.hash(i);const r=Qi(s);if(this.iHash=i.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const c=this.blockLen,d=new Uint8Array(c);d.set(r.length>c?i.create().update(r).digest():r);for(let m=0;m<d.length;m++)d[m]^=54;this.iHash.update(d),this.oHash=i.create();for(let m=0;m<d.length;m++)d[m]^=106;this.oHash.update(d),d.fill(0)}update(i){return sn.exists(this),this.iHash.update(i),this}digestInto(i){sn.exists(this),sn.bytes(i,this.outputLen),this.finished=!0,this.iHash.digestInto(i),this.oHash.update(i),this.oHash.digestInto(i),this.destroy()}digest(){const i=new Uint8Array(this.oHash.outputLen);return this.digestInto(i),i}_cloneInto(i){i||(i=Object.create(Object.getPrototypeOf(this),{}));const{oHash:s,iHash:r,finished:c,destroyed:d,blockLen:m,outputLen:p}=this;return i=i,i.finished=c,i.destroyed=d,i.blockLen=m,i.outputLen=p,i.oHash=s._cloneInto(i.oHash),i.iHash=r._cloneInto(i.iHash),i}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Ur=(a,i,s)=>new ty(a,i).update(s).digest();Ur.create=(a,i)=>new ty(a,i);function kE(a,i,s){return sn.hash(a),Ur(a,Qi(s),Qi(i))}const vu=new Uint8Array([0]),Ig=new Uint8Array;function zE(a,i,s,r=32){if(sn.hash(a),sn.number(r),r>255*a.outputLen)throw new Error("Length should be <= 255*HashLen");const c=Math.ceil(r/a.outputLen);s===void 0&&(s=Ig);const d=new Uint8Array(c*a.outputLen),m=Ur.create(a,i),p=m._cloneInto(),h=new Uint8Array(m.outputLen);for(let g=0;g<c;g++)vu[0]=g+1,p.update(g===0?Ig:h).update(s).update(vu).digestInto(h),d.set(h,a.outputLen*g),m._cloneInto(p);return m.destroy(),p.destroy(),h.fill(0),vu.fill(0),d.slice(0,r)}var BE=Object.defineProperty,Ye=(a,i)=>{for(var s in i)BE(a,s,{get:i[s],enumerable:!0})},Cl=Symbol("verified"),LE=a=>a instanceof Object;function nf(a){if(!LE(a)||typeof a.kind!="number"||typeof a.content!="string"||typeof a.created_at!="number"||typeof a.pubkey!="string"||!a.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(a.tags))return!1;for(let i=0;i<a.tags.length;i++){let s=a.tags[i];if(!Array.isArray(s))return!1;for(let r=0;r<s.length;r++)if(typeof s[r]!="string")return!1}return!0}var HE={};Ye(HE,{Queue:()=>VE,QueueNode:()=>ny,binarySearch:()=>af,bytesToHex:()=>mt,hexToBytes:()=>Ya,insertEventIntoAscendingList:()=>YE,insertEventIntoDescendingList:()=>$E,normalizeURL:()=>qE,utf8Decoder:()=>_n,utf8Encoder:()=>Kt});var _n=new TextDecoder("utf-8"),Kt=new TextEncoder;function qE(a){try{a.indexOf("://")===-1&&(a="wss://"+a);let i=new URL(a);return i.pathname=i.pathname.replace(/\/+/g,"/"),i.pathname.endsWith("/")&&(i.pathname=i.pathname.slice(0,-1)),(i.port==="80"&&i.protocol==="ws:"||i.port==="443"&&i.protocol==="wss:")&&(i.port=""),i.searchParams.sort(),i.hash="",i.toString()}catch{throw new Error(`Invalid URL: ${a}`)}}function $E(a,i){const[s,r]=af(a,c=>i.id===c.id?0:i.created_at===c.created_at?-1:c.created_at-i.created_at);return r||a.splice(s,0,i),a}function YE(a,i){const[s,r]=af(a,c=>i.id===c.id?0:i.created_at===c.created_at?-1:i.created_at-c.created_at);return r||a.splice(s,0,i),a}function af(a,i){let s=0,r=a.length-1;for(;s<=r;){const c=Math.floor((s+r)/2),d=i(a[c]);if(d===0)return[c,!0];d<0?r=c-1:s=c+1}return[s,!1]}var ny=class{value;next=null;prev=null;constructor(a){this.value=a}},VE=class{first;last;constructor(){this.first=null,this.last=null}enqueue(a){const i=new ny(a);return this.last?this.last===this.first?(this.last=i,this.last.prev=this.first,this.first.next=i):(i.prev=this.last,this.last.next=i,this.last=i):(this.first=i,this.last=i),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const i=this.first;return this.first=null,this.last=null,i.value}const a=this.first;return this.first=a.next,this.first&&(this.first.prev=null),a.value}},GE=class{generateSecretKey(){return Yi.utils.randomPrivateKey()}getPublicKey(a){return mt(Yi.getPublicKey(a))}finalizeEvent(a,i){const s=a;return s.pubkey=mt(Yi.getPublicKey(i)),s.id=yr(s),s.sig=mt(Yi.sign(yr(s),i)),s[Cl]=!0,s}verifyEvent(a){if(typeof a[Cl]=="boolean")return a[Cl];const i=yr(a);if(i!==a.id)return a[Cl]=!1,!1;try{const s=Yi.verify(a.sig,i,a.pubkey);return a[Cl]=s,s}catch{return a[Cl]=!1,!1}}};function ZE(a){if(!nf(a))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,a.pubkey,a.created_at,a.kind,a.tags,a.content])}function yr(a){let i=Ll(Kt.encode(ZE(a)));return mt(i)}var Or=new GE,XE=Or.generateSecretKey,kr=Or.getPublicKey,un=Or.finalizeEvent,lf=Or.verifyEvent,QE={};Ye(QE,{Application:()=>Xw,BadgeAward:()=>tw,BadgeDefinition:()=>Hw,BlockedRelaysList:()=>Sw,BookmarkList:()=>xw,Bookmarksets:()=>zw,Calendar:()=>Fw,CalendarEventRSVP:()=>e2,ChannelCreation:()=>oy,ChannelHideMessage:()=>fy,ChannelMessage:()=>uy,ChannelMetadata:()=>cy,ChannelMuteUser:()=>dy,ClassifiedListing:()=>Jw,ClientAuth:()=>my,CommunitiesList:()=>Ew,CommunityDefinition:()=>a2,CommunityPostApproval:()=>cw,Contacts:()=>WE,CreateOrUpdateProduct:()=>Yw,CreateOrUpdateStall:()=>$w,Curationsets:()=>Bw,Date:()=>Iw,DirectMessageRelaysList:()=>Aw,DraftClassifiedListing:()=>Pw,DraftLong:()=>Gw,Emojisets:()=>Zw,EncryptedDirectMessage:()=>FE,EventDeletion:()=>ew,FileMetadata:()=>aw,FileServerPreference:()=>Dw,Followsets:()=>Uw,GenericRepost:()=>uf,Genericlists:()=>Ow,GiftWrap:()=>hy,HTTPAuth:()=>ff,Handlerinformation:()=>n2,Handlerrecommendation:()=>t2,Highlights:()=>pw,InterestsList:()=>Tw,Interestsets:()=>qw,JobFeedback:()=>dw,JobRequest:()=>uw,JobResult:()=>fw,Label:()=>ow,LightningPubRPC:()=>Rw,LiveChatMessage:()=>lw,LiveEvent:()=>Qw,LongFormArticle:()=>Vw,Metadata:()=>PE,Mutelist:()=>yw,NWCWalletInfo:()=>Cw,NWCWalletRequest:()=>gy,NWCWalletResponse:()=>_w,NostrConnect:()=>Mw,OpenTimestamps:()=>nw,Pinlist:()=>vw,PrivateDirectMessage:()=>ry,ProblemTracker:()=>iw,ProfileBadges:()=>Lw,PublicChatsList:()=>ww,Reaction:()=>cf,RecommendRelay:()=>IE,RelayList:()=>bw,Relaysets:()=>kw,Report:()=>sw,Reporting:()=>rw,Repost:()=>of,Seal:()=>sy,SearchRelaysList:()=>Nw,ShortTextNote:()=>iy,Time:()=>Ww,UserEmojiList:()=>jw,UserStatuses:()=>Kw,Zap:()=>gw,ZapGoal:()=>hw,ZapRequest:()=>mw,classifyKind:()=>KE,isAddressableKind:()=>rf,isEphemeralKind:()=>ly,isKind:()=>JE,isRegularKind:()=>ay,isReplaceableKind:()=>sf});function ay(a){return 1e3<=a&&a<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(a)}function sf(a){return[0,3].includes(a)||1e4<=a&&a<2e4}function ly(a){return 2e4<=a&&a<3e4}function rf(a){return 3e4<=a&&a<4e4}function KE(a){return ay(a)?"regular":sf(a)?"replaceable":ly(a)?"ephemeral":rf(a)?"parameterized":"unknown"}function JE(a,i){const s=i instanceof Array?i:[i];return nf(a)&&s.includes(a.kind)||!1}var PE=0,iy=1,IE=2,WE=3,FE=4,ew=5,of=6,cf=7,tw=8,sy=13,ry=14,uf=16,oy=40,cy=41,uy=42,fy=43,dy=44,nw=1040,hy=1059,aw=1063,lw=1311,iw=1971,sw=1984,rw=1984,ow=1985,cw=4550,uw=5999,fw=6999,dw=7e3,hw=9041,mw=9734,gw=9735,pw=9802,yw=1e4,vw=10001,bw=10002,xw=10003,Ew=10004,ww=10005,Sw=10006,Nw=10007,Tw=10015,jw=10030,Aw=10050,Dw=10096,Cw=13194,Rw=21e3,my=22242,gy=23194,_w=23195,Mw=24133,ff=27235,Uw=3e4,Ow=30001,kw=30002,zw=30003,Bw=30004,Lw=30008,Hw=30009,qw=30015,$w=30017,Yw=30018,Vw=30023,Gw=30024,Zw=30030,Xw=30078,Qw=30311,Kw=30315,Jw=30402,Pw=30403,Iw=31922,Ww=31923,Fw=31924,e2=31925,t2=31989,n2=31990,a2=34550,l2={};Ye(l2,{getHex64:()=>df,getInt:()=>py,getSubscriptionId:()=>i2,matchEventId:()=>s2,matchEventKind:()=>o2,matchEventPubkey:()=>r2});function df(a,i){let s=i.length+3,r=a.indexOf(`"${i}":`)+s,c=a.slice(r).indexOf('"')+r+1;return a.slice(c,c+64)}function py(a,i){let s=i.length,r=a.indexOf(`"${i}":`)+s+3,c=a.slice(r),d=Math.min(c.indexOf(","),c.indexOf("}"));return parseInt(c.slice(0,d),10)}function i2(a){let i=a.slice(0,22).indexOf('"EVENT"');if(i===-1)return null;let s=a.slice(i+7+1).indexOf('"');if(s===-1)return null;let r=i+7+1+s,c=a.slice(r+1,80).indexOf('"');if(c===-1)return null;let d=r+1+c;return a.slice(r+1,d)}function s2(a,i){return i===df(a,"id")}function r2(a,i){return i===df(a,"pubkey")}function o2(a,i){return i===py(a,"kind")}var c2={};Ye(c2,{makeAuthEvent:()=>u2});function u2(a,i){return{kind:my,created_at:Math.floor(Date.now()/1e3),tags:[["relay",a],["challenge",i]],content:""}}var f2;try{f2=WebSocket}catch{}var d2;try{d2=WebSocket}catch{}var lt={};Ye(lt,{BECH32_REGEX:()=>yy,Bech32MaxSize:()=>hf,NostrTypeGuard:()=>h2,decode:()=>zr,decodeNostrURI:()=>g2,encodeBytes:()=>Lr,naddrEncode:()=>E2,neventEncode:()=>x2,noteEncode:()=>v2,nprofileEncode:()=>b2,npubEncode:()=>y2,nsecEncode:()=>p2});var h2={isNProfile:a=>/^nprofile1[a-z\d]+$/.test(a||""),isNEvent:a=>/^nevent1[a-z\d]+$/.test(a||""),isNAddr:a=>/^naddr1[a-z\d]+$/.test(a||""),isNSec:a=>/^nsec1[a-z\d]{58}$/.test(a||""),isNPub:a=>/^npub1[a-z\d]{58}$/.test(a||""),isNote:a=>/^note1[a-z\d]+$/.test(a||""),isNcryptsec:a=>/^ncryptsec1[a-z\d]+$/.test(a||"")},hf=5e3,yy=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function m2(a){const i=new Uint8Array(4);return i[0]=a>>24&255,i[1]=a>>16&255,i[2]=a>>8&255,i[3]=a&255,i}function g2(a){try{return a.startsWith("nostr:")&&(a=a.substring(6)),zr(a)}catch{return{type:"invalid",data:null}}}function zr(a){let{prefix:i,words:s}=Ul.decode(a,hf),r=new Uint8Array(Ul.fromWords(s));switch(i){case"nprofile":{let c=bu(r);if(!c[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(c[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:mt(c[0][0]),relays:c[1]?c[1].map(d=>_n.decode(d)):[]}}}case"nevent":{let c=bu(r);if(!c[0]?.[0])throw new Error("missing TLV 0 for nevent");if(c[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(c[2]&&c[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(c[3]&&c[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:mt(c[0][0]),relays:c[1]?c[1].map(d=>_n.decode(d)):[],author:c[2]?.[0]?mt(c[2][0]):void 0,kind:c[3]?.[0]?parseInt(mt(c[3][0]),16):void 0}}}case"naddr":{let c=bu(r);if(!c[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!c[2]?.[0])throw new Error("missing TLV 2 for naddr");if(c[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!c[3]?.[0])throw new Error("missing TLV 3 for naddr");if(c[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:_n.decode(c[0][0]),pubkey:mt(c[2][0]),kind:parseInt(mt(c[3][0]),16),relays:c[1]?c[1].map(d=>_n.decode(d)):[]}}}case"nsec":return{type:i,data:r};case"npub":case"note":return{type:i,data:mt(r)};default:throw new Error(`unknown prefix ${i}`)}}function bu(a){let i={},s=a;for(;s.length>0;){let r=s[0],c=s[1],d=s.slice(2,2+c);if(s=s.slice(2+c),d.length<c)throw new Error(`not enough data to read on TLV ${r}`);i[r]=i[r]||[],i[r].push(d)}return i}function p2(a){return Lr("nsec",a)}function y2(a){return Lr("npub",Ya(a))}function v2(a){return Lr("note",Ya(a))}function Br(a,i){let s=Ul.toWords(i);return Ul.encode(a,s,hf)}function Lr(a,i){return Br(a,i)}function b2(a){let i=mf({0:[Ya(a.pubkey)],1:(a.relays||[]).map(s=>Kt.encode(s))});return Br("nprofile",i)}function x2(a){let i;a.kind!==void 0&&(i=m2(a.kind));let s=mf({0:[Ya(a.id)],1:(a.relays||[]).map(r=>Kt.encode(r)),2:a.author?[Ya(a.author)]:[],3:i?[new Uint8Array(i)]:[]});return Br("nevent",s)}function E2(a){let i=new ArrayBuffer(4);new DataView(i).setUint32(0,a.kind,!1);let s=mf({0:[Kt.encode(a.identifier)],1:(a.relays||[]).map(r=>Kt.encode(r)),2:[Ya(a.pubkey)],3:[new Uint8Array(i)]});return Br("naddr",s)}function mf(a){let i=[];return Object.entries(a).reverse().forEach(([s,r])=>{r.forEach(c=>{let d=new Uint8Array(c.length+2);d.set([parseInt(s)],0),d.set([c.length],1),d.set(c,2),i.push(d)})}),_r(...i)}var w2={};Ye(w2,{decrypt:()=>S2,encrypt:()=>vy});function vy(a,i,s){const r=a instanceof Uint8Array?mt(a):a,c=Bl.getSharedSecret(r,"02"+i),d=by(c);let m=Uint8Array.from(qp(16)),p=Kt.encode(s),h=Pp(d,m).encrypt(p),g=On.encode(new Uint8Array(h)),y=On.encode(new Uint8Array(m.buffer));return`${g}?iv=${y}`}function S2(a,i,s){const r=a instanceof Uint8Array?mt(a):a;let[c,d]=s.split("?iv="),m=Bl.getSharedSecret(r,"02"+i),p=by(m),h=On.decode(d),g=On.decode(c),y=Pp(p,h).decrypt(g);return _n.decode(y)}function by(a){return a.slice(1,33)}var N2={};Ye(N2,{NIP05_REGEX:()=>gf,isNip05:()=>T2,isValid:()=>D2,queryProfile:()=>xy,searchDomain:()=>A2,useFetchImplementation:()=>j2});var gf=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,T2=a=>gf.test(a||""),Hr;try{Hr=fetch}catch{}function j2(a){Hr=a}async function A2(a,i=""){try{const s=`https://${a}/.well-known/nostr.json?name=${i}`,r=await Hr(s,{redirect:"manual"});if(r.status!==200)throw Error("Wrong response code");return(await r.json()).names}catch{return{}}}async function xy(a){const i=a.match(gf);if(!i)return null;const[,s="_",r]=i;try{const c=`https://${r}/.well-known/nostr.json?name=${s}`,d=await Hr(c,{redirect:"manual"});if(d.status!==200)throw Error("Wrong response code");const m=await d.json(),p=m.names[s];return p?{pubkey:p,relays:m.relays?.[p]}:null}catch{return null}}async function D2(a,i){const s=await xy(i);return s?s.pubkey===a:!1}var C2={};Ye(C2,{parse:()=>R2});function R2(a){const i={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let s,r;for(let c=a.tags.length-1;c>=0;c--){const d=a.tags[c];if(d[0]==="e"&&d[1]){const[m,p,h,g,y]=d,v={id:p,relays:h?[h]:[],author:y};if(g==="root"){i.root=v;continue}if(g==="reply"){i.reply=v;continue}if(g==="mention"){i.mentions.push(v);continue}s?r=v:s=v,i.mentions.push(v);continue}if(d[0]==="q"&&d[1]){const[m,p,h]=d;i.quotes.push({id:p,relays:h?[h]:[]})}if(d[0]==="p"&&d[1]){i.profiles.push({pubkey:d[1],relays:d[2]?[d[2]]:[]});continue}}return i.root||(i.root=r||s||i.reply),i.reply||(i.reply=s||i.root),[i.reply,i.root].forEach(c=>{if(!c)return;let d=i.mentions.indexOf(c);if(d!==-1&&i.mentions.splice(d,1),c.author){let m=i.profiles.find(p=>p.pubkey===c.author);m&&m.relays&&(c.relays||(c.relays=[]),m.relays.forEach(p=>{c.relays?.indexOf(p)===-1&&c.relays.push(p)}),m.relays=c.relays)}}),i.mentions.forEach(c=>{if(c.author){let d=i.profiles.find(m=>m.pubkey===c.author);d&&d.relays&&(c.relays||(c.relays=[]),d.relays.forEach(m=>{c.relays.indexOf(m)===-1&&c.relays.push(m)}),d.relays=c.relays)}}),i}var _2={};Ye(_2,{fetchRelayInformation:()=>U2,useFetchImplementation:()=>M2});var Ey;try{Ey=fetch}catch{}function M2(a){Ey=a}async function U2(a){return await(await fetch(a.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var O2={};Ye(O2,{fastEventHash:()=>Sy,getPow:()=>wy,minePow:()=>k2});function wy(a){let i=0;for(let s=0;s<64;s+=8){const r=parseInt(a.substring(s,s+8),16);if(r===0)i+=32;else{i+=Math.clz32(r);break}}return i}function k2(a,i){let s=0;const r=a,c=["nonce",s.toString(),i.toString()];for(r.tags.push(c);;){const d=Math.floor(new Date().getTime()/1e3);if(d!==r.created_at&&(s=0,r.created_at=d),c[1]=(++s).toString(),r.id=Sy(r),wy(r.id)>=i)break}return r}function Sy(a){return mt(Ll(Kt.encode(JSON.stringify([0,a.pubkey,a.created_at,a.kind,a.tags,a.content]))))}var z2={};Ye(z2,{unwrapEvent:()=>K2,unwrapManyEvents:()=>J2,wrapEvent:()=>zy,wrapManyEvents:()=>Q2});var B2={};Ye(B2,{createRumor:()=>My,createSeal:()=>Uy,createWrap:()=>Oy,unwrapEvent:()=>xf,unwrapManyEvents:()=>ky,wrapEvent:()=>Nr,wrapManyEvents:()=>Z2});var L2={};Ye(L2,{decrypt:()=>bf,encrypt:()=>vf,getConversationKey:()=>pf,v2:()=>V2});var Ny=1,Ty=65535;function pf(a,i){const s=Bl.getSharedSecret(a,"02"+i).subarray(1,33);return kE(Ll,s,"nip44-v2")}function jy(a,i){const s=zE(Ll,a,i,76);return{chacha_key:s.subarray(0,32),chacha_nonce:s.subarray(32,44),hmac_key:s.subarray(44,76)}}function yf(a){if(!Number.isSafeInteger(a)||a<1)throw new Error("expected positive integer");if(a<=32)return 32;const i=1<<Math.floor(Math.log2(a-1))+1,s=i<=256?32:i/8;return s*(Math.floor((a-1)/s)+1)}function H2(a){if(!Number.isSafeInteger(a)||a<Ny||a>Ty)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const i=new Uint8Array(2);return new DataView(i.buffer).setUint16(0,a,!1),i}function q2(a){const i=Kt.encode(a),s=i.length,r=H2(s),c=new Uint8Array(yf(s)-s);return _r(r,i,c)}function $2(a){const i=new DataView(a.buffer).getUint16(0),s=a.subarray(2,2+i);if(i<Ny||i>Ty||s.length!==i||a.length!==2+yf(i))throw new Error("invalid padding");return _n.decode(s)}function Ay(a,i,s){if(s.length!==32)throw new Error("AAD associated data must be 32 bytes");const r=_r(s,i);return Ur(Ll,a,r)}function Y2(a){if(typeof a!="string")throw new Error("payload must be a valid string");const i=a.length;if(i<132||i>87472)throw new Error("invalid payload length: "+i);if(a[0]==="#")throw new Error("unknown encryption version");let s;try{s=On.decode(a)}catch(d){throw new Error("invalid base64: "+d.message)}const r=s.length;if(r<99||r>65603)throw new Error("invalid data length: "+r);const c=s[0];if(c!==2)throw new Error("unknown encryption version "+c);return{nonce:s.subarray(1,33),ciphertext:s.subarray(33,-32),mac:s.subarray(-32)}}function vf(a,i,s=qp(32)){const{chacha_key:r,chacha_nonce:c,hmac_key:d}=jy(i,s),m=q2(a),p=ey(r,c,m),h=Ay(d,p,s);return On.encode(_r(new Uint8Array([2]),s,p,h))}function bf(a,i){const{nonce:s,ciphertext:r,mac:c}=Y2(a),{chacha_key:d,chacha_nonce:m,hmac_key:p}=jy(i,s),h=Ay(p,r,s);if(!pE(h,c))throw new Error("invalid MAC");const g=ey(d,m,r);return $2(g)}var V2={utils:{getConversationKey:pf,calcPaddedLen:yf},encrypt:vf,decrypt:bf},G2=2*24*60*60,Dy=()=>Math.round(Date.now()/1e3),Cy=()=>Math.round(Dy()-Math.random()*G2),Ry=(a,i)=>pf(a,i),_y=(a,i,s)=>vf(JSON.stringify(a),Ry(i,s)),Wg=(a,i)=>JSON.parse(bf(a.content,Ry(i,a.pubkey)));function My(a,i){const s={created_at:Dy(),content:"",tags:[],...a,pubkey:kr(i)};return s.id=yr(s),s}function Uy(a,i,s){return un({kind:sy,content:_y(a,i,s),created_at:Cy(),tags:[]},i)}function Oy(a,i){const s=XE();return un({kind:hy,content:_y(a,s,i),created_at:Cy(),tags:[["p",i]]},s)}function Nr(a,i,s){const r=My(a,i),c=Uy(r,i,s);return Oy(c,s)}function Z2(a,i,s){if(!s||s.length===0)throw new Error("At least one recipient is required.");const r=kr(i),c=[Nr(a,i,r)];return s.forEach(d=>{c.push(Nr(a,i,d))}),c}function xf(a,i){const s=Wg(a,i);return Wg(s,i)}function ky(a,i){let s=[];return a.forEach(r=>{s.push(xf(r,i))}),s.sort((r,c)=>r.created_at-c.created_at),s}function X2(a,i,s,r){const c={created_at:Math.ceil(Date.now()/1e3),kind:ry,tags:[],content:i};return(Array.isArray(a)?a:[a]).forEach(({publicKey:m,relayUrl:p})=>{c.tags.push(p?["p",m,p]:["p",m])}),r&&c.tags.push(["e",r.eventId,r.relayUrl||"","reply"]),s&&c.tags.push(["subject",s]),c}function zy(a,i,s,r,c){const d=X2(i,s,r,c);return Nr(d,a,i.publicKey)}function Q2(a,i,s,r,c){if(!i||i.length===0)throw new Error("At least one recipient is required.");return[{publicKey:kr(a)},...i].map(m=>zy(a,m,s,r,c))}var K2=xf,J2=ky,P2={};Ye(P2,{finishRepostEvent:()=>I2,getRepostedEvent:()=>W2,getRepostedEventPointer:()=>By});function I2(a,i,s,r){let c;const d=[...a.tags??[],["e",i.id,s],["p",i.pubkey]];return i.kind===iy?c=of:(c=uf,d.push(["k",String(i.kind)])),un({kind:c,tags:d,content:a.content===""||i.tags?.find(m=>m[0]==="-")?"":JSON.stringify(i),created_at:a.created_at},r)}function By(a){if(![of,uf].includes(a.kind))return;let i,s;for(let r=a.tags.length-1;r>=0&&(i===void 0||s===void 0);r--){const c=a.tags[r];c.length>=2&&(c[0]==="e"&&i===void 0?i=c:c[0]==="p"&&s===void 0&&(s=c))}if(i!==void 0)return{id:i[1],relays:[i[2],s?.[2]].filter(r=>typeof r=="string"),author:s?.[1]}}function W2(a,{skipVerification:i}={}){const s=By(a);if(s===void 0||a.content==="")return;let r;try{r=JSON.parse(a.content)}catch{return}if(r.id===s.id&&!(!i&&!lf(r)))return r}var F2={};Ye(F2,{NOSTR_URI_REGEX:()=>Ef,parse:()=>tS,test:()=>eS});var Ef=new RegExp(`nostr:(${yy.source})`);function eS(a){return typeof a=="string"&&new RegExp(`^${Ef.source}$`).test(a)}function tS(a){const i=a.match(new RegExp(`^${Ef.source}$`));if(!i)throw new Error(`Invalid Nostr URI: ${a}`);return{uri:i[0],value:i[1],decoded:zr(i[1])}}var nS={};Ye(nS,{finishReactionEvent:()=>aS,getReactedEventPointer:()=>lS});function aS(a,i,s){const r=i.tags.filter(c=>c.length>=2&&(c[0]==="e"||c[0]==="p"));return un({...a,kind:cf,tags:[...a.tags??[],...r,["e",i.id],["p",i.pubkey]],content:a.content??"+"},s)}function lS(a){if(a.kind!==cf)return;let i,s;for(let r=a.tags.length-1;r>=0&&(i===void 0||s===void 0);r--){const c=a.tags[r];c.length>=2&&(c[0]==="e"&&i===void 0?i=c:c[0]==="p"&&s===void 0&&(s=c))}if(!(i===void 0||s===void 0))return{id:i[1],relays:[i[2],s[2]].filter(r=>r!==void 0),author:s[1]}}var iS={};Ye(iS,{parse:()=>rS});var sS=/\W/m,Fg=/\W |\W$|$|,| /m;function*rS(a){const i=a.length;let s=0,r=0;for(;r<i;){let c=a.indexOf(":",r);if(c===-1)break;if(a.substring(c-5,c)==="nostr"){const d=a.substring(c+60).match(sS),m=d?c+60+d.index:i;try{let p,{data:h,type:g}=zr(a.substring(c+1,m));switch(g){case"npub":p={pubkey:h};break;case"nsec":case"note":r=m+1;continue;default:p=h}s!==c-5&&(yield{type:"text",text:a.substring(s,c-5)}),yield{type:"reference",pointer:p},r=m,s=r;continue}catch{r=c+1;continue}}else if(a.substring(c-5,c)==="https"||a.substring(c-4,c)==="http"){const d=a.substring(c+4).match(Fg),m=d?c+4+d.index:i,p=a[c-1]==="s"?5:4;try{let h=new URL(a.substring(c-p,m));if(h.hostname.indexOf(".")===-1)throw new Error("invalid url");if(s!==c-p&&(yield{type:"text",text:a.substring(s,c-p)}),h.pathname.endsWith(".png")||h.pathname.endsWith(".jpg")||h.pathname.endsWith(".jpeg")||h.pathname.endsWith(".gif")||h.pathname.endsWith(".webp")){yield{type:"image",url:h.toString()},r=m,s=r;continue}if(h.pathname.endsWith(".mp4")||h.pathname.endsWith(".avi")||h.pathname.endsWith(".webm")||h.pathname.endsWith(".mkv")){yield{type:"video",url:h.toString()},r=m,s=r;continue}if(h.pathname.endsWith(".mp3")||h.pathname.endsWith(".aac")||h.pathname.endsWith(".ogg")||h.pathname.endsWith(".opus")){yield{type:"audio",url:h.toString()},r=m,s=r;continue}yield{type:"url",url:h.toString()},r=m,s=r;continue}catch{r=m+1;continue}}else if(a.substring(c-3,c)==="wss"||a.substring(c-2,c)==="ws"){const d=a.substring(c+4).match(Fg),m=d?c+4+d.index:i,p=a[c-1]==="s"?3:2;try{let h=new URL(a.substring(c-p,m));if(h.hostname.indexOf(".")===-1)throw new Error("invalid ws url");s!==c-p&&(yield{type:"text",text:a.substring(s,c-p)}),yield{type:"relay",url:h.toString()},r=m,s=r;continue}catch{r=m+1;continue}}else{r=c+1;continue}}s!==i&&(yield{type:"text",text:a.substring(s)})}var oS={};Ye(oS,{channelCreateEvent:()=>cS,channelHideMessageEvent:()=>dS,channelMessageEvent:()=>fS,channelMetadataEvent:()=>uS,channelMuteUserEvent:()=>hS});var cS=(a,i)=>{let s;if(typeof a.content=="object")s=JSON.stringify(a.content);else if(typeof a.content=="string")s=a.content;else return;return un({kind:oy,tags:[...a.tags??[]],content:s,created_at:a.created_at},i)},uS=(a,i)=>{let s;if(typeof a.content=="object")s=JSON.stringify(a.content);else if(typeof a.content=="string")s=a.content;else return;return un({kind:cy,tags:[["e",a.channel_create_event_id],...a.tags??[]],content:s,created_at:a.created_at},i)},fS=(a,i)=>{const s=[["e",a.channel_create_event_id,a.relay_url,"root"]];return a.reply_to_channel_message_event_id&&s.push(["e",a.reply_to_channel_message_event_id,a.relay_url,"reply"]),un({kind:uy,tags:[...s,...a.tags??[]],content:a.content,created_at:a.created_at},i)},dS=(a,i)=>{let s;if(typeof a.content=="object")s=JSON.stringify(a.content);else if(typeof a.content=="string")s=a.content;else return;return un({kind:fy,tags:[["e",a.channel_message_event_id],...a.tags??[]],content:s,created_at:a.created_at},i)},hS=(a,i)=>{let s;if(typeof a.content=="object")s=JSON.stringify(a.content);else if(typeof a.content=="string")s=a.content;else return;return un({kind:dy,tags:[["p",a.pubkey_to_mute],...a.tags??[]],content:s,created_at:a.created_at},i)},mS={};Ye(mS,{EMOJI_SHORTCODE_REGEX:()=>Ly,matchAll:()=>gS,regex:()=>wf,replaceAll:()=>pS});var Ly=/:(\w+):/,wf=()=>new RegExp(`\\B${Ly.source}\\B`,"g");function*gS(a){const i=a.matchAll(wf());for(const s of i)try{const[r,c]=s;yield{shortcode:r,name:c,start:s.index,end:s.index+r.length}}catch{}}function pS(a,i){return a.replaceAll(wf(),(s,r)=>i({shortcode:s,name:r}))}var yS={};Ye(yS,{useFetchImplementation:()=>vS,validateGithub:()=>bS});var Sf;try{Sf=fetch}catch{}function vS(a){Sf=a}async function bS(a,i,s){try{return await(await Sf(`https://gist.github.com/${i}/${s}/raw`)).text()===`Verifying that I control the following Nostr public key: ${a}`}catch{return!1}}var xS={};Ye(xS,{makeNwcRequestEvent:()=>wS,parseConnectionString:()=>ES});function ES(a){const{pathname:i,searchParams:s}=new URL(a),r=i,c=s.get("relay"),d=s.get("secret");if(!r||!c||!d)throw new Error("invalid connection string");return{pubkey:r,relay:c,secret:d}}async function wS(a,i,s){const c=vy(i,a,JSON.stringify({method:"pay_invoice",params:{invoice:s}})),d={kind:gy,created_at:Math.round(Date.now()/1e3),content:c,tags:[["p",a]]};return un(d,i)}var SS={};Ye(SS,{normalizeIdentifier:()=>NS});function NS(a){return a=a.trim().toLowerCase(),a=a.normalize("NFKC"),Array.from(a).map(i=>new RegExp("\\p{Letter}","u").test(i)||new RegExp("\\p{Number}","u").test(i)?i:"-").join("")}var TS={};Ye(TS,{getSatoshisAmountFromBolt11:()=>_S,getZapEndpoint:()=>AS,makeZapReceipt:()=>RS,makeZapRequest:()=>DS,useFetchImplementation:()=>jS,validateZapRequest:()=>CS});var Nf;try{Nf=fetch}catch{}function jS(a){Nf=a}async function AS(a){try{let i="",{lud06:s,lud16:r}=JSON.parse(a.content);if(s){let{words:m}=Ul.decode(s,1e3),p=Ul.fromWords(m);i=_n.decode(p)}else if(r){let[m,p]=r.split("@");i=new URL(`/.well-known/lnurlp/${m}`,`https://${p}`).toString()}else return null;let d=await(await Nf(i)).json();if(d.allowsNostr&&d.nostrPubkey)return d.callback}catch{}return null}function DS({profile:a,event:i,amount:s,relays:r,comment:c=""}){if(!s)throw new Error("amount not given");if(!a)throw new Error("profile not given");let d={kind:9734,created_at:Math.round(Date.now()/1e3),content:c,tags:[["p",a],["amount",s.toString()],["relays",...r]]};if(i&&typeof i=="string"&&d.tags.push(["e",i]),i&&typeof i=="object"){if(sf(i.kind)){const m=["a",`${i.kind}:${i.pubkey}:`];d.tags.push(m)}else if(rf(i.kind)){let m=i.tags.find(([h,g])=>h==="d"&&g);if(!m)throw new Error("d tag not found or is empty");const p=["a",`${i.kind}:${i.pubkey}:${m[1]}`];d.tags.push(p)}}return d}function CS(a){let i;try{i=JSON.parse(a)}catch{return"Invalid zap request JSON."}if(!nf(i))return"Zap request is not a valid Nostr event.";if(!lf(i))return"Invalid signature on zap request.";let s=i.tags.find(([d,m])=>d==="p"&&m);if(!s)return"Zap request doesn't have a 'p' tag.";if(!s[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=i.tags.find(([d,m])=>d==="e"&&m);return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":i.tags.find(([d,m])=>d==="relays"&&m)?null:"Zap request doesn't have a 'relays' tag."}function RS({zapRequest:a,preimage:i,bolt11:s,paidAt:r}){let c=JSON.parse(a),d=c.tags.filter(([p])=>p==="e"||p==="p"||p==="a"),m={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...d,["P",c.pubkey],["bolt11",s],["description",a]]};return i&&m.tags.push(["preimage",i]),m}function _S(a){if(a.length<50)return 0;a=a.substring(0,50);const i=a.lastIndexOf("1");if(i===-1)return 0;const s=a.substring(0,i);if(!s.startsWith("lnbc"))return 0;const r=s.substring(4);if(r.length<1)return 0;const c=r[r.length-1],d=c.charCodeAt(0)-48,m=d>=0&&d<=9;let p=r.length-1;if(m&&p++,p<1)return 0;const h=parseInt(r.substring(0,p));switch(c){case"m":return h*1e5;case"u":return h*100;case"n":return h/10;case"p":return h/1e4;default:return h*1e8}}var MS={};Ye(MS,{getToken:()=>US,hashPayload:()=>Tf,unpackEventFromToken:()=>qy,validateEvent:()=>Xy,validateEventKind:()=>Yy,validateEventMethodTag:()=>Gy,validateEventPayloadTag:()=>Zy,validateEventTimestamp:()=>$y,validateEventUrlTag:()=>Vy,validateToken:()=>OS});var Hy="Nostr ";async function US(a,i,s,r=!1,c){const d={kind:ff,tags:[["u",a],["method",i]],created_at:Math.round(new Date().getTime()/1e3),content:""};c&&d.tags.push(["payload",Tf(c)]);const m=await s(d);return(r?Hy:"")+On.encode(Kt.encode(JSON.stringify(m)))}async function OS(a,i,s){const r=await qy(a).catch(d=>{throw d});return await Xy(r,i,s).catch(d=>{throw d})}async function qy(a){if(!a)throw new Error("Missing token");a=a.replace(Hy,"");const i=_n.decode(On.decode(a));if(!i||i.length===0||!i.startsWith("{"))throw new Error("Invalid token");return JSON.parse(i)}function $y(a){return a.created_at?Math.round(new Date().getTime()/1e3)-a.created_at<60:!1}function Yy(a){return a.kind===ff}function Vy(a,i){const s=a.tags.find(r=>r[0]==="u");return s?s.length>0&&s[1]===i:!1}function Gy(a,i){const s=a.tags.find(r=>r[0]==="method");return s?s.length>0&&s[1].toLowerCase()===i.toLowerCase():!1}function Tf(a){const i=Ll(Kt.encode(JSON.stringify(a)));return mt(i)}function Zy(a,i){const s=a.tags.find(c=>c[0]==="payload");if(!s)return!1;const r=Tf(i);return s.length>0&&s[1]===r}async function Xy(a,i,s,r){if(!lf(a))throw new Error("Invalid nostr event, signature invalid");if(!Yy(a))throw new Error("Invalid nostr event, kind invalid");if(!$y(a))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!Vy(a,i))throw new Error("Invalid nostr event, url tag invalid");if(!Gy(a,s))throw new Error("Invalid nostr event, method tag invalid");if(r&&typeof r=="object"&&Object.keys(r).length>0&&!Zy(a,r))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}class kS{constructor(i){this.url=i,this.ws=null,this.connected=!1,this.subscriptions=new Map,this.messageHandlers=new Map}async connect(){return new Promise((i,s)=>{try{this.ws=new WebSocket(this.url),this.ws.onopen=()=>{console.log(`Connected to relay: ${this.url}`),this.connected=!0,i()},this.ws.onmessage=r=>{try{const c=JSON.parse(r.data);this.handleMessage(c)}catch(c){console.error("Failed to parse message:",c)}},this.ws.onerror=r=>{console.error(`Relay error (${this.url}):`,r),s(r)},this.ws.onclose=()=>{console.log(`Disconnected from relay: ${this.url}`),this.connected=!1}}catch(r){s(r)}})}handleMessage(i){const[s,r,...c]=i;if(s==="EVENT"&&this.subscriptions.has(r)){const d=this.subscriptions.get(r);d&&c[0]&&d(c[0])}else if(s==="EOSE"&&this.messageHandlers.has(r)){const d=this.messageHandlers.get(r);d.onEose&&d.onEose()}}subscribe(i,s,r,c){if(!this.connected){console.error("Not connected to relay");return}this.subscriptions.set(s,r),this.messageHandlers.set(s,{onEvent:r,onEose:c});const d=["REQ",s,...i];this.ws.send(JSON.stringify(d))}unsubscribe(i){if(!this.connected)return;this.subscriptions.delete(i),this.messageHandlers.delete(i);const s=["CLOSE",i];this.ws.send(JSON.stringify(s))}close(){this.ws&&this.connected&&this.ws.close()}}class zS{constructor(){this.relays=new Map,this.defaultRelays=["wss://relay.nostrcal.com","wss://filter.nostrcal.com","wss://relay.damus.io","wss://relay.nostr.band","wss://nos.lol","wss://relay.primal.net"],this.eventCache=new Map,this.profileCache=new Map,this.cacheTimeout=5*60*1e3}async connect(i=this.defaultRelays){const s=i.map(async r=>{try{const c=new kS(r);await c.connect(),this.relays.set(r,c)}catch(c){console.error(`Failed to connect to ${r}:`,c)}});await Promise.allSettled(s),console.log(`Connected to ${this.relays.size} relays`)}async getProfile(i){return new Promise(s=>{const r=[];let c=0;const d=this.relays.size;let m=i;i.startsWith("npub")&&(m=lt.decode(i).data);const p="profile-"+Math.random().toString(36).substring(7),h={kinds:[0],authors:[m],limit:1};this.relays.forEach((g,y)=>{if(!g.connected){console.warn(`Skipping disconnected relay: ${y}`),c++,c===d&&s(r.length>0?r[0]:null);return}g.subscribe([h],p,v=>{if(v&&v.content)try{const x=JSON.parse(v.content);r.push({...x,relay:y,created_at:v.created_at})}catch(x){console.error("Failed to parse profile metadata:",x)}},()=>{if(c++,c===d)if(this.relays.forEach(v=>{v.unsubscribe(p)}),r.length>0){r.sort((x,S)=>S.created_at-x.created_at);const v=r[0];delete v.created_at,delete v.relay,s(v)}else s(null)})}),setTimeout(()=>{if(this.relays.forEach(g=>{g.unsubscribe(p)}),r.length>0){r.sort((y,v)=>v.created_at-y.created_at);const g=r[0];delete g.created_at,delete g.relay,s(g)}else s(null)},5e3)})}async getCalendars(i){return new Promise(s=>{const r=[];let c=0;const d=this.relays.size;let m=i;i.startsWith("npub")&&(m=lt.decode(i).data);const p="calendars-"+Math.random().toString(36).substring(7),h={kinds:[31924],authors:[m]};this.relays.forEach((g,y)=>{if(!g.connected){if(console.warn(`Skipping disconnected relay: ${y}`),c++,c===d){this.relays.forEach(x=>{x.connected&&x.unsubscribe(p)});const v=r.reduce((x,S)=>{const E=x.find(N=>N.dTag===S.dTag);return!E||S.created_at>E.created_at?x.filter(N=>N.dTag!==S.dTag).concat(S):x},[]);v.sort((x,S)=>S.created_at-x.created_at),s(v)}return}g.subscribe([h],p,v=>{if(v)try{const x=v.tags.find(M=>M[0]==="d")?.[1],S=v.tags.find(M=>M[0]==="color")?.[1],E=v.tags.find(M=>M[0]==="title")?.[1];let N={},T=E||"Untitled Calendar",j="";if(v.content)try{N=JSON.parse(v.content),T=N.name||E||"Untitled Calendar",j=N.description||""}catch{v.content.length<100?T=v.content:j=v.content}const R={id:v.id,dTag:x||v.id,name:T,description:j,color:S||"#1a73e8",created_at:v.created_at,pubkey:v.pubkey,relay:y,rawEvent:v,eventReferences:v.tags.filter(M=>M[0]==="a").map(M=>M[1])};r.push(R)}catch(x){console.error("Failed to parse calendar data:",x)}},()=>{if(c++,c===d){this.relays.forEach(x=>{x.unsubscribe(p)});const v=r.reduce((x,S)=>{const E=x.find(N=>N.dTag===S.dTag);return!E||S.created_at>E.created_at?x.filter(N=>N.dTag!==S.dTag).concat(S):x},[]);v.sort((x,S)=>S.created_at-x.created_at),s(v)}})}),setTimeout(()=>{this.relays.forEach(y=>{y.unsubscribe(p)});const g=r.reduce((y,v)=>{const x=y.find(S=>S.dTag===v.dTag);return!x||v.created_at>x.created_at?y.filter(S=>S.dTag!==v.dTag).concat(v):y},[]);g.sort((y,v)=>v.created_at-y.created_at),s(g)},5e3)})}async createCalendar(i,s,r,c){return new Promise((d,m)=>{try{const p=Math.random().toString(36).substring(2,15),h={kind:31924,created_at:Math.floor(Date.now()/1e3),tags:[["d",p],["color",r],["title",i]],content:JSON.stringify({name:i,description:s})};console.log("Would create calendar event:",h),d({...h,dTag:p,name:i,description:s,color:r})}catch(p){m(p)}})}async createEvent(i){return new Promise((s,r)=>{try{const{kind:c,title:d,description:m,summary:p,image:h,start:g,end:y,location:v,geohash:x,hashtags:S,startTimezone:E,endTimezone:N}=i,j=[["d",Math.random().toString(36).substring(2,15)],["title",d]];c===31922?(j.push(["start",g]),y&&y!==g&&j.push(["end",y])):c===31923&&(j.push(["start",g]),y&&y!==g&&j.push(["end",y]),E&&j.push(["start_tzid",E]),N?j.push(["end_tzid",N]):E&&j.push(["end_tzid",E])),p&&j.push(["summary",p]),h&&j.push(["image",h]),v&&j.push(["location",v]),x&&j.push(["g",x]),S&&S.split(",").map(D=>D.trim().replace(/^#/,"")).filter(Boolean).forEach(D=>j.push(["t",D]));const R={kind:c,created_at:Math.floor(Date.now()/1e3),tags:j,content:m||""};console.log("Created event structure:",R),console.log("Event tags:",j),console.log("Event content:",m||""),s(R)}catch(c){r(c)}})}async publishEvent(i){const s=[];this.relays.forEach((d,m)=>{d.connected&&s.push(new Promise((p,h)=>{const g=["EVENT",i];d.ws.send(JSON.stringify(g)),setTimeout(()=>{p({relay:m,success:!0})},1e3)}))});const c=(await Promise.allSettled(s)).filter(d=>d.status==="fulfilled").length;return console.log(`Published event to ${c}/${this.relays.size} relays`),{successful:c,total:this.relays.size}}async getEvents(i,s=[31922,31923]){console.log("nostrPool.getEvents called with pubkey:",i,"kinds:",s);const r=`${i}-${s.join(",")}`,c=this.eventCache.get(r);return c&&Date.now()-c.timestamp<this.cacheTimeout?(console.log("Returning cached events for:",r),c.events):new Promise(d=>{const m=[];let p=0;const h=this.relays.size;let g=!1,y=i;i.startsWith("npub")&&(y=lt.decode(i).data),console.log("Querying events with hex pubkey:",y,"kinds:",s);const v="events-"+Math.random().toString(36).substring(7),x={kinds:s,authors:[y]},S=()=>{g||p>=Math.min(2,this.relays.size)&&m.length>0&&(g=!0,console.log("Early resolve with",m.length,"events from",p,"relays"),this.eventCache.set(r,{events:[...m],timestamp:Date.now()}),d(m))};this.relays.forEach((E,N)=>{E.subscribe([x],v,T=>{if(T){console.log("Received event from relay:",N,"Kind:",T.kind,"Event:",T);try{const j=T.tags.find(re=>re[0]==="title")?.[1],R=T.tags.find(re=>re[0]==="name")?.[1],M=T.tags.find(re=>re[0]==="summary")?.[1],D=T.tags.find(re=>re[0]==="start")?.[1],k=T.tags.find(re=>re[0]==="end")?.[1],O=T.tags.find(re=>re[0]==="location")?.[1],B=T.tags.find(re=>re[0]==="start_tzid")?.[1],H=T.tags.find(re=>re[0]==="end_tzid")?.[1];let K={},J=j||R||"Untitled Event",ne=M||"";if(T.content)try{K=JSON.parse(T.content),J=K.title||j||K.name||R||"Untitled Event",ne=K.summary||M||K.description||""}catch{ne=T.content}const ce={id:T.id,kind:T.kind,title:J,description:ne,start:D,end:k,location:O,startTimezone:B,endTimezone:H,allDay:T.kind===31922,created_at:T.created_at,pubkey:T.pubkey,relay:N,rawEvent:T};m.push(ce),S()}catch(j){console.error("Failed to parse event data:",j)}}},()=>{if(p++,S(),p===h&&!g){this.relays.forEach(j=>{j.unsubscribe(v)});const T=m.reduce((j,R)=>{const M=j.find(D=>D.id===R.id);return!M||R.created_at>M.created_at?j.filter(D=>D.id!==R.id).concat(R):j},[]);T.sort((j,R)=>R.created_at-j.created_at),this.eventCache.set(r,{events:T,timestamp:Date.now()}),d(T)}})}),setTimeout(()=>{if(g)return;this.relays.forEach(N=>{N.unsubscribe(v)});const E=m.reduce((N,T)=>{const j=N.find(R=>R.id===T.id);return!j||T.created_at>j.created_at?N.filter(R=>R.id!==T.id).concat(T):N},[]);E.sort((N,T)=>T.created_at-N.created_at),this.eventCache.set(r,{events:E,timestamp:Date.now()}),d(E)},5e3)})}async getAllUserEvents(i){console.log("nostrPool.getAllUserEvents called with pubkey:",i);const s=`all-${i}`,r=this.eventCache.get(s);if(r&&Date.now()-r.timestamp<this.cacheTimeout)return console.log("Returning cached all events for:",s),r.events;try{let c=i;i.startsWith("npub")&&(c=lt.decode(i).data);const[d,m,p]=await Promise.all([this.getEvents(c,[31922]),this.getEvents(c,[31923]),this.getRSVPs(c)]),h={dayEvents:d,timeEvents:m,rsvpEvents:p};return this.eventCache.set(s,{events:h,timestamp:Date.now()}),h}catch(c){return console.error("Failed to load all user events:",c),{dayEvents:[],timeEvents:[],rsvpEvents:[]}}}async getRSVPs(i){return console.log("nostrPool.getRSVPs called with pubkey:",i),new Promise(s=>{const r=[],c=new Set;let d=0;const m=this.relays.size;let p=i;i.startsWith("npub")&&(p=lt.decode(i).data),console.log("Querying RSVPs with hex pubkey:",p);const h="rsvps-"+Math.random().toString(36).substring(7),g={kinds:[31925],authors:[p]};this.relays.forEach((y,v)=>{y.subscribe([g],h,x=>{if(x)try{const S=x.tags.find(N=>N[0]==="e")?.[1],E=x.tags.find(N=>N[0]==="status")?.[1];E==="accepted"&&S&&(c.add(S),r.push({id:x.id,originalEventId:S,status:E,created_at:x.created_at,pubkey:x.pubkey,relay:v}))}catch(S){console.error("Failed to parse RSVP data:",S)}},()=>{d++,d===m&&(this.relays.forEach(x=>{x.unsubscribe(h)}),c.size>0?this.getEventsByIds(Array.from(c)).then(x=>{const S=x.map(E=>{const N=r.find(T=>T.originalEventId===E.id);return{...E,rsvpId:N?.id,rsvpEventId:N?.id,isRSVP:!0}});s(S)}):s([]))})}),setTimeout(()=>{this.relays.forEach(y=>{y.unsubscribe(h)}),c.size>0?this.getEventsByIds(Array.from(c)).then(y=>{const v=y.map(x=>{const S=r.find(E=>E.originalEventId===x.id);return{...x,rsvpId:S?.id,rsvpEventId:S?.id,isRSVP:!0}});s(v)}):s([])},5e3)})}async getEventsByIds(i){return console.log("nostrPool.getEventsByIds called with eventIds:",i),new Promise(s=>{const r=[];let c=0;const d=this.relays.size,m="events-by-id-"+Math.random().toString(36).substring(7),p={ids:i};this.relays.forEach((h,g)=>{h.subscribe([p],m,y=>{if(y){console.log("Received original event for RSVP from relay:",g,"Kind:",y.kind,"Event:",y);try{const v=y.tags.find(K=>K[0]==="name")?.[1],x=y.tags.find(K=>K[0]==="title")?.[1],S=y.tags.find(K=>K[0]==="summary")?.[1],E=y.tags.find(K=>K[0]==="start")?.[1],N=y.tags.find(K=>K[0]==="end")?.[1],T=y.tags.find(K=>K[0]==="location")?.[1],j=y.tags.find(K=>K[0]==="start_tzid")?.[1],R=y.tags.find(K=>K[0]==="end_tzid")?.[1];let M={},D=x||v||"Untitled Event",k=S||"",O=E,B=N;if(E&&!isNaN(E)&&(O=new Date(parseInt(E)*1e3).toISOString()),N&&!isNaN(N)&&(B=new Date(parseInt(N)*1e3).toISOString()),y.content)try{M=JSON.parse(y.content),D=M.name||x||v||"Untitled Event",k=M.summary||S||M.description||""}catch{y.content&&!x&&!v&&(k=y.content)}const H={id:y.id,kind:y.kind,title:D,description:k,start:O,end:B,location:T,startTimezone:j,endTimezone:R,allDay:y.kind===31922,created_at:y.created_at,pubkey:y.pubkey,relay:g,rawEvent:y,isRSVP:!0};r.push(H)}catch(v){console.error("Failed to parse original event data:",v)}}},()=>{if(c++,c===d){this.relays.forEach(v=>{v.unsubscribe(m)});const y=r.reduce((v,x)=>{const S=v.find(E=>E.id===x.id);return!S||x.created_at>S.created_at?v.filter(E=>E.id!==x.id).concat(x):v},[]);y.sort((v,x)=>x.created_at-v.created_at),console.log("Resolved original events for RSVPs:",y),s(y)}})}),setTimeout(()=>{this.relays.forEach(g=>{g.unsubscribe(m)});const h=r.reduce((g,y)=>{const v=g.find(x=>x.id===y.id);return!v||y.created_at>v.created_at?g.filter(x=>x.id!==y.id).concat(y):g},[]);h.sort((g,y)=>y.created_at-g.created_at),console.log("Resolved original events for RSVPs (timeout):",h),s(h)},5e3)})}async getEventsByReferences(i){return new Promise(s=>{const r=[];let c=0;const d=this.relays.size,m="ref-events-"+Math.random().toString(36).substring(7),p=i.map(h=>{const[g,y,v]=h.split(":");return{kinds:[parseInt(g)],authors:[y],"#d":v?[v]:void 0}}).filter(h=>h["#d"]);if(p.length===0){s([]);return}this.relays.forEach((h,g)=>{h.subscribe(p,m,y=>{if(y)try{const v=y.tags.find(B=>B[0]==="title")?.[1],x=y.tags.find(B=>B[0]==="name")?.[1],S=y.tags.find(B=>B[0]==="summary")?.[1],E=y.tags.find(B=>B[0]==="start")?.[1],N=y.tags.find(B=>B[0]==="end")?.[1],T=y.tags.find(B=>B[0]==="location")?.[1],j=y.tags.find(B=>B[0]==="start_tzid")?.[1],R=y.tags.find(B=>B[0]==="end_tzid")?.[1];let M={},D=v||x||"Untitled Event",k=S||"";if(y.content)try{M=JSON.parse(y.content),D=M.title||v||M.name||x||"Untitled Event",k=M.summary||S||M.description||""}catch{k=y.content}const O={id:y.id,kind:y.kind,title:D,description:k,start:E,end:N,location:T,startTimezone:j,endTimezone:R,allDay:y.kind===31922,created_at:y.created_at,pubkey:y.pubkey,relay:g,rawEvent:y,isRSVP:!0};r.push(O)}catch(v){console.error("Failed to parse referenced event data:",v)}},()=>{if(c++,c===d){this.relays.forEach(v=>{v.unsubscribe(m)});const y=r.reduce((v,x)=>{const S=v.find(E=>E.id===x.id);return!S||x.created_at>S.created_at?v.filter(E=>E.id!==x.id).concat(x):v},[]);y.sort((v,x)=>x.created_at-v.created_at),s(y)}})}),setTimeout(()=>{this.relays.forEach(g=>{g.unsubscribe(m)});const h=r.reduce((g,y)=>{const v=g.find(x=>x.id===y.id);return!v||y.created_at>v.created_at?g.filter(x=>x.id!==y.id).concat(y):g},[]);h.sort((g,y)=>y.created_at-g.created_at),s(h)},5e3)})}async getAvailabilityTemplates(i){return new Promise(s=>{const r=[];let c=0;const d=this.relays.size;let m=i;i.startsWith("npub")&&(m=lt.decode(i).data);const p="availability-"+Math.random().toString(36).substring(7),h={kinds:[31926],authors:[m]};this.relays.forEach((g,y)=>{g.subscribe([h],p,v=>{if(v)try{const x=v.tags.find($=>$[0]==="d")?.[1],S=v.tags.find($=>$[0]==="a")?.[1],E=v.tags.find($=>$[0]==="title")?.[1]||"Untitled Template",N=v.content||"",T=v.tags.find($=>$[0]==="duration")?.[1]||"PT30M",j=v.tags.find($=>$[0]==="interval")?.[1]||T,R=v.tags.find($=>$[0]==="tzid")?.[1]||"UTC",M=v.tags.find($=>$[0]==="amount_sats")?.[1]||"0",D=v.tags.find($=>$[0]==="buffer_before")?.[1]||"PT0S",k=v.tags.find($=>$[0]==="buffer_after")?.[1]||"PT0S",O=v.tags.find($=>$[0]==="min_notice")?.[1]||"PT0S",B=v.tags.find($=>$[0]==="max_advance")?.[1]||"P30D",H=v.tags.find($=>$[0]==="max_advance_business")?.[1]||"false",K=this.parseDuration(T),J=this.parseDuration(j),ne=this.parseDuration(D),ce=this.parseDuration(k),re=this.parseDuration(O),Y=this.parseAdvancePeriod(B),L=this.parseAvailabilityTags(v.tags),A={id:x,calendarRef:S,title:E,description:N,duration:K,interval:J,timezone:R,zapAmount:parseInt(M),bufferBefore:ne,bufferAfter:ce,minNotice:re,maxAdvance:Y,maxAdvanceBusiness:H==="true",availability:L,event:v};r.push(A)}catch(x){console.error("Failed to parse availability template:",x)}},()=>{if(c++,c===d){this.relays.forEach(x=>{x.unsubscribe(p)});const v=r.reduce((x,S)=>{const E=x.find(N=>N.id===S.id);return!E||S.event.created_at>E.event.created_at?x.filter(N=>N.id!==S.id).concat(S):x},[]);v.sort((x,S)=>S.event.created_at-x.event.created_at),s(v)}})}),setTimeout(()=>{this.relays.forEach(y=>{y.unsubscribe(p)});const g=r.reduce((y,v)=>{const x=y.find(S=>S.id===v.id);return!x||v.event.created_at>x.event.created_at?y.filter(S=>S.id!==v.id).concat(v):y},[]);g.sort((y,v)=>v.event.created_at-y.event.created_at),s(g)},5e3)})}async deleteAvailabilityTemplate(i){const s={kind:5,created_at:Math.floor(Date.now()/1e3),tags:[["a",`31926:${this.getCurrentPubkey()}:${i}`],["k","31926"]],content:`Deleted availability template: ${i}`};return this.publishEvent(s)}parseDuration(i){if(!i)return 0;if(i.includes("S")){const s=parseInt(i.match(/PT(\d+)S/)?.[1]||"0");return Math.floor(s/60)}return i.includes("M")?parseInt(i.match(/PT(\d+)M/)?.[1]||"0"):i.includes("H")?parseInt(i.match(/PT(\d+)H/)?.[1]||"0")*60:0}parseAdvancePeriod(i){return i?parseInt(i.match(/P(\d+)D/)?.[1]||"30"):30}parseAvailabilityTags(i){const s={SU:{enabled:!1,start:"09:00",end:"17:00"},MO:{enabled:!1,start:"09:00",end:"17:00"},TU:{enabled:!1,start:"09:00",end:"17:00"},WE:{enabled:!1,start:"09:00",end:"17:00"},TH:{enabled:!1,start:"09:00",end:"17:00"},FR:{enabled:!1,start:"09:00",end:"17:00"},SA:{enabled:!1,start:"09:00",end:"17:00"}};return i.filter(c=>c[0]==="sch").forEach(c=>{const[,d,m,p]=c;s[d]&&(s[d]={enabled:!0,start:m||"09:00",end:p||"17:00"})}),s}async getAvailabilityTemplate(i){return new Promise(s=>{let r=null,c=0;const d=this.relays.size,m="single-template-"+Math.random().toString(36).substring(7),p={kinds:[31926],"#d":[i],limit:10};this.relays.forEach((h,g)=>{h.subscribe([p],m,y=>{if(y&&!r)try{const v=y.tags.find(A=>A[0]==="d")?.[1],x=y.tags.find(A=>A[0]==="a")?.[1],S=y.tags.find(A=>A[0]==="title")?.[1]||"Untitled Template",E=y.content||"",N=y.tags.find(A=>A[0]==="duration")?.[1]||"PT30M",T=y.tags.find(A=>A[0]==="interval")?.[1]||N,j=y.tags.find(A=>A[0]==="tzid")?.[1]||"UTC",R=y.tags.find(A=>A[0]==="amount_sats")?.[1]||"0",M=y.tags.find(A=>A[0]==="buffer_before")?.[1]||"PT0S",D=y.tags.find(A=>A[0]==="buffer_after")?.[1]||"PT0S",k=y.tags.find(A=>A[0]==="min_notice")?.[1]||"PT0S",O=y.tags.find(A=>A[0]==="max_advance")?.[1]||"P30D",B=y.tags.find(A=>A[0]==="max_advance_business")?.[1]||"false",H=y.tags.find(A=>A[0]==="location")?.[1]||"Online Meeting",K=this.parseDuration(N),J=this.parseDuration(T),ne=this.parseDuration(M),ce=this.parseDuration(D),re=this.parseDuration(k),Y=this.parseAdvancePeriod(O),L=this.parseAvailabilityTags(y.tags);r={identifier:v,ownerPubkey:y.pubkey,calendarRef:x,title:S,description:E,duration:K,interval:J,timezone:j,zapAmount:parseInt(R),bufferBefore:ne,bufferAfter:ce,minNotice:re,maxAdvanceDays:Y===0?null:Y,maxAdvanceBusiness:B==="true",location:H,weeklyAvailability:L,event:y}}catch(v){console.error("Failed to parse availability template:",v)}},()=>{c++,c===d&&(this.relays.forEach(y=>{y.unsubscribe(m)}),s(r))})}),setTimeout(()=>{this.relays.forEach(h=>{h.unsubscribe(m)}),s(r)},1e4)})}async getBusyTimes(i,s){return new Promise(r=>{const c=new Map;let d=0;const m=this.relays.size,p=Math.floor(Date.now()/1e3),h=p+90*24*60*60,g={kinds:[31922,31923,31925],authors:[i],since:p-30*24*60*60,until:h,limit:200},y="busy-times-"+Math.random().toString(36).substring(7);this.relays.forEach((v,x)=>{v.subscribe([g],y,S=>{S&&this.processBusyEvent(S,c,i)},()=>{d++,d===m&&(this.relays.forEach(S=>{S.unsubscribe(y)}),r(Array.from(c.entries())))})}),setTimeout(()=>{this.relays.forEach(v=>{v.unsubscribe(y)}),r(Array.from(c.entries()))},1e4)})}processBusyEvent(i,s,r){try{const c=i.tags.find(S=>S[0]==="start"),d=i.tags.find(S=>S[0]==="end"),m=i.tags.filter(S=>S[0]==="p").map(S=>S[1]),p=i.tags.find(S=>S[0]==="title")?.[1]||"Busy";if(!c||!d||!(i.pubkey===r||m.includes(r)))return;let g=!1,y="";if(i.kind===31922||i.kind===31923)i.pubkey===r?(g=!0,y="owner calendar event"):m.includes(r)&&(g=!1,y="pending booking request");else if(i.kind===31925){const S=i.tags.find(N=>N[0]==="status")?.[1],E=i.tags.find(N=>N[0]==="fb")?.[1];S==="accepted"&&E==="busy"&&(g=!0,y="accepted RSVP")}if(!g)return;let v,x;if(i.kind===31923){const S=parseInt(c[1]),E=parseInt(d[1]);if(isNaN(S)||isNaN(E))return;v=new Date(S*1e3),x=new Date(E*1e3)}else i.kind===31922&&(v=new Date(c[1]+"T00:00:00"),x=new Date(d[1]+"T23:59:59"));if(v&&x&&!isNaN(v.getTime())&&!isNaN(x.getTime())){const S=v.toISOString().split("T")[0];s.has(S)||s.set(S,[]);const E={start:v,end:x,eventId:i.id,title:p,kind:i.kind,reason:y};s.get(S).push(E)}}catch(c){console.error("Error processing busy event:",c)}}getCurrentPubkey(){return window.nostr?.getPublicKey?.()||""}disconnect(){this.relays.forEach(i=>{i.close()}),this.relays.clear()}async getOwnerEvents(i){return console.log("nostrPool.getOwnerEvents called with pubkey:",i),new Promise(s=>{const r=[];let c=0;const d=this.relays.size,m="owner-events-"+Math.random().toString(36).substring(7),p={kinds:[31923],authors:[i]};this.relays.forEach((h,g)=>{h.subscribe([p],m,y=>{if(y)try{const v=y.tags.find(T=>T[0]==="title")?.[1],x=y.tags.find(T=>T[0]==="start")?.[1],S=y.tags.find(T=>T[0]==="end")?.[1],E=y.tags.find(T=>T[0]==="location")?.[1],N={id:y.id,kind:y.kind,title:v||"Untitled Event",description:y.content||"",startTime:parseInt(x)*1e3,endTime:S?parseInt(S)*1e3:parseInt(x)*1e3+60*60*1e3,location:E,isAllDay:!1,created_at:y.created_at,event:y};r.push(N)}catch(v){console.error("Error processing owner event:",v)}},()=>{if(c++,c>=d){const y=r.reduce((v,x)=>{const S=v.find(E=>E.id===x.id);return!S||x.created_at>S.created_at?v.filter(E=>E.id!==x.id).concat(x):v},[]);s(y)}})}),setTimeout(()=>{this.relays.forEach(g=>{g.unsubscribe(m)});const h=r.reduce((g,y)=>{const v=g.find(x=>x.id===y.id);return!v||y.created_at>v.created_at?g.filter(x=>x.id!==y.id).concat(y):g},[]);s(h)},5e3)})}async getDateBasedEvents(i){return console.log("nostrPool.getDateBasedEvents called with pubkey:",i),new Promise(s=>{const r=[];let c=0;const d=this.relays.size,m="date-events-"+Math.random().toString(36).substring(7),p={kinds:[31922],authors:[i]};this.relays.forEach((h,g)=>{h.subscribe([p],m,y=>{if(y)try{const v=y.tags.find(R=>R[0]==="title")?.[1],x=y.tags.find(R=>R[0]==="start")?.[1],S=y.tags.find(R=>R[0]==="end")?.[1],E=y.tags.find(R=>R[0]==="location")?.[1],N=new Date(x+"T00:00:00").getTime(),T=S?new Date(S+"T23:59:59").getTime():new Date(x+"T23:59:59").getTime(),j={id:y.id,kind:y.kind,title:v||"Untitled Event",description:y.content||"",startTime:N,endTime:T,location:E,isAllDay:!0,created_at:y.created_at,event:y};r.push(j)}catch(v){console.error("Error processing date-based event:",v)}},()=>{if(c++,c>=d){const y=r.reduce((v,x)=>{const S=v.find(E=>E.id===x.id);return!S||x.created_at>S.created_at?v.filter(E=>E.id!==x.id).concat(x):v},[]);s(y)}})}),setTimeout(()=>{this.relays.forEach(g=>{g.unsubscribe(m)});const h=r.reduce((g,y)=>{const v=g.find(x=>x.id===y.id);return!v||y.created_at>v.created_at?g.filter(x=>x.id!==y.id).concat(y):g},[]);s(h)},5e3)})}async getBookingRequests(i){return console.log("nostrPool.getBookingRequests called with pubkey:",i),new Promise(s=>{const r=[];let c=0;const d=this.relays.size,m="booking-requests-"+Math.random().toString(36).substring(7),p={kinds:[31923],"#p":[i]};this.relays.forEach((h,g)=>{h.subscribe([p],m,y=>{if(y&&y.pubkey!==i)try{const v=y.tags.find(j=>j[0]==="d")?.[1],x=y.tags.find(j=>j[0]==="title")?.[1],S=y.tags.find(j=>j[0]==="start")?.[1],E=y.tags.find(j=>j[0]==="end")?.[1],N=y.tags.find(j=>j[0]==="a")?.[1],T={id:y.id,dTag:v,templateRef:N,bookerPubkey:y.pubkey,ownerPubkey:i,title:x||"Meeting Request",description:y.content||"",startTime:parseInt(S)*1e3,endTime:E?parseInt(E)*1e3:parseInt(S)*1e3+30*60*1e3,status:"pending",createdAt:y.created_at,event:y};r.push(T)}catch(v){console.error("Error processing booking request:",v)}},()=>{if(c++,c>=d){const y=r.reduce((v,x)=>{const S=v.find(E=>E.id===x.id);return!S||x.created_at>S.created_at?v.filter(E=>E.id!==x.id).concat(x):v},[]);s(y)}})}),setTimeout(()=>{this.relays.forEach(g=>{g.unsubscribe(m)});const h=r.reduce((g,y)=>{const v=g.find(x=>x.id===y.id);return!v||y.created_at>v.created_at?g.filter(x=>x.id!==y.id).concat(y):g},[]);s(h)},5e3)})}async getRSVPEvents(i){return console.log("nostrPool.getRSVPEvents called with pubkey:",i),new Promise(s=>{const r=[];let c=0;const d=this.relays.size*2,m="rsvp-incoming-"+Math.random().toString(36).substring(7),p="rsvp-outgoing-"+Math.random().toString(36).substring(7),h={kinds:[31925],"#p":[i]},g={kinds:[31925],authors:[i]},y=v=>{try{const x=v.tags.find(T=>T[0]==="d")?.[1],S=v.tags.find(T=>T[0]==="status")?.[1],E=v.tags.find(T=>T[0]==="a")?.[1],N={id:v.id,dTag:x,status:S||"unknown",relatedRequest:E,fromPubkey:v.pubkey,createdAt:v.created_at,event:v};r.push(N)}catch(x){console.error("Error processing RSVP event:",x)}};this.relays.forEach((v,x)=>{v.subscribe([h],m,y,()=>{c++,c>=d&&s(r)}),v.subscribe([g],p,y,()=>{c++,c>=d&&s(r)})}),setTimeout(()=>{this.relays.forEach(x=>{x.unsubscribe(m),x.unsubscribe(p)});const v=r.reduce((x,S)=>{const E=x.find(N=>N.id===S.id);return!E||S.created_at>E.created_at?x.filter(N=>N.id!==S.id).concat(S):x},[]);s(v)},5e3)})}async respondToBooking(i,s){return console.log("nostrPool.respondToBooking called with requestId:",i,"status:",s),new Promise(r=>{console.log("Would create RSVP event for request:",i,"with status:",s),r({success:!0})})}async deleteEvent(i,s){return console.log("nostrPool.deleteEvent called with eventId:",i,"eventKind:",s),new Promise(r=>{console.log("Would create deletion event for:",i,"kind:",s),r({success:!0})})}}const Ha=new zS,Qy=_.createContext(null);function BS({children:a}){const[i,s]=_.useState(!1),[r,c]=_.useState("disconnected");_.useEffect(()=>((async()=>{try{c("connecting"),await Ha.connect(),s(!0),c("connected"),console.log("Connected to Nostr relays")}catch(p){console.error("Failed to connect to relays:",p),c("failed")}})(),()=>{Ha.disconnect(),s(!1),c("disconnected")}),[]);const d={pool:Ha,isConnected:i,connectionStatus:r};return f.jsx(Qy.Provider,{value:d,children:a})}function Gt(){const a=_.useContext(Qy);if(!a)throw new Error("useNostr must be used within a NostrProvider");return a}function LS(a){const[i,s]=_.useState(null),[r,c]=_.useState(!0),{pool:d,isConnected:m}=Gt();return _.useEffect(()=>{if(!a||!m){a||c(!1);return}let p=!1;return(async()=>{try{c(!0),console.log("Fetching profile for:",a);let g=a;a.startsWith("npub")&&(g=lt.decode(a).data);const y=await d.getProfile(g);!p&&y?(console.log("Got profile from relays:",y),s({...y,pubkey:g,npub:a.startsWith("npub")?a:lt.npubEncode(g)})):p||(console.log("No profile found on relays, using fallback"),s({name:"Nostr User",display_name:"Nostr User",pubkey:g,npub:a.startsWith("npub")?a:lt.npubEncode(g)}))}catch(g){console.error("Failed to fetch profile:",g),p||s({name:"Nostr User",display_name:"Nostr User",pubkey:a,npub:a.startsWith("npub")?a:lt.npubEncode(a)})}finally{p||c(!1)}})(),()=>{p=!0}},[a,m,d]),{profile:i,loading:r}}const qa=on.forwardRef(({className:a,variant:i="default",size:s="default",...r},c)=>{const d=()=>{let m="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none disabled:opacity-50 disabled:pointer-events-none ";return i==="default"?m+="bg-blue-600 text-white hover:bg-blue-700 ":i==="outline"?m+="border border-gray-300 bg-white text-gray-900 hover:bg-gray-50 ":i==="secondary"&&(m+="bg-gray-100 text-gray-900 hover:bg-gray-200 "),s==="default"?m+="h-10 px-4 py-2 ":s==="sm"?m+="h-9 px-3 ":s==="lg"&&(m+="h-11 px-8 "),m+(a||"")};return f.jsx("button",{className:d(),ref:c,...r})});qa.displayName="Button";const Ki=on.forwardRef(({className:a,type:i,...s},r)=>f.jsx("input",{type:i,className:`flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${a||""}`,ref:r,...s}));Ki.displayName="Input";const Ky=({open:a,onOpenChange:i,children:s})=>a?f.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[f.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:()=>i(!1)}),f.jsx("div",{className:"relative",children:s})]}):null,jf=on.forwardRef(({className:a,children:i,...s},r)=>f.jsx("div",{ref:r,className:`relative z-50 grid w-full max-w-lg gap-4 border border-gray-200 bg-white p-6 shadow-lg rounded-lg ${a||""}`,...s,children:i}));jf.displayName="DialogContent";const Jy=({className:a,...i})=>f.jsx("div",{className:`flex flex-col space-y-1.5 text-center sm:text-left ${a||""}`,...i}),Af=on.forwardRef(({className:a,...i},s)=>f.jsx("h2",{ref:s,className:`text-lg font-semibold leading-none tracking-tight ${a||""}`,...i}));Af.displayName="DialogTitle";const Df=on.forwardRef(({className:a,...i},s)=>f.jsx("p",{ref:s,className:`text-sm text-gray-600 ${a||""}`,...i}));Df.displayName="DialogDescription";const HS=({defaultValue:a,className:i,children:s})=>{const[r,c]=on.useState(a);return f.jsx("div",{className:i,children:on.Children.map(s,d=>on.cloneElement(d,{activeTab:r,setActiveTab:c}))})},qS=({className:a,children:i,activeTab:s,setActiveTab:r})=>f.jsx("div",{className:`inline-flex h-10 items-center justify-center rounded-md bg-gray-100 p-1 text-gray-600 ${a||""}`,children:on.Children.map(i,c=>on.cloneElement(c,{activeTab:s,setActiveTab:r}))}),xu=({value:a,className:i,children:s,activeTab:r,setActiveTab:c})=>f.jsx("button",{className:`inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 ${r===a?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"} ${i||""}`,onClick:()=>c(a),children:s}),Eu=({value:a,className:i,children:s,activeTab:r})=>r!==a?null:f.jsx("div",{className:`mt-2 focus-visible:outline-none ${i||""}`,children:s});function $S(){const{login:a}=It();return{extension:async()=>{try{if(console.log("Checking for nostr extension..."),!window.nostr)throw new Error("Nostr extension not found");console.log("Getting public key from extension...");const c=await window.nostr.getPublicKey();console.log("Got pubkey:",c);const d={id:c,pubkey:lt.npubEncode(c),name:"Nostr User",loginMethod:"extension"};console.log("Logging in with userData:",d),a(d),console.log("Login function called")}catch(c){throw console.error("Extension login failed:",c),c}},nsec:c=>{try{const{type:d,data:m}=lt.decode(c);if(d!=="nsec")throw new Error("Invalid nsec key");const p=kr(m),h={id:p,pubkey:lt.npubEncode(p),privateKey:c,name:"Nostr User",loginMethod:"nsec"};a(h)}catch(d){throw console.error("Nsec login failed:",d),d}},bunker:c=>{try{const m=new URL(c).hostname,p={id:m,pubkey:lt.npubEncode(m),bunkerUri:c,name:"Nostr User",loginMethod:"bunker"};a(p)}catch(d){throw console.error("Bunker login failed:",d),d}}}}const Py=({isOpen:a,onClose:i})=>{const[s,r]=_.useState(!1),[c,d]=_.useState(""),[m,p]=_.useState(""),h=_.useRef(null),g=$S(),y=async()=>{console.log("Starting extension login..."),r(!0);try{await g.extension(),console.log("Extension login successful"),i()}catch(E){console.error("Extension login failed:",E),alert("Extension login failed: "+E.message)}finally{r(!1)}},v=()=>{if(c.trim()){r(!0);try{g.nsec(c),i()}catch(E){console.error("Nsec login failed:",E),alert("Nsec login failed: "+E.message)}finally{r(!1)}}},x=()=>{if(!(!m.trim()||!m.startsWith("bunker://"))){r(!0);try{g.bunker(m),i()}catch(E){console.error("Bunker login failed:",E),alert("Bunker login failed: "+E.message)}finally{r(!1)}}},S=E=>{const N=E.target.files?.[0];if(!N)return;const T=new FileReader;T.onload=j=>{const R=j.target?.result;d(R.trim())},T.readAsText(N)};return f.jsx(Ky,{open:a,onOpenChange:i,children:f.jsxs(jf,{className:"sm:max-w-md p-0 overflow-hidden rounded-2xl",children:[f.jsxs(Jy,{className:"px-6 pt-6 pb-0 relative",children:[f.jsx(Af,{className:"text-xl font-semibold text-center",children:"Connect with Nostr"}),f.jsx(Df,{className:"text-center text-muted-foreground mt-2",children:"Choose your preferred method to connect your Nostr account"})]}),f.jsx("div",{className:"px-6 py-8 space-y-6",children:f.jsxs(HS,{defaultValue:typeof window<"u"&&"nostr"in window?"extension":"key",className:"w-full",children:[f.jsxs(qS,{className:"grid grid-cols-3 mb-6",children:[f.jsx(xu,{value:"extension",children:"Extension"}),f.jsx(xu,{value:"key",children:"Nsec"}),f.jsx(xu,{value:"bunker",children:"Bunker"})]}),f.jsx(Eu,{value:"extension",className:"space-y-4",children:f.jsxs("div",{className:"text-center p-4 rounded-lg bg-gray-50",children:[f.jsx("div",{className:"text-4xl mb-3",children:""}),f.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Connect with one click using your browser extension"}),f.jsx(qa,{className:"w-full rounded-full py-6",onClick:y,disabled:s,children:s?"Connecting...":"Connect with Extension"})]})}),f.jsx(Eu,{value:"key",className:"space-y-4",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"nsec",className:"text-sm font-medium",children:"Enter your nsec key"}),f.jsx(Ki,{type:"password",id:"nsec",value:c,onChange:E=>d(E.target.value),placeholder:"nsec1..."})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-sm mb-2",children:"Or upload a key file"}),f.jsx("input",{type:"file",accept:".txt",className:"hidden",ref:h,onChange:S}),f.jsx(qa,{variant:"outline",className:"w-full",onClick:()=>h.current?.click(),children:" Upload Nsec File"})]}),f.jsx(qa,{className:"w-full rounded-full py-6 mt-4",onClick:v,disabled:s||!c.trim(),children:s?"Connecting...":"Connect with Nsec"})]})}),f.jsxs(Eu,{value:"bunker",className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"bunkerUri",className:"text-sm font-medium",children:"Bunker URI"}),f.jsx(Ki,{id:"bunkerUri",value:m,onChange:E=>p(E.target.value),placeholder:"bunker://"}),m&&!m.startsWith("bunker://")&&f.jsx("p",{className:"text-red-500 text-xs",children:"URI must start with bunker://"})]}),f.jsx(qa,{className:"w-full rounded-full py-6",onClick:x,disabled:s||!m.trim()||!m.startsWith("bunker://"),children:s?"Connecting...":"Connect with Bunker"})]})]})})]})})};function YS(){const{user:a,logout:i}=It(),{connectionStatus:s}=Gt(),{profile:r,loading:c}=LS(a?.id),[d,m]=_.useState(!1),[p,h]=_.useState(!1),g=_.useRef(null);_.useEffect(()=>{const S=E=>{g.current&&!g.current.contains(E.target)&&m(!1)};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]);const y=()=>{m(!1),i()},v=()=>r?.name?r.name:r?.display_name?r.display_name:a?.name?a.name:"Nostr User",x=()=>v().charAt(0).toUpperCase();return f.jsxs("div",{className:"user-menu",ref:g,children:[f.jsxs("button",{className:"user-menu-trigger",onClick:()=>m(!d),title:v(),children:[c?f.jsx("div",{className:"user-avatar loading",children:f.jsx("span",{className:"loading-spinner",children:""})}):r?.picture?f.jsx("img",{src:r.picture,alt:v(),className:"user-avatar-img",onError:S=>{S.target.style.display="none",S.target.nextSibling.style.display="flex"}}):null,f.jsx("div",{className:"user-avatar-fallback",style:{display:r?.picture&&!c?"none":"flex"},children:x()})]}),d&&f.jsxs("div",{className:"user-menu-dropdown",children:[f.jsxs("div",{className:"user-menu-header",children:[f.jsx("div",{className:"user-menu-avatar",children:r?.picture?f.jsx("img",{src:r.picture,alt:v()}):f.jsx("div",{className:"user-menu-avatar-fallback",children:x()})}),f.jsxs("div",{className:"user-menu-info",children:[f.jsx("div",{className:"user-menu-name",children:v()}),r?.nip05&&f.jsx("div",{className:"user-menu-nip05",children:r.nip05}),f.jsxs("div",{className:"user-menu-pubkey",title:a?.pubkey,children:[a?.pubkey?.slice(0,8),"...",a?.pubkey?.slice(-8)]})]})]}),f.jsx("div",{className:"user-menu-divider"}),f.jsxs("div",{className:"user-menu-status",children:[f.jsxs("span",{className:`status-indicator ${s}`,children:[s==="connected"&&"",s==="connecting"&&"",s==="failed"&&"",s==="disconnected"&&""]}),f.jsxs("span",{className:"status-text",children:[s==="connected"&&"Connected to relays",s==="connecting"&&"Connecting to relays...",s==="failed"&&"Failed to connect",s==="disconnected"&&"Disconnected"]})]}),f.jsx("div",{className:"user-menu-divider"}),f.jsxs("button",{className:"user-menu-item",onClick:()=>m(!1),children:[f.jsx("span",{className:"user-menu-icon",children:""}),"View Profile"]}),f.jsxs("button",{className:"user-menu-item",onClick:()=>{m(!1),h(!0)},children:[f.jsx("span",{className:"user-menu-icon",children:""}),"Switch Account"]}),f.jsx("div",{className:"user-menu-divider"}),f.jsxs("button",{className:"user-menu-item logout",onClick:y,children:[f.jsx("span",{className:"user-menu-icon",children:""}),"Log Out"]})]}),f.jsx(Py,{isOpen:p,onClose:()=>h(!1)})]})}function VS({isOpen:a,onClose:i}){return Va(),_.useEffect(()=>{const s=r=>{a&&!r.target.closest(".menu-sidebar")&&!r.target.closest(".menu-btn")&&i()};return document.addEventListener("click",s),()=>document.removeEventListener("click",s)},[a,i]),_.useEffect(()=>{const s=r=>{r.key==="Escape"&&a&&i()};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[a,i]),f.jsxs(f.Fragment,{children:[f.jsx("div",{className:`menu-sidebar-overlay ${a?"active":""}`,onClick:i}),f.jsx("nav",{className:`menu-sidebar ${a?"open":""}`,children:f.jsxs("div",{className:"menu-sidebar-content",children:[f.jsxs("div",{className:"menu-sidebar-section",children:[f.jsx("h3",{className:"menu-sidebar-title",children:"Calendar"}),f.jsxs("ul",{className:"menu-sidebar-list",children:[f.jsx("li",{children:f.jsxs(ha,{to:"/",className:"menu-sidebar-link",onClick:i,children:[f.jsx("span",{className:"menu-icon",children:""}),"Calendar View"]})}),f.jsx("li",{children:f.jsxs(ha,{to:"/new-event",className:"menu-sidebar-link",onClick:i,children:[f.jsx("span",{className:"menu-icon",children:""}),"Create Public Event"]})})]})]}),f.jsxs("div",{className:"menu-sidebar-section",children:[f.jsx("h3",{className:"menu-sidebar-title",children:"Scheduling"}),f.jsxs("ul",{className:"menu-sidebar-list",children:[f.jsx("li",{children:f.jsxs(ha,{to:"/event-slots",className:"menu-sidebar-link",onClick:i,children:[f.jsx("span",{className:"menu-icon",children:""}),"Event Slots"]})}),f.jsx("li",{children:f.jsxs(ha,{to:"/bookings",className:"menu-sidebar-link",onClick:i,children:[f.jsx("span",{className:"menu-icon",children:""}),"Bookings"]})})]})]}),f.jsxs("div",{className:"menu-sidebar-section",children:[f.jsx("h3",{className:"menu-sidebar-title",children:"Settings"}),f.jsxs("ul",{className:"menu-sidebar-list",children:[f.jsx("li",{children:f.jsxs(ha,{to:"/settings",className:"menu-sidebar-link",onClick:i,children:[f.jsx("span",{className:"menu-icon",children:""}),"Preferences"]})}),f.jsx("li",{children:f.jsxs(ha,{to:"/settings",className:"menu-sidebar-link",onClick:i,children:[f.jsx("span",{className:"menu-icon",children:""}),"Notifications"]})})]})]})]})})]})}function GS({isOpen:a,onClose:i}){const[s,r]=_.useState(""),[c,d]=_.useState(!1),[m,p]=_.useState(""),[h,g]=_.useState("1000"),y="nostrcal@sats.love";_.useEffect(()=>{const E=()=>{d(!!window.webln)};a&&(E(),setTimeout(E,100))},[a]);const v=E=>{E.target===E.currentTarget&&i()},x=async()=>{try{await navigator.clipboard.writeText(y),r("Copied!"),setTimeout(()=>r(""),2e3)}catch(E){console.error("Failed to copy lightning address:",E),r("Failed to copy"),setTimeout(()=>r(""),2e3)}},S=async()=>{const E=parseInt(h);if(!E||E<1){p("Please enter a valid amount"),setTimeout(()=>p(""),2e3);return}try{p("Connecting to Alby..."),await window.webln.enable(),p("Creating payment request...");const[N,T]=y.split("@"),R=await(await fetch(`https://${T}/.well-known/lnurlp/${N}`)).json();if(!R.callback)throw new Error("Invalid lightning address");p("Requesting invoice...");const D=await(await fetch(`${R.callback}?amount=${E*1e3}`)).json();if(D.status==="ERROR")throw new Error(D.reason||"Failed to create invoice");if(!D.pr)throw new Error(`Failed to get payment request. Response: ${JSON.stringify(D)}`);p("Processing payment...");const k=await window.webln.sendPayment(D.pr);k&&k.preimage?(p(` Payment of ${E} sats sent! Thank you for supporting Nostrcal! `),setTimeout(()=>{p(""),i()},3e3)):(p("Payment cancelled"),setTimeout(()=>p(""),2e3))}catch(N){console.error("Payment failed:",N),N.message.includes("User rejected")||N.message.includes("cancelled")?p("Payment cancelled"):p("Payment failed. Please try copying the address instead."),setTimeout(()=>p(""),3e3)}};return a?f.jsx("div",{className:"modal-overlay",onClick:v,children:f.jsxs("div",{className:"donation-modal",children:[f.jsx("div",{className:"modal-header",children:f.jsx("button",{className:"close-btn",onClick:i,children:""})}),f.jsxs("div",{className:"modal-content",children:[f.jsx("div",{className:"donation-icon",children:""}),f.jsx("h2",{className:"donation-title",children:"Support Nostrcal"}),f.jsxs("div",{className:"donation-message",children:[f.jsxs("p",{children:["Nostrcal is an ",f.jsx("strong",{children:"open source"})," project developed by volunteers who believe in building the future of decentralized calendar applications."]}),f.jsxs("p",{children:["This project is developed ",f.jsx("strong",{children:"for free"})," and made available to everyone in the Nostr ecosystem. If you find it useful, consider supporting our development efforts with a lightning donation."]}),f.jsx("p",{children:"Every sat helps us maintain and improve Nostrcal for the entire community! "})]}),f.jsxs("div",{className:"lightning-section",children:[f.jsx("h3",{children:"Lightning Address"}),f.jsxs("div",{className:"lightning-address-container",children:[f.jsxs("div",{className:"lightning-address",onClick:x,title:"Click to copy",children:[f.jsx("span",{className:"lightning-icon",children:""}),f.jsx("span",{className:"address-text",children:y}),f.jsx("span",{className:"copy-icon",children:""})]}),s&&f.jsx("div",{className:"copy-status",children:s})]}),c&&f.jsxs("div",{className:"alby-section",children:[f.jsxs("div",{className:"alby-detected",children:[f.jsx("span",{className:"alby-icon",children:""}),f.jsx("span",{children:"Alby detected! Enter amount and pay directly."})]}),f.jsxs("div",{className:"amount-input-section",children:[f.jsx("input",{id:"amount-input",type:"number",className:"amount-input",value:h,onChange:E=>g(E.target.value.replace(/[^0-9]/g,"")),placeholder:"Amount (sats)",min:"1"}),f.jsxs("button",{className:"btn-primary lightning-btn inline-pay-btn",onClick:S,disabled:!!m,children:[f.jsx("span",{children:""}),"Pay with Alby"]})]})]})]}),!c&&f.jsxs("div",{className:"donation-actions",children:[f.jsxs("button",{className:"btn-primary lightning-btn",onClick:()=>window.open(`lightning:${y}`,"_blank"),children:[f.jsx("span",{children:""}),"Open in Wallet"]}),f.jsxs("button",{className:"btn-secondary copy-btn",onClick:x,children:[f.jsx("span",{children:""}),"Copy Address"]})]}),m&&f.jsx("div",{className:`payment-status ${m.includes("sent")?"success":m.includes("failed")||m.includes("cancelled")?"error":"info"}`,children:m}),f.jsx("div",{className:"thank-you",children:f.jsx("p",{children:"Thank you for supporting open source development! "})})]})]})}):null}const Iy=_.createContext(null);function ZS({children:a}){const[i,s]=_.useState(new Date),[r,c]=_.useState(new Date),[d,m]=_.useState("week"),M={currentDate:i,miniCalendarDate:r,view:d,navigateNext:()=>{s(D=>{const k=new Date(D);return d==="week"?k.setDate(k.getDate()+7):d==="month"?k.setMonth(k.getMonth()+1):d==="day"&&k.setDate(k.getDate()+1),k})},navigatePrevious:()=>{s(D=>{const k=new Date(D);return d==="week"?k.setDate(k.getDate()-7):d==="month"?k.setMonth(k.getMonth()-1):d==="day"&&k.setDate(k.getDate()-1),k})},navigateToToday:()=>{const D=new Date;s(D),c(D)},navigateToDate:D=>{s(new Date(D))},navigateMiniCalendarNext:()=>{c(D=>{const k=new Date(D);return k.setMonth(k.getMonth()+1),k})},navigateMiniCalendarPrevious:()=>{c(D=>{const k=new Date(D);return k.setMonth(k.getMonth()-1),k})},setCalendarView:D=>{m(D)},getFormattedMonth:()=>i.toLocaleDateString("en-US",{month:"long",year:"numeric"}),getWeekDates:()=>{const D=new Date(i),k=D.getDay(),O=D.getDate()-k;D.setDate(O);const B=[];for(let H=0;H<7;H++){const K=new Date(D);K.setDate(D.getDate()+H),B.push(K)}return B},getMiniCalendarDates:()=>{const D=r.getFullYear(),k=r.getMonth(),O=new Date(D,k,1),B=new Date(D,k+1,0),H=O.getDay(),K=B.getDate(),J=[];for(let ne=0;ne<H;ne++)J.push(null);for(let ne=1;ne<=K;ne++)J.push(new Date(D,k,ne));return J},getMiniCalendarMonthName:()=>r.toLocaleDateString("en-US",{month:"long",year:"numeric"}),isToday:D=>{const k=new Date;return D.toDateString()===k.toDateString()}};return f.jsx(Iy.Provider,{value:M,children:a})}function Cf(){const a=_.useContext(Iy);if(!a)throw new Error("useCalendar must be used within a CalendarProvider");return a}function XS(){const[a,i]=_.useState(0),[s,r]=_.useState(!0),{pool:c,isConnected:d}=Gt(),{user:m}=It();_.useEffect(()=>{if(m?.id&&d&&c){p();const g=setInterval(p,3e4);return()=>clearInterval(g)}},[m?.id,d,c]);const p=async()=>{try{r(!0);const g=await c.getBookingRequests(m.id),y=await c.getRSVPEvents(m.id),v=g.filter(x=>{const S=y.filter(T=>T.relatedRequest===`31923:${x.bookerPubkey}:${x.dTag}`||T.event?.tags?.some(j=>j[0]==="e"&&j[1]===x.id));return S.sort((T,j)=>j.createdAt-T.createdAt),(S[0]?.status||"pending")==="pending"});i(v.length)}catch(g){console.error("Failed to load pending bookings count:",g),i(0)}finally{r(!1)}};return{pendingCount:a,loading:s,refreshPendingCount:()=>{m?.id&&d&&c&&p()}}}function qr(){const[a,i]=_.useState(!1),[s,r]=_.useState(!1),c=Va(),{pendingCount:d}=XS(),{getFormattedMonth:m,navigateNext:p,navigatePrevious:h,navigateToToday:g,view:y,setCalendarView:v}=Cf(),x=()=>{i(!a)},S=()=>{i(!1)},E=()=>{r(!0)},N=()=>{r(!1)},T=()=>{c("/settings")},j=()=>{c("/bookings",{state:{activeTab:"pending"}})},R=D=>{v(D.target.value)},M=()=>m();return f.jsxs(f.Fragment,{children:[f.jsxs("header",{className:"header",children:[f.jsxs("div",{className:"header-left",children:[f.jsx("button",{className:"menu-btn",onClick:x,"aria-label":"Toggle menu",children:""}),f.jsxs("div",{className:"logo",children:[f.jsx("span",{className:"logo-icon",children:""}),f.jsx("span",{className:"logo-text",children:"nostrcal"})]})]}),f.jsxs("div",{className:"header-center",children:[f.jsx("button",{className:"today-btn",onClick:g,children:"Today"}),f.jsxs("div",{className:"nav-arrows",children:[f.jsx("button",{className:"nav-arrow",onClick:h,children:""}),f.jsx("button",{className:"nav-arrow",onClick:p,children:""})]}),f.jsx("span",{className:"current-month",children:M()})]}),f.jsxs("div",{className:"header-right",children:[f.jsx("button",{className:"icon-btn",onClick:E,title:"Support Nostrcal",children:""}),f.jsxs("button",{className:"icon-btn notification-btn",onClick:j,title:"Bookings",children:["",d>0&&f.jsx("span",{className:"notification-badge",children:d>99?"99+":d})]}),f.jsx("button",{className:"icon-btn",onClick:T,title:"Settings",children:""}),f.jsxs("select",{className:"view-selector",value:y,onChange:R,children:[f.jsx("option",{value:"day",children:"Day"}),f.jsx("option",{value:"week",children:"Week"}),f.jsx("option",{value:"month",children:"Month"})]}),f.jsx(YS,{})]})]}),f.jsx(VS,{isOpen:a,onClose:S}),f.jsx(GS,{isOpen:s,onClose:N})]})}function QS(){const{user:a}=It(),{isConnected:i}=Gt(),[s,r]=_.useState([]),[c,d]=_.useState([]),[m,p]=_.useState([]),[h,g]=_.useState(!1),[y,v]=_.useState(null),x=async()=>{if(!(!a?.pubkey||!i))try{g(!0);const T=await Ha.getEvents(a.pubkey,[31922]);r(T)}catch(T){console.error("Failed to load day events:",T),v(T.message)}finally{g(!1)}},S=async()=>{if(!(!a?.pubkey||!i))try{g(!0);const T=await Ha.getEvents(a.pubkey,[31923]);d(T)}catch(T){console.error("Failed to load time events:",T),v(T.message)}finally{g(!1)}},E=async()=>{if(!(!a?.pubkey||!i))try{g(!0);const T=await Ha.getRSVPs(a.pubkey);p(T)}catch(T){console.error("Failed to load RSVP events:",T),v(T.message)}finally{g(!1)}},N=async()=>{if(!(!a?.pubkey||!i))try{g(!0);const T=a.id||a.pubkey,{dayEvents:j,timeEvents:R,rsvpEvents:M}=await Ha.getAllUserEvents(T);r(j),d(R),p(M)}catch(T){console.error("Failed to load events:",T),v(T.message)}finally{g(!1)}};return _.useEffect(()=>{i&&a?.pubkey&&N()},[i,a?.pubkey]),{dayEvents:s,timeEvents:c,rsvpEvents:m,loading:h,error:y,loadDayEvents:x,loadTimeEvents:S,loadRSVPEvents:E,loadAllEvents:N}}function ql(){const[a,i]=_.useState([]),[s,r]=_.useState(!0),[c,d]=_.useState(null),{pool:m,isConnected:p}=Gt(),{user:h}=It();return _.useEffect(()=>{if(!h?.id||!p){h?.id||r(!1);return}(async()=>{try{r(!0),d(null),console.log("Fetching calendars for user:",h.id);const S=await m.getCalendars(h.id);console.log("Found calendars:",S),i(S)}catch(S){console.error("Failed to fetch calendars:",S),d(S.message)}finally{r(!1)}})()},[h?.id,p,m]),{calendars:a,loading:s,error:c,createCalendar:async(x,S="",E="#1a73e8")=>{try{d(null),console.log("Creating calendar:",{name:x,description:S,color:E});const N={id:"mock-"+Date.now(),dTag:Math.random().toString(36).substring(2,15),name:x,description:S,color:E,created_at:Math.floor(Date.now()/1e3),pubkey:h.id,relay:"local"};return i(T=>[N,...T]),N}catch(N){throw console.error("Failed to create calendar:",N),d(N.message),N}},deleteCalendar:async x=>{try{d(null),console.log("Deleting calendar:",x),i(S=>S.filter(E=>E.id!==x))}catch(S){throw console.error("Failed to delete calendar:",S),d(S.message),S}},updateCalendar:async(x,S)=>{try{d(null),console.log("Updating calendar:",x,S),i(E=>E.map(N=>N.id===x?{...N,...S}:N))}catch(E){throw console.error("Failed to update calendar:",E),d(E.message),E}},refetch:()=>{h?.id&&p&&(async()=>{try{r(!0);const S=await m.getCalendars(h.id);i(S)}catch(S){d(S.message)}finally{r(!1)}})()}}}const Wy=_.createContext();function KS({children:a}){const{dayEvents:i,timeEvents:s,rsvpEvents:r,loading:c,error:d}=QS(),{calendars:m}=ql(),[p,h]=_.useState({dayEvents:!0,timeEvents:!0,rsvps:!0}),[g,y]=_.useState(new Set),[v,x]=_.useState([]);_.useEffect(()=>{m.length>0&&y(new Set(m.map(D=>D.id)))},[m]);const S=()=>{const D=new Date,k=new Date(D);k.setDate(k.getDate()+1);const O=[{id:"mock-1",kind:31922,title:"Test Day Event",description:"This is a test all-day event",start:D.toISOString().split("T")[0],allDay:!0,color:"#4285f4"},{id:"mock-2",kind:31923,title:"Test Time Event",description:"This is a test timed event",start:new Date(D.getFullYear(),D.getMonth(),D.getDate(),14,0).toISOString(),end:new Date(D.getFullYear(),D.getMonth(),D.getDate(),15,0).toISOString(),allDay:!1,color:"#34a853"},{id:"mock-3",kind:31922,title:"Tomorrow Event",description:"Event for tomorrow",start:k.toISOString().split("T")[0],allDay:!0,color:"#4285f4"},{id:"mock-4",kind:31923,title:"Timezone Test Event",description:"Event with timezone information",start:Math.floor(new Date(D.getFullYear(),D.getMonth(),D.getDate(),16,0).getTime()/1e3).toString(),end:Math.floor(new Date(D.getFullYear(),D.getMonth(),D.getDate(),17,30).getTime()/1e3).toString(),startTimezone:"America/New_York",endTimezone:"America/New_York",allDay:!1,color:"#ff9900"},{id:"mock-5",kind:31923,title:"Cross-timezone Meeting",description:"Meeting spanning multiple time zones",start:Math.floor(new Date(D.getFullYear(),D.getMonth(),D.getDate(),10,0).getTime()/1e3).toString(),end:Math.floor(new Date(D.getFullYear(),D.getMonth(),D.getDate(),12,0).getTime()/1e3).toString(),startTimezone:"America/Los_Angeles",endTimezone:"America/New_York",allDay:!1,color:"#9c27b0"}];x(O),console.log("Added mock events with timezone support:",O)},E=D=>{h(k=>({...k,[D]:!k[D]}))},N=D=>{y(k=>{const O=new Set(k);return O.has(D)?O.delete(D):O.add(D),O})},T=D=>m.some(k=>{if(!g.has(k.id)||!k.eventReferences||k.eventReferences.length===0)return!1;const O=D.rawEvent?.tags?.find(H=>H[0]==="d")?.[1];if(!O)return!1;const B=`${D.kind}:${D.pubkey}:${O}`;return k.eventReferences.includes(B)}),j=D=>m.some(k=>{if(!k.eventReferences||k.eventReferences.length===0)return!1;const O=D.rawEvent?.tags?.find(H=>H[0]==="d")?.[1];if(!O)return!1;const B=`${D.kind}:${D.pubkey}:${O}`;return k.eventReferences.includes(B)}),M={dayEvents:i,timeEvents:s,rsvpEvents:r,loading:c,error:d,eventFilters:p,toggleEventFilter:E,getFilteredEvents:()=>{const D=[],k=new Set;v.length>0&&D.push(...v.filter(B=>!!(B.kind===31922&&p.dayEvents||B.kind===31923&&p.timeEvents)));const O=(B,H,K)=>{if(k.has(B.id))return;const J=T(B),ne=j(B);if(J){const ce=B.rawEvent?.tags?.find(re=>re[0]==="d")?.[1];if(ce){const re=`${B.kind}:${B.pubkey}:${ce}`,Y=m.find(L=>g.has(L.id)&&L.eventReferences?.includes(re));if(Y){D.push({...B,color:Y.color,source:"calendar"}),k.add(B.id);return}}}ne||(D.push({...B,color:H,source:K}),k.add(B.id))};return p.dayEvents&&i.forEach(B=>O(B,"#4285f4","dayEvents")),p.timeEvents&&s.forEach(B=>O(B,"#34a853","timeEvents")),p.rsvps&&r.forEach(B=>O(B,"#ea4335","rsvps")),D},addMockEvents:S,visibleCalendars:g,toggleCalendarVisibility:N};return f.jsx(Wy.Provider,{value:M,children:a})}function Rf(){const a=_.useContext(Wy);if(!a)throw new Error("useEventsContext must be used within an EventsProvider");return a}function JS(){const{navigateMiniCalendarNext:a,navigateMiniCalendarPrevious:i,getMiniCalendarDates:s,getMiniCalendarMonthName:r,navigateToDate:c,isToday:d}=Cf(),{getFilteredEvents:m}=Rf(),p=["S","M","T","W","T","F","S"],h=s(),g=r(),y=x=>{x&&c(x)},v=x=>{if(!x)return!1;const S=x.toISOString().split("T")[0];return m().some(N=>{if(!N.start)return!1;try{let T;return N.start.includes("T")?T=new Date(N.start).toISOString().split("T")[0]:N.start.includes("-")?T=N.start:T=new Date(parseInt(N.start)*1e3).toISOString().split("T")[0],T===S}catch{return!1}})};return f.jsxs("div",{className:"mini-calendar",children:[f.jsxs("div",{className:"mini-calendar-header",children:[f.jsx("span",{children:g}),f.jsxs("div",{className:"mini-calendar-nav",children:[f.jsx("button",{onClick:i,children:""}),f.jsx("button",{onClick:a,children:""})]})]}),f.jsxs("div",{className:"mini-calendar-grid",children:[p.map((x,S)=>f.jsx("div",{className:"mini-calendar-day-header",children:x},S)),h.map((x,S)=>f.jsx("div",{className:`mini-calendar-date ${x&&d(x)?"today":""} ${x?"clickable":""} ${x&&v(x)?"has-events":""}`,onClick:()=>y(x),children:x?x.getDate():""},S))]})]})}const PS=["#1a73e8","#34a853","#ea4335","#fbbc04","#9c27b0","#ff6d00","#795548","#607d8b","#e91e63","#00bcd4","#4caf50","#ff9800","#673ab7","#3f51b5","#009688"];function IS({isOpen:a,onClose:i,onCreateCalendar:s}){const[r,c]=_.useState(""),[d,m]=_.useState(""),[p,h]=_.useState("#1a73e8"),[g,y]=_.useState(!1),v=async S=>{if(S.preventDefault(),!!r.trim()){y(!0);try{await s(r.trim(),d.trim(),p),c(""),m(""),h("#1a73e8"),i()}catch(E){console.error("Failed to create calendar:",E),alert("Failed to create calendar. Please try again.")}finally{y(!1)}}},x=()=>{g||(c(""),m(""),h("#1a73e8"),i())};return f.jsx(Ky,{open:a,onOpenChange:x,children:f.jsxs(jf,{className:"sm:max-w-md",children:[f.jsxs(Jy,{children:[f.jsx(Af,{children:"Create New Calendar"}),f.jsx(Df,{children:"Create a new calendar to organize your events"})]}),f.jsxs("form",{onSubmit:v,className:"calendar-form",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"calendar-name",className:"form-label",children:"Calendar Name *"}),f.jsx(Ki,{id:"calendar-name",type:"text",value:r,onChange:S=>c(S.target.value),placeholder:"Enter calendar name",required:!0,disabled:g})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"calendar-description",className:"form-label",children:"Description"}),f.jsx(Ki,{id:"calendar-description",type:"text",value:d,onChange:S=>m(S.target.value),placeholder:"Enter calendar description (optional)",disabled:g})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Color"}),f.jsx("div",{className:"color-picker",children:PS.map(S=>f.jsx("button",{type:"button",className:`color-option ${p===S?"selected":""}`,style:{backgroundColor:S},onClick:()=>h(S),disabled:g,title:S},S))})]}),f.jsxs("div",{className:"form-actions",children:[f.jsx(qa,{type:"button",variant:"outline",onClick:x,disabled:g,children:"Cancel"}),f.jsx(qa,{type:"submit",disabled:!r.trim()||g,children:g?"Creating...":"Create Calendar"})]})]})]})})}function WS(){const{calendars:a,loading:i,createCalendar:s}=ql(),{dayEvents:r,timeEvents:c,rsvpEvents:d,eventFilters:m,toggleEventFilter:p,addMockEvents:h,visibleCalendars:g,toggleCalendarVisibility:y}=Rf(),[v,x]=_.useState(!1),S=N=>{y(N)},E=async(N,T,j)=>{const R=await s(N,T,j);y(R.id)};return f.jsxs("div",{className:"calendar-list",children:[f.jsxs("div",{className:"calendar-section",children:[f.jsxs("div",{className:"calendar-section-header",children:[f.jsx("h3",{className:"calendar-section-title",children:"My calendars"}),f.jsx("button",{className:"add-calendar-btn",onClick:()=>x(!0),title:"Create new calendar",children:"+"})]}),i?f.jsx("div",{className:"calendar-loading",children:"Loading calendars..."}):a.length===0?f.jsxs("div",{className:"calendar-empty",children:[f.jsx("p",{children:"No calendars found"}),f.jsx("button",{className:"create-first-calendar-btn",onClick:()=>x(!0),children:"Create your first calendar"})]}):a.map(N=>f.jsxs("div",{className:"calendar-item",children:[f.jsx("input",{type:"checkbox",checked:g.has(N.id),onChange:()=>S(N.id),style:{accentColor:N.color}}),f.jsx("div",{className:"calendar-color",style:{backgroundColor:N.color}}),f.jsx("span",{className:"calendar-name",title:N.description,children:N.name})]},N.id))]}),f.jsxs("div",{className:"calendar-section",children:[f.jsx("h3",{className:"calendar-section-title",children:"Event Types"}),f.jsxs("div",{className:"calendar-item",children:[f.jsx("input",{type:"checkbox",id:"day-events",checked:m.dayEvents,onChange:()=>p("dayEvents"),style:{accentColor:"#4285f4"}}),f.jsx("div",{className:"calendar-color",style:{backgroundColor:"#4285f4"}}),f.jsxs("span",{className:"calendar-name",children:["Day Events ",r.length>0&&`(${r.length})`]})]}),f.jsxs("div",{className:"calendar-item",children:[f.jsx("input",{type:"checkbox",id:"time-events",checked:m.timeEvents,onChange:()=>p("timeEvents"),style:{accentColor:"#34a853"}}),f.jsx("div",{className:"calendar-color",style:{backgroundColor:"#34a853"}}),f.jsxs("span",{className:"calendar-name",children:["Time Events ",c.length>0&&`(${c.length})`]})]}),f.jsxs("div",{className:"calendar-item",children:[f.jsx("input",{type:"checkbox",id:"rsvps",checked:m.rsvps,onChange:()=>p("rsvps"),style:{accentColor:"#ea4335"}}),f.jsx("div",{className:"calendar-color",style:{backgroundColor:"#ea4335"}}),f.jsxs("span",{className:"calendar-name",children:["RSVPs ",d.length>0&&`(${d.length})`]})]})]}),f.jsx(IS,{isOpen:v,onClose:()=>x(!1),onCreateCalendar:E})]})}function FS({isOpen:a,onClose:i,onEventCreated:s}){const r=Va(),{user:c}=It(),{pool:d}=Gt(),{calendars:m}=ql(),[p,h]=_.useState(""),[g,y]=_.useState(""),[v,x]=_.useState(""),[S,E]=_.useState(""),[N,T]=_.useState(""),[j,R]=_.useState(()=>{const se=Intl.DateTimeFormat().resolvedOptions().timeZone;return{"America/New_York":"America/New_York","America/Chicago":"America/Chicago","America/Denver":"America/Denver","America/Los_Angeles":"America/Los_Angeles","America/Phoenix":"America/Denver","America/Detroit":"America/New_York","America/Toronto":"America/New_York","America/Vancouver":"America/Los_Angeles","Europe/London":"Europe/London","Europe/Paris":"Europe/Paris","Europe/Berlin":"Europe/Berlin","Europe/Rome":"Europe/Rome","Europe/Madrid":"Europe/Paris","Europe/Amsterdam":"Europe/Paris","Asia/Tokyo":"Asia/Tokyo","Asia/Shanghai":"Asia/Shanghai","Asia/Seoul":"Asia/Seoul","Asia/Singapore":"Asia/Singapore","Asia/Kolkata":"Asia/Kolkata","Asia/Dubai":"Asia/Dubai","Australia/Sydney":"Australia/Sydney","Australia/Melbourne":"Australia/Sydney","Pacific/Honolulu":"Pacific/Honolulu","Pacific/Auckland":"Pacific/Auckland"}[se]||se}),[M,D]=_.useState(""),[k,O]=_.useState(""),[B,H]=_.useState(""),[K,J]=_.useState(""),[ne,ce]=_.useState(""),[re,Y]=_.useState(""),[L,A]=_.useState(""),[$,W]=_.useState(""),[ae,C]=_.useState(new Set),[Z,ee]=_.useState(!1),[le,P]=_.useState(!1);_.useEffect(()=>{if(a){const se=new Date,we=new Date(se.getTime()+30*6e4),Ce=new Date(we.getTime()+60*6e4);y(we.toISOString().split("T")[0]),x(we.toTimeString().slice(0,5)),E(Ce.toISOString().split("T")[0]),T(Ce.toTimeString().slice(0,5))}},[a]);const oe=se=>{se.target===se.currentTarget&&i()},ie=se=>{C(we=>{const Ce=new Set(we);return Ce.has(se)?Ce.delete(se):Ce.add(se),Ce})},ue=async()=>{if(!p.trim()){alert("Please enter a title for the event");return}if(!window.nostr){alert("Nostr extension not available");return}try{P(!0);const se={kind:Z?31922:31923,title:p.trim(),description:k.trim(),summary:B.trim(),image:K.trim(),location:M.trim(),geohash:$.trim(),hashtags:L.trim(),startTimezone:j,endTimezone:j};if(Z)se.start=g,se.end=S||g,console.log("All-day event debug:",{startDate:g,endDate:S,finalStart:se.start,finalEnd:se.end});else{const Fe=new Date(`${g}T${v}`),Ae=new Date(`${S}T${N}`);se.start=Math.floor(Fe.getTime()/1e3).toString(),se.end=Math.floor(Ae.getTime()/1e3).toString(),console.log("Time conversion debug:",{startDate:g,startTime:v,endDate:S,endTime:N,startDateTime:Fe.toISOString(),endDateTime:Ae.toISOString(),startUnix:se.start,endUnix:se.end,timezone:j})}console.log("Creating event with data:",se);const we=await d.createEvent(se);console.log("Generated event:",we),ne.trim()&&ne.split(",").map(Ae=>Ae.trim()).filter(Boolean).forEach(Ae=>{(Ae.startsWith("npub")||Ae.length===64)&&we.tags.push(["p",Ae])}),re.trim()&&re.split(",").map(Ae=>Ae.trim()).filter(Boolean).forEach(Ae=>{Ae.startsWith("http")&&we.tags.push(["r",Ae])}),L.trim()&&L.split(",").map(Ae=>Ae.trim().replace(/^#/,"")).filter(Boolean).forEach(Ae=>{we.tags.push(["t",Ae])}),console.log("Event before signing:",we);const Ce=await window.nostr.signEvent(we);console.log("Event after signing:",Ce);const Be=await d.publishEvent(Ce);console.log("Publish result:",Be),ae.size>0&&await pe(Ce,ae),alert("Event created successfully!"),s&&s(Ce),i(),Se()}catch(se){console.error("Failed to create event:",se),alert("Failed to create event: "+se.message)}finally{P(!1)}},pe=async(se,we)=>{for(const Ce of we)try{const Be=m.find(Ln=>Ln.id===Ce);if(!Be)continue;const Fe=`${se.kind}:${se.pubkey}:${se.tags.find(Ln=>Ln[0]==="d")?.[1]}`,Ae={kind:31924,created_at:Math.floor(Date.now()/1e3),tags:[["d",Be.dTag],["title",Be.name],["color",Be.color],["a",Fe]],content:JSON.stringify({name:Be.name,description:Be.description||""})},He=await window.nostr.signEvent(Ae);await d.publishEvent(He),console.log(`Updated calendar ${Be.name} with new event`)}catch(Be){console.error(`Failed to update calendar ${Ce}:`,Be)}},Se=()=>{h(""),D(""),O(""),H(""),J(""),ce(""),Y(""),A(""),W(""),C(new Set),ee(!1)},ke=()=>{const se={title:p,description:k,location:M,startDate:g,startTime:v,endDate:S,endTime:N,timezone:j,eventType:Z?"all-day":"timed",calendarId:ae.size>0?Array.from(ae)[0]:"",summary:B,image:K,guests:ne,references:re,hashtags:L,geohash:$,selectedCalendars:Array.from(ae)};r("/new-event",{state:{prefillData:se}}),i()};return a?f.jsx("div",{className:"modal-overlay",onClick:oe,children:f.jsxs("div",{className:"event-creation-modal",children:[f.jsx("div",{className:"modal-header",children:f.jsx("button",{className:"close-btn",onClick:i,children:""})}),f.jsxs("div",{className:"modal-content",children:[f.jsx("div",{className:"form-group title-group",children:f.jsx("input",{type:"text",placeholder:"Add title",className:"title-input",value:p,onChange:se=>h(se.target.value)})}),f.jsxs("div",{className:"form-group datetime-group",children:[f.jsx("div",{className:"datetime-icon",children:""}),f.jsxs("div",{className:"datetime-content",children:[f.jsx("div",{className:"datetime-controls",children:f.jsxs("label",{className:"all-day-toggle",children:[f.jsx("input",{type:"checkbox",checked:Z,onChange:se=>ee(se.target.checked)}),"All day"]})}),f.jsxs("div",{className:"datetime-inputs",children:[f.jsxs("div",{className:"datetime-row",children:[f.jsx("input",{type:"date",value:g,onChange:se=>y(se.target.value)}),!Z&&f.jsx("input",{type:"time",value:v,onChange:se=>x(se.target.value)}),!Z&&f.jsxs("select",{className:"timezone-select",value:j,onChange:se=>R(se.target.value),children:[f.jsx("option",{value:"Pacific/Niue",children:"UTC-11 (Niue)"}),f.jsx("option",{value:"Pacific/Honolulu",children:"UTC-10 (Hawaii)"}),f.jsx("option",{value:"Pacific/Marquesas",children:"UTC-9:30 (Marquesas)"}),f.jsx("option",{value:"America/Anchorage",children:"UTC-9 (Alaska)"}),f.jsx("option",{value:"America/Los_Angeles",children:"UTC-8 (Los Angeles)"}),f.jsx("option",{value:"America/Denver",children:"UTC-7 (Denver)"}),f.jsx("option",{value:"America/Chicago",children:"UTC-6 (Chicago)"}),f.jsx("option",{value:"America/New_York",children:"UTC-5 (New York)"}),f.jsx("option",{value:"America/Halifax",children:"UTC-4 (Halifax)"}),f.jsx("option",{value:"America/St_Johns",children:"UTC-3:30 (Newfoundland)"}),f.jsx("option",{value:"America/Sao_Paulo",children:"UTC-3 (So Paulo)"}),f.jsx("option",{value:"America/Noronha",children:"UTC-2 (Fernando de Noronha)"}),f.jsx("option",{value:"Atlantic/Azores",children:"UTC-1 (Azores)"}),f.jsx("option",{value:"UTC",children:"UTC+0 (UTC)"}),f.jsx("option",{value:"Europe/London",children:"UTC+0 (London)"}),f.jsx("option",{value:"Europe/Paris",children:"UTC+1 (Paris)"}),f.jsx("option",{value:"Europe/Berlin",children:"UTC+1 (Berlin)"}),f.jsx("option",{value:"Europe/Rome",children:"UTC+1 (Rome)"}),f.jsx("option",{value:"Europe/Athens",children:"UTC+2 (Athens)"}),f.jsx("option",{value:"Europe/Helsinki",children:"UTC+2 (Helsinki)"}),f.jsx("option",{value:"Africa/Cairo",children:"UTC+2 (Cairo)"}),f.jsx("option",{value:"Europe/Moscow",children:"UTC+3 (Moscow)"}),f.jsx("option",{value:"Africa/Nairobi",children:"UTC+3 (Nairobi)"}),f.jsx("option",{value:"Asia/Dubai",children:"UTC+4 (Dubai)"}),f.jsx("option",{value:"Asia/Kabul",children:"UTC+4:30 (Kabul)"}),f.jsx("option",{value:"Asia/Karachi",children:"UTC+5 (Karachi)"}),f.jsx("option",{value:"Asia/Kolkata",children:"UTC+5:30 (Mumbai)"}),f.jsx("option",{value:"Asia/Kathmandu",children:"UTC+5:45 (Kathmandu)"}),f.jsx("option",{value:"Asia/Dhaka",children:"UTC+6 (Dhaka)"}),f.jsx("option",{value:"Asia/Yangon",children:"UTC+6:30 (Yangon)"}),f.jsx("option",{value:"Asia/Bangkok",children:"UTC+7 (Bangkok)"}),f.jsx("option",{value:"Asia/Shanghai",children:"UTC+8 (Shanghai)"}),f.jsx("option",{value:"Asia/Singapore",children:"UTC+8 (Singapore)"}),f.jsx("option",{value:"Australia/Eucla",children:"UTC+8:45 (Eucla)"}),f.jsx("option",{value:"Asia/Tokyo",children:"UTC+9 (Tokyo)"}),f.jsx("option",{value:"Asia/Seoul",children:"UTC+9 (Seoul)"}),f.jsx("option",{value:"Australia/Adelaide",children:"UTC+9:30 (Adelaide)"}),f.jsx("option",{value:"Australia/Sydney",children:"UTC+10 (Sydney)"}),f.jsx("option",{value:"Australia/Lord_Howe",children:"UTC+10:30 (Lord Howe)"}),f.jsx("option",{value:"Pacific/Noumea",children:"UTC+11 (Noumea)"}),f.jsx("option",{value:"Pacific/Norfolk",children:"UTC+11:30 (Norfolk)"}),f.jsx("option",{value:"Pacific/Auckland",children:"UTC+12 (Auckland)"}),f.jsx("option",{value:"Pacific/Chatham",children:"UTC+12:45 (Chatham)"}),f.jsx("option",{value:"Pacific/Tongatapu",children:"UTC+13 (Tongatapu)"}),f.jsx("option",{value:"Pacific/Kiritimati",children:"UTC+14 (Kiritimati)"})]})]}),f.jsxs("div",{className:"datetime-row",children:[f.jsx("input",{type:"date",value:S,onChange:se=>E(se.target.value)}),!Z&&f.jsx("input",{type:"time",value:N,onChange:se=>T(se.target.value)})]})]})]})]}),f.jsxs("div",{className:"form-group action-group",children:[f.jsx("div",{className:"action-icon",children:""}),f.jsx("input",{type:"text",placeholder:"Brief summary (Optional)",value:B,onChange:se=>H(se.target.value)})]}),f.jsxs("div",{className:"form-group action-group",children:[f.jsx("div",{className:"action-icon",children:""}),f.jsx("input",{type:"text",placeholder:"Add guests - comma-separated pubkeys (Optional)",value:ne,onChange:se=>ce(se.target.value)})]}),f.jsxs("div",{className:"form-group action-group",children:[f.jsx("div",{className:"action-icon",children:""}),f.jsx("input",{type:"text",placeholder:"Add location (Optional)",value:M,onChange:se=>D(se.target.value)})]}),f.jsxs("div",{className:"form-group action-group",children:[f.jsx("div",{className:"action-icon",children:"#"}),f.jsx("input",{type:"text",placeholder:"Add hashtags - comma-separated (Optional)",value:L,onChange:se=>A(se.target.value)})]}),f.jsxs("div",{className:"form-group action-group",children:[f.jsx("div",{className:"action-icon",children:""}),f.jsx("input",{type:"text",placeholder:"Add image URL (Optional)",value:K,onChange:se=>J(se.target.value)})]}),f.jsxs("div",{className:"form-group action-group",children:[f.jsx("div",{className:"action-icon",children:""}),f.jsx("input",{type:"text",placeholder:"Add references - comma-separated URLs (Optional)",value:re,onChange:se=>Y(se.target.value)})]}),f.jsxs("div",{className:"form-group action-group",children:[f.jsx("div",{className:"action-icon",children:""}),f.jsx("input",{type:"text",placeholder:"Add geohash (Optional)",value:$,onChange:se=>W(se.target.value)})]}),f.jsx("div",{className:"form-group",children:f.jsx("textarea",{placeholder:"Add description (Optional)",value:k,onChange:se=>O(se.target.value),rows:"3"})}),m.length>0&&f.jsxs("div",{className:"form-group calendar-assignment",children:[f.jsx("h4",{children:"Add to calendars:"}),f.jsx("div",{className:"calendar-options",children:m.map(se=>f.jsxs("label",{className:"calendar-option",children:[f.jsx("input",{type:"checkbox",checked:ae.has(se.id),onChange:()=>ie(se.id)}),f.jsx("div",{className:"calendar-color",style:{backgroundColor:se.color}}),f.jsx("span",{className:"calendar-name",children:se.name})]},se.id))})]}),f.jsxs("div",{className:"modal-actions",children:[f.jsx("button",{className:"more-options-btn",onClick:ke,children:"More options"}),f.jsx("button",{className:"save-btn",onClick:ue,disabled:le,children:le?"Saving...":"Save"})]})]})]})}):null}function eN(){const[a,i]=_.useState(!1),s=r=>{console.log("New event created:",r)};return f.jsxs("aside",{className:"sidebar",children:[f.jsxs("button",{className:"create-btn",onClick:()=>i(!0),children:[f.jsx("span",{className:"create-icon",children:"+"}),f.jsx("span",{children:"Create"})]}),f.jsx(JS,{}),f.jsx(WS,{}),f.jsx(FS,{isOpen:a,onClose:()=>i(!1),onEventCreated:s})]})}function ep({event:a,isOpen:i,onClose:s}){const[r,c]=_.useState(!1),[d,m]=_.useState(null),[p,h]=_.useState(""),{pool:g}=Gt(),{calendars:y}=ql();_.useEffect(()=>{a&&a.pubkey&&g&&g.getProfile(a.pubkey).then(R=>{m(R)}).catch(R=>{console.error("Failed to fetch organizer profile:",R)})},[a,g]);const v=()=>{if(!a||!y)return null;const R=a.rawEvent?.tags?.find(D=>D[0]==="d")?.[1];if(!R)return null;const M=`${a.kind}:${a.pubkey}:${R}`;return y.find(D=>D.eventReferences?.includes(M))},x=async()=>{const R=v();if(!R||!a||!window.nostr){alert("Unable to remove event from calendar");return}if(window.confirm(`Remove "${a.title||"this event"}" from calendar "${R.name}"?

This will update the calendar to no longer reference this event.`))try{const D=a.rawEvent?.tags?.find(J=>J[0]==="d")?.[1];if(!D)throw new Error("Event does not have a d tag");const k=`${a.kind}:${a.pubkey}:${D}`,O=R.eventReferences?.filter(J=>J!==k)||[],B={kind:31924,created_at:Math.floor(Date.now()/1e3),tags:[["d",R.dTag],["title",R.name],["color",R.color],...O.map(J=>["a",J])],content:JSON.stringify({name:R.name,description:R.description||""})},H=await window.nostr.signEvent(B);if(!g||!g.relays)throw new Error("Nostr pool not available");const K=[];g.relays.forEach((J,ne)=>{J.connected&&K.push(new Promise((ce,re)=>{const Y=["EVENT",H];J.ws.send(JSON.stringify(Y)),setTimeout(()=>{ce()},1e3)}))}),await Promise.allSettled(K),alert(`Event removed from calendar "${R.name}"`),s()}catch(D){console.error("Failed to remove event from calendar:",D),alert("Failed to remove event from calendar: "+D.message)}};if(!i||!a)return null;const S=async()=>{if(a&&a.pubkey)try{const R=lt.npubEncode(a.pubkey);await navigator.clipboard.writeText(R),h("Copied!"),setTimeout(()=>h(""),2e3)}catch(R){console.error("Failed to copy npub:",R),h("Failed to copy"),setTimeout(()=>h(""),2e3)}},E=async()=>{if(!a||!window.nostr){alert("Nostr extension not available");return}const R=a.isRSVP?"remove your RSVP for":"delete";if(window.confirm(`Are you sure you want to ${R} "${a.title||"this event"}"?

This will publish a deletion event (NIP-09) to the relays. This action cannot be undone.`))try{let D=a.id,k=a.kind,O="Deleted event";a.isRSVP&&a.rsvpEventId&&(D=a.rsvpEventId,k=31925,O="Deleted RSVP");const B={kind:5,content:O,tags:[["e",D],["k",k.toString()]],created_at:Math.floor(Date.now()/1e3)},H=await window.nostr.signEvent(B);if(!g||!g.relays)throw new Error("Nostr pool not available");const K=[];g.relays.forEach((ne,ce)=>{ne.connected&&K.push(new Promise((re,Y)=>{const L=["EVENT",H];ne.ws.send(JSON.stringify(L)),setTimeout(()=>{re()},1e3)}))}),await Promise.allSettled(K);const J=a.isRSVP?"RSVP removal published to relays":"Delete event published to relays";alert(J),s()}catch(D){console.error("Failed to delete event:",D),alert("Failed to delete event: "+D.message)}},N=(R,M,D,k)=>{if(!R)return"No time specified";try{let O,B=!1;if(R.includes("T"))O=new Date(R);else if(R.includes("-")&&R.includes(":"))O=new Date(R);else if(R.includes("-")&&R.length===10)O=new Date(R+"T00:00:00"),B=!0;else if(!isNaN(R))O=new Date(parseInt(R)*1e3);else return R;const H={weekday:"long",year:"numeric",month:"long",day:"numeric"};B||(H.hour="numeric",H.minute="2-digit",D&&(H.timeZone=D));let K=O.toLocaleDateString("en-US",H);if(M&&M!==R){let J;if(M.includes("T"))J=new Date(M);else if(M.includes("-")&&M.includes(":"))J=new Date(M);else if(M.includes("-")&&M.length===10)J=new Date(M+"T00:00:00");else if(!isNaN(M))J=new Date(parseInt(M)*1e3);else return K;const ne=B?{year:"numeric",month:"long",day:"numeric"}:{hour:"numeric",minute:"2-digit"};!B&&k&&(ne.timeZone=k);const ce=J.toLocaleDateString("en-US",ne);K+=` - ${ce}`}return K}catch{return R}},T=R=>{R.target===R.currentTarget&&s()},j=()=>{c(!r)};return f.jsx("div",{className:"modal-overlay",onClick:T,children:f.jsxs("div",{className:"event-modal",children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("button",{className:"close-btn",onClick:s,children:""}),f.jsxs("div",{className:"options-container",children:[f.jsx("button",{className:"options-btn",onClick:j,children:""}),r&&f.jsxs("div",{className:"options-menu",children:[f.jsx("button",{className:"option-item",children:"Edit"}),f.jsx("button",{className:"option-item",onClick:E,children:a.isRSVP?"Remove RSVP":"Delete"}),v()&&f.jsx("button",{className:"option-item",onClick:x,children:"Remove from Calendar"}),f.jsx("button",{className:"option-item",children:"Share"})]})]})]}),f.jsxs("div",{className:"modal-content",children:[f.jsx("div",{className:"event-title",children:a.title||"Untitled Event"}),f.jsxs("div",{className:"event-details",children:[f.jsxs("div",{className:"event-time",children:[f.jsx("span",{className:"detail-icon",children:""}),f.jsx("span",{className:"detail-text",children:N(a.start,a.end,a.startTimezone,a.endTimezone)})]}),a.location&&f.jsxs("div",{className:"event-location",children:[f.jsx("span",{className:"detail-icon",children:""}),f.jsx("span",{className:"detail-text",children:a.location})]}),a.description&&f.jsxs("div",{className:"event-description",children:[f.jsx("span",{className:"detail-icon",children:""}),f.jsx("div",{className:"detail-text description-text",children:a.description})]}),a.rawEvent?.tags?.find(R=>R[0]==="summary")?.[1]&&f.jsxs("div",{className:"event-summary",children:[f.jsx("span",{className:"detail-icon",children:""}),f.jsx("div",{className:"detail-text",children:a.rawEvent.tags.find(R=>R[0]==="summary")[1]})]}),a.rawEvent?.tags?.find(R=>R[0]==="image")?.[1]&&f.jsxs("div",{className:"event-image",children:[f.jsx("span",{className:"detail-icon",children:""}),f.jsx("div",{className:"detail-text",children:f.jsx("a",{href:a.rawEvent.tags.find(R=>R[0]==="image")[1],target:"_blank",rel:"noopener noreferrer",children:"View Image"})})]}),a.rawEvent?.tags?.filter(R=>R[0]==="p").length>0&&f.jsxs("div",{className:"event-guests",children:[f.jsx("span",{className:"detail-icon",children:""}),f.jsxs("div",{className:"detail-text",children:[f.jsxs("strong",{children:["Guests (",a.rawEvent.tags.filter(R=>R[0]==="p").length,"):"]}),f.jsx("div",{className:"guests-list",children:a.rawEvent.tags.filter(R=>R[0]==="p").map((R,M)=>f.jsxs("div",{className:"guest-item",children:[R[1].startsWith("npub")?R[1]:lt.npubEncode(R[1]),R[3]&&f.jsxs("span",{className:"guest-role",children:[" (",R[3],")"]})]},M))})]})]}),a.rawEvent?.tags?.filter(R=>R[0]==="t").length>0&&f.jsxs("div",{className:"event-hashtags",children:[f.jsx("span",{className:"detail-icon",children:"#"}),f.jsxs("div",{className:"detail-text",children:[f.jsx("strong",{children:"Hashtags:"}),f.jsx("div",{className:"hashtags-list",children:a.rawEvent.tags.filter(R=>R[0]==="t").map((R,M)=>f.jsxs("span",{className:"hashtag",children:["#",R[1]]},M))})]})]}),a.rawEvent?.tags?.filter(R=>R[0]==="r").length>0&&f.jsxs("div",{className:"event-references",children:[f.jsx("span",{className:"detail-icon",children:""}),f.jsxs("div",{className:"detail-text",children:[f.jsx("strong",{children:"References:"}),f.jsx("div",{className:"references-list",children:a.rawEvent.tags.filter(R=>R[0]==="r").map((R,M)=>f.jsx("div",{className:"reference-item",children:f.jsx("a",{href:R[1],target:"_blank",rel:"noopener noreferrer",children:R[1]})},M))})]})]}),a.rawEvent?.tags?.find(R=>R[0]==="g")?.[1]&&f.jsxs("div",{className:"event-geohash",children:[f.jsx("span",{className:"detail-icon",children:""}),f.jsxs("div",{className:"detail-text",children:[f.jsx("strong",{children:"Geohash:"})," ",a.rawEvent.tags.find(R=>R[0]==="g")[1]]})]}),(a.startTimezone||a.endTimezone)&&f.jsxs("div",{className:"event-timezone",children:[f.jsx("span",{className:"detail-icon",children:""}),f.jsxs("span",{className:"detail-text",children:[a.startTimezone&&`Start: ${a.startTimezone}`,a.startTimezone&&a.endTimezone&&a.startTimezone!==a.endTimezone&&", ",a.endTimezone&&a.startTimezone!==a.endTimezone&&`End: ${a.endTimezone}`]})]}),f.jsxs("div",{className:"event-type",children:[f.jsx("span",{className:"detail-icon",children:""}),f.jsx("span",{className:"detail-text",children:a.kind===31922?"Day Event":a.kind===31923?"Time Event":a.isRSVP?"RSVP Event":"Event"})]}),v()&&f.jsxs("div",{className:"event-calendar",children:[f.jsx("span",{className:"detail-icon",children:""}),f.jsxs("span",{className:"detail-text",children:[f.jsx("strong",{children:"Calendar:"}),f.jsx("span",{className:"calendar-name-tag",style:{backgroundColor:v().color+"20",color:v().color,padding:"2px 8px",borderRadius:"4px",marginLeft:"8px",border:`1px solid ${v().color}40`},children:v().name})]})]}),a.pubkey&&f.jsxs("div",{className:"event-organizer",children:[f.jsx("span",{className:"detail-icon",children:""}),f.jsxs("span",{className:"detail-text organizer-name",onClick:S,title:"Click to copy npub",children:[d?.display_name||d?.name||lt.npubEncode(a.pubkey),p&&f.jsx("span",{className:"copy-status",children:p})]})]})]})]})]})})}function tN(){const{getWeekDates:a,isToday:i,view:s,currentDate:r,navigateToDate:c}=Cf(),{getFilteredEvents:d}=Rf(),m=a(),p=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],h=Array.from({length:24},(Y,L)=>L),g=_.useRef(null),[y,v]=_.useState(null),[x,S]=_.useState(!1),E=d(),N=Y=>{v(Y),S(!0)},T=()=>{S(!1),v(null)},j=Y=>{if(!Y)return[];const L=Y.getFullYear(),A=String(Y.getMonth()+1).padStart(2,"0"),$=String(Y.getDate()).padStart(2,"0"),W=`${L}-${A}-${$}`;return E.filter(ae=>{if(!ae.start)return!1;try{let C;if(ae.start.includes("T"))C=new Date(ae.start).toISOString().split("T")[0];else if(ae.start.includes("-"))C=ae.start.split("T")[0];else{if(isNaN(ae.start))return console.log("Unknown date format for event filtering:",ae.start),!1;{const Z=parseInt(ae.start)*1e3,ee=new Date(Z),le=ee.getFullYear(),P=String(ee.getMonth()+1).padStart(2,"0"),oe=String(ee.getDate()).padStart(2,"0");C=`${le}-${P}-${oe}`}}return C===W}catch(C){return console.error("Error parsing event date:",ae.start,C),!1}})},R=()=>{const Y={};return M().dates.forEach((A,$)=>{Y[$]=j(A)}),Y},M=()=>s==="day"?{dates:[r],dayLabels:[r.toLocaleDateString("en-US",{weekday:"long"})],gridCols:1}:s==="week"?{dates:m,dayLabels:p,gridCols:7}:s==="month"?D():{dates:m,dayLabels:p,gridCols:7},D=()=>{const Y=r.getFullYear(),L=r.getMonth(),A=new Date(Y,L,1),$=new Date(Y,L+1,0),W=A.getDay(),ae=$.getDate(),C=[];for(let Z=0;Z<W;Z++)C.push(null);for(let Z=1;Z<=ae;Z++)C.push(new Date(Y,L,Z));for(;C.length<42;)C.push(null);return{dates:C,dayLabels:p,gridCols:7}},k=M(),O=R(),B=Y=>{if(!Y.start)return 0;try{let L;if(Y.start.includes("T"))L=new Date(Y.start);else if(Y.start.includes("-")&&Y.start.includes(":"))L=new Date(Y.start);else if(!isNaN(Y.start))L=new Date(parseInt(Y.start)*1e3);else return console.log("Unknown date format for event hour:",Y.start),0;return L.getHours()}catch(L){return console.error("Error parsing event hour:",Y.start,L),0}},H=Y=>{if(!Y.start||!Y.end)return 1;try{let L,A;if(Y.start.includes("T"))L=new Date(Y.start);else if(Y.start.includes("-")&&Y.start.includes(":"))L=new Date(Y.start);else if(!isNaN(Y.start))L=new Date(parseInt(Y.start)*1e3);else return 1;if(Y.end.includes("T"))A=new Date(Y.end);else if(Y.end.includes("-")&&Y.end.includes(":"))A=new Date(Y.end);else if(!isNaN(Y.end))A=new Date(parseInt(Y.end)*1e3);else return 1;const W=(A.getTime()-L.getTime())/(1e3*60*60);return Math.max(.5,W)}catch(L){return console.error("Error calculating event duration:",L),1}},K=Y=>{if(!Y.start)return 0;try{let L;if(Y.start.includes("T"))L=new Date(Y.start);else if(Y.start.includes("-")&&Y.start.includes(":"))L=new Date(Y.start);else if(!isNaN(Y.start))L=new Date(parseInt(Y.start)*1e3);else return 0;return L.getMinutes()/60*48}catch(L){return console.error("Error calculating event offset:",L),0}},J=Y=>{if(!Y.start)return 0;try{let L;if(Y.start.includes("T"))L=new Date(Y.start);else if(Y.start.includes("-")&&Y.start.includes(":"))L=new Date(Y.start);else if(!isNaN(Y.start))L=new Date(parseInt(Y.start)*1e3);else return 0;return L.getTime()}catch(L){return console.error("Error getting event start time:",L),0}},ne=Y=>{if(!Y.end)return J(Y)+60*60*1e3;try{let L;if(Y.end.includes("T"))L=new Date(Y.end);else if(Y.end.includes("-")&&Y.end.includes(":"))L=new Date(Y.end);else if(!isNaN(Y.end))L=new Date(parseInt(Y.end)*1e3);else return J(Y)+60*60*1e3;return L.getTime()}catch(L){return console.error("Error getting event end time:",L),J(Y)+60*60*1e3}},ce=Y=>{const L=Y.filter(W=>!W.allDay),A=[];return[...L].sort((W,ae)=>J(W)-J(ae)).forEach((W,ae)=>{const C=J(W),Z=ne(W),ee=A.filter(ue=>{const pe=J(ue.event),Se=ne(ue.event);return C<Se&&Z>pe});let le=0;const P=ee.map(ue=>ue.column);for(;P.includes(le);)le++;const ie=Math.max(le,...P)+1;ee.forEach(ue=>{ue.totalColumns=Math.max(ue.totalColumns||1,ie)}),A.push({event:W,column:le,totalColumns:ie,startHour:B(W),duration:H(W),offset:K(W)})}),A},re=Y=>{if(!Y.start)return"";try{let L,A;if(Y.start.includes("T"))L=new Date(Y.start);else if(Y.start.includes("-")&&Y.start.includes(":"))L=new Date(Y.start);else if(!isNaN(Y.start))L=new Date(parseInt(Y.start)*1e3);else return console.log("Unknown date format for event time:",Y.start),Y.start;const $=ae=>{const C=ae.getHours(),Z=ae.getMinutes(),ee=C>=12?"PM":"AM",le=C%12||12,P=Z.toString().padStart(2,"0");return`${le}:${P} ${ee}`},W=$(L);if(Y.end)try{if(Y.end.includes("T")?A=new Date(Y.end):Y.end.includes("-")&&Y.end.includes(":")?A=new Date(Y.end):isNaN(Y.end)||(A=new Date(parseInt(Y.end)*1e3)),A){const ae=$(A);return`${W} - ${ae}`}}catch(ae){console.error("Error parsing end time:",Y.end,ae)}return W}catch(L){return console.error("Error formatting event time:",Y.start,L),Y.start}};return _.useEffect(()=>{setTimeout(()=>{if(g.current){const L=new Date().getHours(),$=Math.max(0,(L-2)*48);g.current.scrollTop=$}},100)},[]),_.useEffect(()=>{if(g.current){const Y=new Date().getHours(),A=Math.max(0,(Y-2)*48);g.current.scrollTop=A}},[s]),s==="month"?f.jsxs("main",{className:"calendar-view",children:[f.jsx("div",{className:"calendar-header",style:{gridTemplateColumns:`repeat(${k.gridCols}, 1fr)`},children:k.dayLabels.map((Y,L)=>f.jsx("div",{className:"day-header",children:f.jsx("div",{className:"day-name",children:Y})},L))}),f.jsx("div",{className:"month-view",children:k.dates.map((Y,L)=>f.jsxs("div",{className:`month-day ${Y&&i(Y)?"today":""} ${Y?"clickable":"empty"}`,onClick:()=>Y&&c(Y),children:[f.jsx("div",{className:"month-day-number",children:Y?Y.getDate():""}),Y&&O[L]&&O[L].length>0&&f.jsxs("div",{className:"month-events",children:[O[L].slice(0,3).map((A,$)=>f.jsx("div",{className:"month-event",style:{backgroundColor:A.color},title:A.title,onClick:W=>{W.stopPropagation(),N(A)},children:A.title},$)),O[L].length>3&&f.jsxs("div",{className:"month-event-more",children:["+",O[L].length-3," more"]})]})]},L))}),f.jsx(ep,{event:y,isOpen:x,onClose:T})]}):f.jsxs("main",{className:"calendar-view",children:[f.jsxs("div",{className:"calendar-header",style:{gridTemplateColumns:`60px repeat(${k.gridCols}, 1fr)`},children:[f.jsx("div",{className:"timezone",children:"GMT-04"}),k.dayLabels.map((Y,L)=>f.jsxs("div",{className:"day-header",children:[f.jsx("div",{className:"day-name",children:Y}),f.jsx("div",{className:`day-date ${k.dates[L]&&i(k.dates[L])?"today":""}`,children:k.dates[L]?k.dates[L].getDate():""})]},L))]}),f.jsxs("div",{className:"calendar-body",ref:g,children:[f.jsx("div",{className:"time-column",children:h.map(Y=>f.jsx("div",{className:"time-slot",children:Y===0?"":`${Y%12||12} ${Y<12?"AM":"PM"}`},Y))}),f.jsx("div",{className:"calendar-grid",style:{gridTemplateColumns:`repeat(${k.gridCols}, 1fr)`},children:k.dates.map((Y,L)=>f.jsxs("div",{className:"day-column",children:[O[L]?.filter(A=>A.allDay).map((A,$)=>f.jsx("div",{className:"all-day-event",style:{backgroundColor:A.color},onClick:()=>N(A),children:A.title},$)),f.jsxs("div",{className:"hour-cells",children:[h.map(A=>f.jsx("div",{className:"hour-cell",children:Y&&i(Y)&&A===new Date().getHours()&&f.jsx("div",{className:"current-time-block"})},A)),(()=>{const A=O[L]||[],$=ce(A),W=["#1a73e8","#34a853","#ea4335","#fbbc04","#9c27b0","#ff9800","#795548","#607d8b"];return $.map((ae,C)=>{const{event:Z,column:ee,totalColumns:le,startHour:P,duration:oe,offset:ie}=ae,ue=`${100/le-2}%`,pe=`${ee*100/le+1}%`,Se=Z.color||W[C%W.length];return f.jsxs("div",{className:"multi-hour-event",style:{backgroundColor:Se,top:`${P*48+ie}px`,height:`${oe*48}px`,minHeight:"24px",left:pe,width:ue,right:"auto"},onClick:()=>N(Z),children:[f.jsx("div",{className:"event-title",children:Z.title}),f.jsx("div",{className:"event-time",children:re(Z)})]},`${Z.id}-${C}`)})})()]})]},L))})]}),f.jsx(ep,{event:y,isOpen:x,onClose:T})]})}function Gi(){const[a,i]=_.useState(!1),s=()=>{i(!0)};return f.jsxs("div",{className:"login-page",children:[f.jsxs("div",{className:"login-container",children:[f.jsxs("div",{className:"login-header",children:[f.jsxs("div",{className:"logo",children:[f.jsx("span",{className:"logo-icon",children:""}),f.jsx("span",{className:"logo-text",children:"nostrcal"})]}),f.jsx("h1",{children:"Welcome to nostrcal"}),f.jsx("p",{children:"Your decentralized calendar powered by Nostr"})]}),f.jsx("div",{className:"login-content",children:f.jsxs("div",{className:"login-card",children:[f.jsx("h2",{children:"Get Started"}),f.jsx("p",{children:"Connect your Nostr account to access your calendar"}),f.jsxs("button",{className:"connect-btn",onClick:s,children:[f.jsx("span",{className:"connect-icon",children:""}),"Connect with Nostr"]}),f.jsxs("div",{className:"login-info",children:[f.jsx("p",{children:"Don't have a Nostr account? No problem!"}),f.jsx("p",{children:"We'll help you create one when you connect."})]})]})})]}),f.jsx(Py,{isOpen:a,onClose:()=>i(!1)})]})}const nN=[{key:"SU",name:"Sunday"},{key:"MO",name:"Monday"},{key:"TU",name:"Tuesday"},{key:"WE",name:"Wednesday"},{key:"TH",name:"Thursday"},{key:"FR",name:"Friday"},{key:"SA",name:"Saturday"}],tp={SU:{enabled:!1,start:"09:00",end:"17:00"},MO:{enabled:!0,start:"09:00",end:"17:00"},TU:{enabled:!0,start:"09:00",end:"17:00"},WE:{enabled:!0,start:"09:00",end:"17:00"},TH:{enabled:!0,start:"09:00",end:"17:00"},FR:{enabled:!0,start:"09:00",end:"17:00"},SA:{enabled:!1,start:"09:00",end:"17:00"}},aN=["Nostr Nests","HiveTalk","Corny Chat","Jitsi Video","Google Meet","Zoom","In Person","Phone Call"];function lN({template:a,calendars:i,onClose:s,onSave:r}){const[c,d]=_.useState(1),[m,p]=_.useState(!1),[h,g]=_.useState({title:"",description:"",duration:30,interval:30,location:"Jitsi Video",zapAmount:0,bufferBefore:5,bufferAfter:5,minNotice:60,maxAdvance:30,maxAdvanceBusiness:!1,calendarId:i[0]?.id||"",availability:tp}),{pool:y}=Gt(),{user:v}=It();_.useEffect(()=>{a&&g({title:a.title||"",description:a.description||"",duration:a.duration||30,interval:a.interval||30,location:a.location||"Jitsi Video",zapAmount:a.zapAmount||0,bufferBefore:a.bufferBefore||5,bufferAfter:a.bufferAfter||5,minNotice:a.minNotice||60,maxAdvance:a.maxAdvance||30,maxAdvanceBusiness:a.maxAdvanceBusiness||!1,calendarId:a.calendarId||i[0]?.id||"",availability:a.availability||tp})},[a,i]);const x=(O,B)=>{g(H=>({...H,[O]:B}))},S=(O,B,H)=>{g(K=>({...K,availability:{...K.availability,[O]:{...K.availability[O],[B]:H}}}))},E=()=>h.title.trim()?h.calendarId?!0:(alert("Please select a calendar."),!1):(alert("Please enter a title for your availability template."),!1),N=()=>Object.values(h.availability).some(B=>B.enabled)?!0:(alert("Please enable at least one day of the week."),!1),T=()=>{c===1&&E()&&d(2)},j=()=>{c===2&&d(1)},R=()=>"avail-"+Date.now()+"-"+Math.random().toString(36).substr(2,9),M=O=>{if(O===0)return"PT0S";if(O<60)return`PT${O}M`;const B=Math.floor(O/60),H=O%60;return H===0?`PT${B}H`:`PT${B}H${H}M`},D=O=>O===0?"P0D":`P${O}D`,k=async()=>{if(N()){p(!0);try{const O=a?.id||R();if(!i.find(ce=>ce.id===h.calendarId))throw new Error("Selected calendar not found");const H=[["d",O],["a",`31924:${v.id}:${h.calendarId}`],["title",h.title],["tzid",Intl.DateTimeFormat().resolvedOptions().timeZone],["duration",M(h.duration)],["interval",M(h.interval)],["amount_sats",h.zapAmount.toString()],["buffer_before",M(h.bufferBefore)],["buffer_after",M(h.bufferAfter)],["min_notice",M(h.minNotice)],["max_advance",D(h.maxAdvance)],["max_advance_business",h.maxAdvanceBusiness.toString()]];Object.entries(h.availability).filter(([ce,re])=>re.enabled).forEach(([ce,re])=>{H.push(["sch",ce,re.start,re.end])});const K={kind:31926,content:h.description,tags:H},J=await y.publishEvent(K),ne={id:O,title:h.title,description:h.description,duration:h.duration,interval:h.interval,location:h.location,zapAmount:h.zapAmount,bufferBefore:h.bufferBefore,bufferAfter:h.bufferAfter,minNotice:h.minNotice,maxAdvance:h.maxAdvance,maxAdvanceBusiness:h.maxAdvanceBusiness,calendarId:h.calendarId,availability:h.availability,event:J};r(ne)}catch(O){console.error("Error saving availability template:",O),alert("Failed to save template. Please try again.")}finally{p(!1)}}};return f.jsx("div",{className:"modal-overlay",children:f.jsxs("div",{className:"modal-content",children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("h2",{children:a?"Edit Availability Template":"Create Availability Template"}),f.jsx("button",{className:"close-btn",onClick:s,children:""})]}),f.jsxs("div",{className:"step-indicator",children:[f.jsx("div",{className:`step-dot ${c>=1?"active":""}`,children:"1"}),f.jsx("div",{className:`step-dot ${c>=2?"active":""}`,children:"2"})]}),c===1&&f.jsxs("div",{className:"modal-step",children:[f.jsx("h3",{children:"Template Details"}),f.jsx("p",{className:"step-description",children:"Set up a template that others can use to book time with you."}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Title *"}),f.jsx("input",{type:"text",className:"form-input",value:h.title,onChange:O=>x("title",O.target.value),placeholder:"Quick Chat"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Description"}),f.jsx("textarea",{className:"form-textarea",value:h.description,onChange:O=>x("description",O.target.value),placeholder:"A quick video meeting to discuss your needs.",rows:"3"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Calendar *"}),f.jsx("select",{className:"form-select",value:h.calendarId,onChange:O=>x("calendarId",O.target.value),children:i.map(O=>f.jsx("option",{value:O.id,children:O.title},O.id))})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Meeting Duration (minutes)"}),f.jsx("input",{type:"number",className:"form-input",value:h.duration,onChange:O=>x("duration",parseInt(O.target.value)),min:"15",max:"480"}),f.jsx("small",{className:"form-help",children:"How long each booking appointment will last"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Slot Interval (minutes)"}),f.jsx("input",{type:"number",className:"form-input",value:h.interval,onChange:O=>x("interval",parseInt(O.target.value)),min:"15",max:"480"}),f.jsx("small",{className:"form-help",children:"Gap between starts of consecutive slots"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Location Type"}),f.jsx("select",{className:"form-select",value:h.location,onChange:O=>x("location",O.target.value),children:aN.map(O=>f.jsx("option",{value:O,children:O},O))})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Required Zap Amount (sats)"}),f.jsx("input",{type:"number",className:"form-input",value:h.zapAmount,onChange:O=>x("zapAmount",parseInt(O.target.value)||0),min:"0",placeholder:"0"}),f.jsx("small",{className:"form-help",children:"Amount in satoshis required for booking (0 = free)"})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Buffer Before (minutes)"}),f.jsx("input",{type:"number",className:"form-input",value:h.bufferBefore,onChange:O=>x("bufferBefore",parseInt(O.target.value)||0),min:"0"}),f.jsx("small",{className:"form-help",children:"Time to reserve before each booking"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Buffer After (minutes)"}),f.jsx("input",{type:"number",className:"form-input",value:h.bufferAfter,onChange:O=>x("bufferAfter",parseInt(O.target.value)||0),min:"0"}),f.jsx("small",{className:"form-help",children:"Time to reserve after each booking"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Minimum Notice (minutes)"}),f.jsx("input",{type:"number",className:"form-input",value:h.minNotice,onChange:O=>x("minNotice",parseInt(O.target.value)||0),min:"0"}),f.jsx("small",{className:"form-help",children:"How much advance notice you need for bookings"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Maximum Advance Booking (days)"}),f.jsx("input",{type:"number",className:"form-input",value:h.maxAdvance,onChange:O=>x("maxAdvance",parseInt(O.target.value)||0),min:"0"}),f.jsx("small",{className:"form-help",children:"How far in advance people can book (0 = unlimited)"})]}),f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{className:"checkbox-label",children:[f.jsx("input",{type:"checkbox",className:"form-checkbox",checked:h.maxAdvanceBusiness,onChange:O=>x("maxAdvanceBusiness",O.target.checked)}),f.jsx("span",{className:"checkmark"}),"Count only business days for advance booking limit"]}),f.jsx("small",{className:"form-help",children:"If checked, weekends don't count toward the advance booking limit"})]})]}),c===2&&f.jsxs("div",{className:"modal-step",children:[f.jsx("h3",{children:"Set Your Weekly Availability"}),f.jsx("p",{className:"step-description",children:"Configure when people can book time slots with you during the week."}),f.jsx("div",{className:"availability-editor",children:nN.map(O=>f.jsxs("div",{className:"day-row",children:[f.jsxs("div",{className:"day-toggle",children:[f.jsx("input",{type:"checkbox",className:"day-checkbox",checked:h.availability[O.key].enabled,onChange:B=>S(O.key,"enabled",B.target.checked)}),f.jsx("label",{className:`day-name ${h.availability[O.key].enabled?"":"disabled"}`,children:O.name})]}),h.availability[O.key].enabled?f.jsxs("div",{className:"time-inputs",children:[f.jsx("input",{type:"time",className:"time-input",value:h.availability[O.key].start,onChange:B=>S(O.key,"start",B.target.value)}),f.jsx("span",{className:"time-separator",children:"-"}),f.jsx("input",{type:"time",className:"time-input",value:h.availability[O.key].end,onChange:B=>S(O.key,"end",B.target.value)})]}):f.jsx("span",{className:"unavailable-text",children:"Unavailable"})]},O.key))})]}),f.jsxs("div",{className:"modal-actions",children:[c===1&&f.jsxs(f.Fragment,{children:[f.jsx("button",{className:"btn-secondary",onClick:s,children:"Cancel"}),f.jsx("button",{className:"btn-primary",onClick:T,children:"Continue"})]}),c===2&&f.jsxs(f.Fragment,{children:[f.jsx("button",{className:"btn-secondary",onClick:j,children:"Back"}),f.jsx("button",{className:"btn-primary",onClick:k,disabled:m,children:m?"Saving...":a?"Save Changes":"Create Template"})]})]})]})})}function iN(){const[a,i]=_.useState([]),[s,r]=_.useState(!0),[c,d]=_.useState(""),[m,p]=_.useState(!1),[h,g]=_.useState(null),{pool:y,isConnected:v}=Gt(),{user:x}=It(),{calendars:S}=ql();_.useEffect(()=>{x?.id&&v&&E()},[x?.id,v,y]);const E=async()=>{try{r(!0);const H=await y.getAvailabilityTemplates(x.id);i(H)}catch(H){console.error("Failed to load availability templates:",H)}finally{r(!1)}},N=()=>{g(null),p(!0)},T=H=>{g(H),p(!0)},j=async H=>{const K=a.find(J=>J.id===H);if(K&&window.confirm(`Are you sure you want to delete "${K.title}"? This will remove the template and its booking link.`))try{await y.deleteAvailabilityTemplate(H),i(J=>J.filter(ne=>ne.id!==H))}catch(J){console.error("Failed to delete template:",J),alert("Failed to delete template. Please try again.")}},R=H=>{i(h?K=>K.map(J=>J.id===H.id?H:J):K=>[H,...K]),p(!1),g(null)},M=H=>{const K=window.location.origin,J=`naddr1${x.id.slice(0,8)}31926${H.id}`;return`${K}/booking?naddr=nostr:${J}`},D=H=>{const K=M(H);navigator.clipboard.writeText(K).then(()=>{alert("Booking link copied to clipboard!")}).catch(()=>{alert("Failed to copy link. Please try again.")})},k=H=>{if(H<60)return`${H}m`;const K=Math.floor(H/60),J=H%60;return J>0?`${K}h ${J}m`:`${K}h`},O=H=>Object.entries(H).filter(([J,ne])=>ne.enabled).map(([J])=>J).join(", ")||"No days enabled",B=a.filter(H=>H.title.toLowerCase().includes(c.toLowerCase())||H.description.toLowerCase().includes(c.toLowerCase()));return f.jsxs("div",{className:"event-slots-page",children:[f.jsx(qr,{}),f.jsxs("div",{className:"event-slots-container",children:[f.jsx("div",{className:"event-slots-header",children:f.jsxs("div",{className:"header-content",children:[f.jsxs("div",{children:[f.jsx("h1",{children:"Availability Templates"}),f.jsx("p",{children:"Create availability templates and share booking links for people to reserve time with you."})]}),f.jsxs("button",{className:"create-template-btn",onClick:N,children:[f.jsx("span",{className:"icon-plus",children:"+"}),"New Template"]})]})}),f.jsxs("div",{className:"event-slots-content",children:[f.jsx("div",{className:"search-section",children:f.jsx("input",{type:"text",className:"search-input",placeholder:"Search availability templates...",value:c,onChange:H=>d(H.target.value)})}),s?f.jsxs("div",{className:"loading-state",children:[f.jsx("div",{className:"spinner"}),"Loading your availability templates..."]}):B.length===0?f.jsxs("div",{className:"empty-state",children:[f.jsx("div",{className:"empty-icon",children:""}),f.jsx("h3",{children:"No availability templates yet"}),f.jsx("p",{children:"Create your first availability template to start accepting bookings."}),f.jsxs("button",{className:"create-template-btn",onClick:N,children:[f.jsx("span",{className:"icon-plus",children:"+"}),"Create Template"]})]}):f.jsx("div",{className:"availability-templates-grid",children:B.map(H=>f.jsxs("div",{className:"template-card",children:[f.jsxs("div",{className:"template-header",children:[f.jsx("h3",{children:H.title}),f.jsxs("div",{className:"template-actions",children:[f.jsx("button",{className:"icon-btn",onClick:()=>T(H),title:"Edit template",children:""}),f.jsx("button",{className:"icon-btn",onClick:()=>D(H),title:"Copy booking link",children:""}),f.jsx("button",{className:"icon-btn delete-btn",onClick:()=>j(H.id),title:"Delete template",children:""})]})]}),f.jsx("p",{className:"template-description",children:H.description}),f.jsxs("div",{className:"template-meta",children:[f.jsxs("div",{className:"meta-item",children:[f.jsx("span",{className:"meta-icon",children:""}),f.jsx("span",{children:k(H.duration)})]}),f.jsxs("div",{className:"meta-item",children:[f.jsx("span",{className:"meta-icon",children:""}),f.jsx("span",{children:O(H.availability)})]}),f.jsxs("div",{className:"meta-item",children:[f.jsx("span",{className:"meta-icon",children:""}),f.jsxs("span",{children:[H.zapAmount||0," sats"]})]}),(H.bufferBefore>0||H.bufferAfter>0)&&f.jsxs("div",{className:"meta-item",children:[f.jsx("span",{className:"meta-icon",children:""}),f.jsxs("span",{children:[H.bufferBefore,"m/",H.bufferAfter,"m buffer"]})]}),H.minNotice>0&&f.jsxs("div",{className:"meta-item",children:[f.jsx("span",{className:"meta-icon",children:""}),f.jsxs("span",{children:[H.minNotice,"m notice"]})]}),f.jsxs("div",{className:"meta-item",children:[f.jsx("span",{className:"meta-icon",children:""}),f.jsxs("span",{children:[H.maxAdvance===0?"Unlimited":`${H.maxAdvance} days`," advance"]})]})]}),f.jsxs("div",{className:"booking-link",children:[f.jsx("strong",{children:"Booking Link:"}),f.jsx("div",{className:"link-display",children:M(H)})]})]},H.id))})]})]}),m&&f.jsx(lN,{template:h,calendars:S,onClose:()=>{p(!1),g(null)},onSave:R})]})}const np=["SU","MO","TU","WE","TH","FR","SA"];function ap(){const[a]=Q1(),{pool:i}=Gt(),[s,r]=_.useState("input"),[c,d]=_.useState(""),[m,p]=_.useState(null),[h,g]=_.useState(null),[y,v]=_.useState(new Map),[x,S]=_.useState(new Date),[E,N]=_.useState(null),[T,j]=_.useState(null),[R,M]=_.useState(""),[D,k]=_.useState(""),[O,B]=_.useState(!1);_.useEffect(()=>{const P=a.get("naddr"),oe=window.location.hash.slice(1);let ie=P||oe;if(!ie&&window.location.pathname.includes("/booking/")){const ue=window.location.pathname.split("/booking/");ue.length>1&&ue[1]&&(ie=decodeURIComponent(ue[1]))}ie&&(ie.startsWith("nostr:")||(ie="nostr:"+ie),d(ie),setTimeout(()=>J(ie),500))},[a]);const H=P=>{try{if(P.split(":").length<2)throw new Error("Invalid naddr format");return{kind:31926,identifier:K(P)}}catch(oe){throw new Error("Could not parse naddr: "+oe.message)}},K=P=>{try{const oe=P.match(/31926(.+)$/);if(oe)return oe[1];const ie=P.match(/avail-[\w-]+/);return ie?ie[0]:"avail-weekly"}catch{return"avail-weekly"}},J=async(P=c)=>{if(!P||!P.startsWith("nostr:naddr")){M('Please enter a valid naddr booking link starting with "nostr:naddr"');return}r("loading"),M("");try{const oe=H(P),ie=await i.getAvailabilityTemplate(oe.identifier);if(!ie)throw new Error("No availability template found for this link");g(ie.ownerPubkey),p(ie);const ue=await i.getBusyTimes(ie.ownerPubkey,ie.calendarRef);v(new Map(ue)),r("booking")}catch(oe){M("Failed to load availability: "+oe.message),r("error")}},ne=()=>{r("input"),p(null),g(null),v(new Map),N(null),j(null)},ce=P=>{if(!m)return!1;const oe=np[P.getDay()];if(!m.weeklyAvailability[oe]||!m.weeklyAvailability[oe].enabled)return!1;if(m.maxAdvanceDays!==null){const ie=new Date;ie.setHours(0,0,0,0);const ue=new Date(ie);if(ue.setDate(ie.getDate()+m.maxAdvanceDays),P>ue)return!1}return!0},re=P=>{if(!m||!m.minNotice)return!0;const oe=new Date,ie=new Date(oe.getTime()+m.minNotice*60*1e3),ue=new Date(P);return ue.setHours(23,59,59,999),ue>=ie},Y=P=>{N(P),j(null)},L=(P,oe)=>{const ie=[],{start:ue,end:pe}=oe,Se=m.duration,ke=m.interval||Se,[se,we]=ue.split(":").map(Number),[Ce,Be]=pe.split(":").map(Number),Fe=se*60+we,Ae=Ce*60+Be;for(let He=Fe;He<Ae&&!(He+Se>Ae);He+=ke){const Ln=Math.floor(He/60),$l=He%60,fn=new Date(P);fn.setHours(Ln,$l,0,0);const dn=new Date(fn);dn.setMinutes(dn.getMinutes()+Se);const Wi=new Date,Fi=new Date(Wi.getTime()+m.minNotice*60*1e3),$r=fn<=Wi,Yr=fn<Fi,va=A(fn,dn);ie.push({start:fn,end:dn,display:$(Ln,$l),available:!$r&&!Yr&&!va})}return ie},A=(P,oe)=>{const ie=P.toISOString().split("T")[0],ue=y.get(ie)||[],pe=m?.bufferBefore||0,Se=m?.bufferAfter||0;return ue.some(ke=>{const se=new Date(ke.start.getTime()-Se*60*1e3),we=new Date(ke.end.getTime()+pe*60*1e3);return P<we&&oe>se})},$=(P,oe)=>{const ie=P>=12?"PM":"AM",ue=P===0?12:P>12?P-12:P,pe=oe.toString().padStart(2,"0");return`${ue}:${pe} ${ie}`},W=P=>{P.available&&j(P)},ae=async()=>{if(!T||!E){M("Please select a date and time first.");return}if(!(m.zapAmount&&m.zapAmount>0&&!window.confirm(`This booking requires a ${m.zapAmount} sats zap. Do you want to proceed?`)))try{B(!0),k("Creating booking request...");const P=await C();k(" Booking request sent successfully! The host will receive your request and can accept or decline it."),setTimeout(()=>{ne()},5e3)}catch(P){k(" Failed to create booking: "+P.message)}finally{B(!1)}},C=async()=>{if(!window.nostr)throw new Error("Please connect with Nostr to make a booking");const P=await window.nostr.getPublicKey(),oe=Math.floor(T.start.getTime()/1e3),ie=Math.floor(T.end.getTime()/1e3),ue={kind:31923,created_at:Math.floor(Date.now()/1e3),tags:[["d",`booking-${Date.now()}-${Math.random().toString(36).substr(2,9)}`],["title","Meeting Request"],["start",oe.toString()],["end",ie.toString()],["summary",`Booking request from ${P.slice(0,8)}...`],["start_tzid",m.timezone],["end_tzid",m.timezone],["location",m.location||"Online Meeting"],["p",h,"","attendee"],["p",P,"","organizer"],["a",`31926:${h}:${m.identifier}`],["t","booking-request"]],content:`Meeting request for ${T.display} on ${E.toLocaleDateString()}. ${m.description||""}`},pe=await window.nostr.signEvent(ue);return await i.publishEvent(pe)},Z=()=>{const P=x.getFullYear(),oe=x.getMonth(),ie=new Date(P,oe,1),ue=new Date(ie);ue.setDate(ue.getDate()-ie.getDay());const pe=[];for(let Se=0;Se<42;Se++){const ke=new Date(ue);ke.setDate(ue.getDate()+Se);const se=ke.getMonth()===oe,we=ke.toDateString()===new Date().toDateString(),Ce=E&&ke.toDateString()===E.toDateString(),Be=ce(ke),Fe=ke<new Date().setHours(0,0,0,0),Ae=!re(ke);let He="booking-calendar-day";se||(He+=" other-month"),Ce&&(He+=" selected"),we&&(He+=" today"),(Fe||Ae||!Be)&&(He+=" unavailable"),Be&&!Fe&&!Ae&&(He+=" available"),pe.push(f.jsx("div",{className:He,onClick:()=>Be&&!Fe&&!Ae&&Y(ke),children:f.jsx("div",{className:"booking-day-number",children:ke.getDate()})},Se))}return pe},ee=()=>{if(!E||!m)return f.jsx("div",{className:"no-times",children:" Select a date to see available times"});const P=np[E.getDay()],oe=m.weeklyAvailability[P];if(!oe)return f.jsx("div",{className:"no-times",children:"No availability on this day"});const ie=L(E,oe);return ie.length===0?f.jsx("div",{className:"no-times",children:"No available times"}):ie.map((ue,pe)=>f.jsx("button",{className:`booking-time-slot ${ue.available?"":"disabled"} ${T&&T.start.getTime()===ue.start.getTime()?"selected":""}`,disabled:!ue.available,onClick:()=>W(ue),children:ue.display},pe))},le=P=>{S(new Date(x.getFullYear(),x.getMonth()+P,1)),N(null),j(null)};return s==="input"?f.jsx("div",{className:"booking-page",children:f.jsxs("div",{className:"booking-input",children:[f.jsx("h1",{children:" Book an Appointment"}),f.jsx("p",{children:"Enter your Nostr booking link (naddr) to view available time slots and schedule your appointment on the decentralized web."}),f.jsxs("div",{className:"input-form",children:[f.jsx("input",{type:"text",className:"naddr-input",value:c,onChange:P=>d(P.target.value),placeholder:"nostr:naddr1...",onKeyPress:P=>P.key==="Enter"&&J()}),f.jsx("button",{className:"load-btn",onClick:()=>J(),children:"Load Availability"})]}),R&&f.jsx("div",{className:"error-message",children:R})]})}):s==="loading"?f.jsx("div",{className:"booking-page",children:f.jsxs("div",{className:"loading-state",children:[f.jsx("div",{className:"spinner"}),f.jsx("p",{children:"Loading availability..."})]})}):s==="error"?f.jsx("div",{className:"booking-page",children:f.jsxs("div",{className:"error-state",children:[f.jsx("h2",{children:" Error"}),f.jsx("p",{children:R}),f.jsx("button",{className:"back-btn",onClick:ne,children:" Try Again"})]})}):s==="booking"&&m?f.jsx("div",{className:"booking-page",children:f.jsxs("div",{className:"booking-interface",children:[f.jsx("button",{className:"back-btn",onClick:ne,children:" Back to link entry"}),f.jsxs("div",{className:"event-header",children:[f.jsx("div",{className:"host-avatar",children:h?.slice(0,2).toUpperCase()||""}),f.jsxs("div",{className:"event-info",children:[f.jsx("h2",{children:m.title}),f.jsx("p",{className:"event-description",children:m.description}),f.jsxs("div",{className:"event-meta",children:[f.jsxs("span",{children:[" ",m.duration," min"]}),f.jsxs("span",{children:[" ",m.timezone]}),f.jsxs("span",{children:[" ",m.location]})]})]})]}),f.jsxs("div",{className:"booking-content",children:[f.jsxs("div",{className:"booking-calendar-section",children:[f.jsxs("div",{className:"booking-calendar-controls",children:[f.jsx("h3",{children:x.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),f.jsxs("div",{className:"month-nav",children:[f.jsx("button",{onClick:()=>le(-1),children:" Previous"}),f.jsx("button",{onClick:()=>le(1),children:"Next "})]})]}),f.jsxs("div",{className:"booking-calendar-grid",children:[f.jsx("div",{className:"booking-calendar-header",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(P=>f.jsx("div",{className:"booking-calendar-header-day",children:P},P))}),f.jsx("div",{className:"booking-calendar-body",children:Z()})]})]}),f.jsxs("div",{className:"time-slots-section",children:[f.jsx("div",{className:"selected-date",children:E?E.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}):"Select a date"}),f.jsx("div",{className:"timezone-display",children:Intl.DateTimeFormat().resolvedOptions().timeZone}),f.jsx("div",{className:"time-slots",children:ee()}),T&&f.jsx("button",{className:"book-btn",onClick:ae,disabled:O,children:O?"Booking...":" Request Booking"})]})]}),D&&f.jsx("div",{className:"booking-status",children:D})]})}):null}function sN(){const a=Pt(),[i,s]=_.useState([]),[r,c]=_.useState(!0),[d,m]=_.useState(""),[p,h]=_.useState(a.state?.activeTab||"pending"),{pool:g,isConnected:y}=Gt(),{user:v}=It();_.useEffect(()=>{v?.id&&y&&x()},[v?.id,y,g]);const x=async()=>{try{c(!0);const D=await g.getBookingRequests(v.id),k=await g.getRSVPEvents(v.id),O=D.map(B=>{const H=k.filter(J=>J.relatedRequest===`31923:${B.bookerPubkey}:${B.dTag}`||J.event?.tags?.some(ne=>ne[0]==="e"&&ne[1]===B.id));H.sort((J,ne)=>ne.createdAt-J.createdAt);const K=H[0];return{...B,rsvpStatus:K?.status||"pending",rsvpDate:K?.createdAt}});O.sort((B,H)=>H.createdAt-B.createdAt),s(O)}catch(D){console.error("Failed to load invitations:",D)}finally{c(!1)}},S=async(D,k)=>{try{if(!i.find(B=>B.id===D))return;await g.respondToBooking(D,k),s(B=>B.map(H=>H.id===D?{...H,rsvpStatus:k,rsvpDate:Math.floor(Date.now()/1e3)}:H))}catch(O){console.error("Failed to respond to invitation:",O),alert("Failed to respond to invitation. Please try again.")}},E=D=>{const k=new Date(D);return{date:k.toLocaleDateString("en-US",{month:"short",day:"numeric"}),time:k.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}},N=(D,k)=>{const O=Math.round((k-D)/6e4);if(O<60)return`${O}m`;const B=Math.floor(O/60),H=O%60;return H>0?`${B}h ${H}m`:`${B}h`},T=D=>`npub1${D.slice(0,8)}...${D.slice(-8)}`,R=((D,k)=>{const O=Date.now();switch(k){case"pending":return D.filter(B=>B.rsvpStatus==="pending");case"accepted":return D.filter(B=>B.rsvpStatus==="accepted");case"declined":return D.filter(B=>B.rsvpStatus==="declined");case"upcoming":return D.filter(B=>B.rsvpStatus==="accepted"&&B.startTime>O);default:return D}})(i,p).filter(D=>D.title.toLowerCase().includes(d.toLowerCase())||D.description.toLowerCase().includes(d.toLowerCase())),M=D=>{const{date:k,time:O}=E(D.startTime),B=E(D.endTime).time,H=N(D.startTime,D.endTime),K=T(D.bookerPubkey);let J,ne;switch(D.rsvpStatus){case"pending":J="#d97706",ne="PENDING";break;case"accepted":J="#059669",ne="ACCEPTED";break;case"declined":J="#dc2626",ne="DECLINED";break;default:J="#6b7280",ne=D.rsvpStatus.toUpperCase()}const ce=D.rsvpStatus==="pending",re=D.rsvpStatus==="accepted"&&D.startTime>Date.now();return f.jsx("div",{className:"booking-card",children:f.jsxs("div",{className:"booking-card-header",children:[f.jsxs("div",{style:{flex:1},children:[f.jsx("h3",{children:D.title}),f.jsx("p",{className:"booking-description",children:D.description}),f.jsxs("div",{className:"booking-meta",children:[f.jsxs("span",{children:[f.jsx("span",{className:"icon-clock"}),`${k} ${O} - ${B} (${H})`]}),f.jsxs("span",{children:[f.jsx("span",{className:"icon-user"}),"From: ",K]}),f.jsxs("span",{children:[" Requested: ",new Date(D.createdAt*1e3).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})]}),f.jsx("span",{className:"booking-status",style:{backgroundColor:J},children:ne})]}),D.rsvpDate&&D.rsvpStatus!=="pending"&&f.jsxs("p",{className:"rsvp-date",children:["Responded on: ",new Date(D.rsvpDate*1e3).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})]})]}),f.jsxs("div",{className:"booking-actions",children:[ce&&f.jsxs("div",{className:"action-buttons",children:[f.jsx("button",{className:"btn-accept",onClick:()=>S(D.id,"accepted"),children:"Accept"}),f.jsx("button",{className:"btn-decline",onClick:()=>S(D.id,"declined"),children:"Decline"})]}),re&&f.jsx("div",{className:"action-buttons",children:f.jsx("button",{className:"btn-cancel",onClick:()=>S(D.id,"declined"),title:"Cancel Meeting",children:"Cancel"})})]})]})},D.id)};return f.jsxs("div",{className:"bookings-page",children:[f.jsx(qr,{}),f.jsxs("div",{className:"bookings-container",children:[f.jsx("div",{className:"bookings-header",children:f.jsx("div",{className:"header-content",children:f.jsxs("div",{children:[f.jsx("h1",{children:"Bookings"}),f.jsx("p",{children:"Manage meeting requests and bookings from others."})]})})}),f.jsxs("div",{className:"bookings-content",children:[f.jsx("div",{className:"search-section",children:f.jsx("input",{type:"text",className:"search-input",placeholder:"Search bookings...",value:d,onChange:D=>m(D.target.value)})}),f.jsxs("div",{className:"tabs",children:[f.jsx("button",{className:`tab ${p==="pending"?"active":""}`,onClick:()=>h("pending"),children:"Pending"}),f.jsx("button",{className:`tab ${p==="accepted"?"active":""}`,onClick:()=>h("accepted"),children:"Accepted"}),f.jsx("button",{className:`tab ${p==="declined"?"active":""}`,onClick:()=>h("declined"),children:"Declined"}),f.jsx("button",{className:`tab ${p==="upcoming"?"active":""}`,onClick:()=>h("upcoming"),children:"Upcoming"})]}),r?f.jsxs("div",{className:"loading-state",children:[f.jsx("div",{className:"spinner"}),"Loading bookings..."]}):R.length===0?f.jsxs("div",{className:"empty-state",children:[f.jsx("div",{className:"empty-icon",children:""}),f.jsxs("h3",{children:["No ",p," bookings"]}),f.jsx("p",{children:p==="pending"?"You have no pending bookings.":p==="accepted"?"You have no accepted bookings.":p==="declined"?"You have no declined bookings.":"You have no upcoming meetings."})]}):f.jsx("div",{className:"bookings-grid",children:R.map(M)})]})]})]})}function rN(){const a=Va(),i=Pt(),{pool:s,isConnected:r}=Gt(),{user:c}=It(),{calendars:d}=ql(),[m,p]=_.useState("timed"),[h,g]=_.useState({title:"",description:"",calendarId:"",location:"",startDate:"",startTime:"",endDate:"",endTime:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}),[y,v]=_.useState(!1),[x,S]=_.useState({});_.useEffect(()=>{const M=i.state?.prefillData;if(M)p(M.eventType||"timed"),g({title:M.title||"",description:M.description||"",calendarId:M.calendarId||"",location:M.location||"",startDate:M.startDate||"",startTime:M.startTime||"",endDate:M.endDate||"",endTime:M.endTime||"",timezone:M.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone});else{const D=new Date,k=D.toISOString().split("T")[0],O=D.toTimeString().slice(0,5);g(B=>({...B,startDate:k,endDate:k,startTime:O,endTime:E(O)}))}},[i.pathname,i.state?.prefillData]);const E=M=>{if(!M)return"";const[D,k]=M.split(":").map(Number),O=new Date;return O.setHours(D+1,k,0,0),O.toTimeString().slice(0,5)},N=(M,D)=>{g(k=>({...k,[M]:D})),M==="startTime"&&m==="timed"&&g(k=>({...k,endTime:E(D)})),M==="startDate"&&m==="all-day"&&g(k=>({...k,endDate:D})),x[M]&&S(k=>({...k,[M]:null}))},T=()=>{const M={};if(h.title.trim()||(M.title="Title is required"),h.startDate||(M.startDate="Start date is required"),m==="timed"&&(h.startTime||(M.startTime="Start time is required"),h.endTime||(M.endTime="End time is required"),h.startTime&&h.endTime&&h.startDate===h.endDate)){const D=new Date(`${h.startDate}T${h.startTime}`);new Date(`${h.endDate}T${h.endTime}`)<=D&&(M.endTime="End time must be after start time")}if(h.endDate||(M.endDate="End date is required"),h.startDate&&h.endDate){const D=new Date(h.startDate);new Date(h.endDate)<D&&(M.endDate="End date cannot be before start date")}return S(M),Object.keys(M).length===0},j=async M=>{if(M.preventDefault(),!!T()){v(!0);try{const D={kind:m==="all-day"?31922:31923,title:h.title.trim(),description:h.description.trim(),location:h.location.trim()};if(h.calendarId&&(D.calendarId=h.calendarId),m==="all-day")D.start=h.startDate,h.endDate&&h.endDate!==h.startDate&&(D.end=h.endDate);else{const k=new Date(`${h.startDate}T${h.startTime}`),O=new Date(`${h.endDate}T${h.endTime}`);D.start=Math.floor(k.getTime()/1e3).toString(),D.end=Math.floor(O.getTime()/1e3).toString(),D.startTimezone=h.timezone,D.endTimezone=h.timezone}console.log("Creating event:",D),await s.createEvent(D),a("/")}catch(D){console.error("Error creating event:",D),S({submit:"Failed to create event. Please try again."})}finally{v(!1)}}},R=()=>{a("/")};return f.jsxs("div",{className:"new-event-page",children:[f.jsx(qr,{}),f.jsxs("div",{className:"new-event-container",children:[f.jsxs("div",{className:"new-event-header",children:[f.jsx("h1",{children:"Create New Event"}),f.jsx("p",{children:"Create a new calendar event and publish it to the Nostr network."})]}),f.jsx("div",{className:"new-event-content",children:f.jsxs("form",{onSubmit:j,className:"event-form",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Event Type"}),f.jsxs("div",{className:"event-type-selector",children:[f.jsx("button",{type:"button",className:`event-type-btn ${m==="timed"?"active":""}`,onClick:()=>p("timed"),children:" Timed Event"}),f.jsx("button",{type:"button",className:`event-type-btn ${m==="all-day"?"active":""}`,onClick:()=>p("all-day"),children:" All-Day Event"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Title *"}),f.jsx("input",{type:"text",className:`form-input ${x.title?"error":""}`,value:h.title,onChange:M=>N("title",M.target.value),placeholder:"Enter event title..."}),x.title&&f.jsx("div",{className:"error-message",children:x.title})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Description"}),f.jsx("textarea",{className:"form-textarea",value:h.description,onChange:M=>N("description",M.target.value),placeholder:"Enter event description...",rows:3})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Calendar"}),f.jsxs("select",{className:"form-select",value:h.calendarId,onChange:M=>N("calendarId",M.target.value),children:[f.jsx("option",{value:"",children:"No calendar (standalone event)"}),d.map(M=>f.jsx("option",{value:M.dTag,children:M.name},M.dTag))]}),f.jsx("small",{className:"form-help",children:"Optional: Add this event to one of your calendars"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Location"}),f.jsx("input",{type:"text",className:"form-input",value:h.location,onChange:M=>N("location",M.target.value),placeholder:"Enter location..."})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Start Date *"}),f.jsx("input",{type:"date",className:`form-input ${x.startDate?"error":""}`,value:h.startDate,onChange:M=>N("startDate",M.target.value)}),x.startDate&&f.jsx("div",{className:"error-message",children:x.startDate})]}),m==="timed"&&f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Start Time *"}),f.jsx("input",{type:"time",className:`form-input ${x.startTime?"error":""}`,value:h.startTime,onChange:M=>N("startTime",M.target.value)}),x.startTime&&f.jsx("div",{className:"error-message",children:x.startTime})]})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"End Date *"}),f.jsx("input",{type:"date",className:`form-input ${x.endDate?"error":""}`,value:h.endDate,onChange:M=>N("endDate",M.target.value)}),x.endDate&&f.jsx("div",{className:"error-message",children:x.endDate})]}),m==="timed"&&f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"End Time *"}),f.jsx("input",{type:"time",className:`form-input ${x.endTime?"error":""}`,value:h.endTime,onChange:M=>N("endTime",M.target.value)}),x.endTime&&f.jsx("div",{className:"error-message",children:x.endTime})]})]}),m==="timed"&&f.jsxs("div",{className:"form-group",children:[f.jsx("label",{className:"form-label",children:"Timezone"}),f.jsx("input",{type:"text",className:"form-input",value:h.timezone,onChange:M=>N("timezone",M.target.value),placeholder:"Timezone"}),f.jsxs("small",{className:"form-help",children:["Detected timezone: ",Intl.DateTimeFormat().resolvedOptions().timeZone]})]}),x.submit&&f.jsx("div",{className:"error-message submit-error",children:x.submit}),f.jsxs("div",{className:"form-actions",children:[f.jsx("button",{type:"button",className:"btn-secondary",onClick:R,disabled:y,children:"Cancel"}),f.jsx("button",{type:"submit",className:"btn-primary",disabled:y,children:y?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"spinner"}),"Creating..."]}):"Create Event"})]})]})})]})]})}function oN(){return f.jsx("div",{className:"settings-page",children:f.jsxs("div",{className:"settings-container",children:[f.jsxs("div",{className:"settings-header",children:[f.jsx("h1",{className:"settings-title",children:"Settings"}),f.jsx("p",{className:"settings-subtitle",children:"Customize your Nostrcal experience"})]}),f.jsx("div",{className:"settings-content",children:f.jsxs("div",{className:"coming-soon-section",children:[f.jsx("div",{className:"coming-soon-icon",children:""}),f.jsx("h2",{className:"coming-soon-title",children:"Settings Coming Soon"}),f.jsx("p",{className:"coming-soon-description",children:"We're working on bringing you comprehensive settings to customize your calendar experience. Stay tuned for upcoming features including:"}),f.jsxs("ul",{className:"feature-list",children:[f.jsx("li",{children:" Theme and appearance customization"}),f.jsx("li",{children:" Default timezone and time format settings"}),f.jsx("li",{children:" Notification preferences"}),f.jsx("li",{children:" Relay management and configuration"}),f.jsx("li",{children:" Calendar view defaults"}),f.jsx("li",{children:" Privacy and security options"}),f.jsx("li",{children:" Import/export functionality"}),f.jsx("li",{children:" Language preferences"})]}),f.jsx("div",{className:"feedback-section",children:f.jsx("p",{className:"feedback-text",children:"Have suggestions for settings you'd like to see? Let us know!"})})]})})]})})}function cN(){return f.jsxs("div",{className:"app",children:[f.jsx(qr,{}),f.jsxs("div",{className:"app-body",children:[f.jsx(eN,{}),f.jsx(tN,{})]})]})}function uN(){const{isLoggedIn:a}=It();return f.jsx(Y1,{children:f.jsxs(y1,{children:[f.jsx(Dn,{path:"/booking",element:f.jsx(ap,{})}),f.jsx(Dn,{path:"/booking/*",element:f.jsx(ap,{})}),f.jsx(Dn,{path:"/",element:a?f.jsx(cN,{}):f.jsx(Gi,{})}),f.jsx(Dn,{path:"/event-slots",element:a?f.jsx(iN,{}):f.jsx(Gi,{})}),f.jsx(Dn,{path:"/bookings",element:a?f.jsx(sN,{}):f.jsx(Gi,{})}),f.jsx(Dn,{path:"/new-event",element:a?f.jsx(rN,{}):f.jsx(Gi,{})}),f.jsx(Dn,{path:"/settings",element:a?f.jsx(oN,{}):f.jsx(Gi,{})}),f.jsx(Dn,{path:"*",element:f.jsx(g1,{to:"/",replace:!0})})]})})}Tb.createRoot(document.getElementById("root")).render(f.jsx(_.StrictMode,{children:f.jsx(BS,{children:f.jsx(F1,{children:f.jsx(ZS,{children:f.jsx(KS,{children:f.jsx(uN,{})})})})})}));
