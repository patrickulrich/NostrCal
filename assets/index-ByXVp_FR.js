(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function s(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(c){if(c.ep)return;c.ep=!0;const f=s(c);fetch(c.href,f)}})();function wb(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var lu={exports:{}},qi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function Eb(){if(Ng)return qi;Ng=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function s(r,c,f){var m=null;if(f!==void 0&&(m=""+f),c.key!==void 0&&(m=""+c.key),"key"in c){f={};for(var p in c)p!=="key"&&(f[p]=c[p])}else f=c;return c=f.ref,{$$typeof:a,type:r,key:m,ref:c!==void 0?c:null,props:f}}return qi.Fragment=i,qi.jsx=s,qi.jsxs=s,qi}var Tg;function Sb(){return Tg||(Tg=1,lu.exports=Eb()),lu.exports}var u=Sb(),iu={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg;function Nb(){if(jg)return ye;jg=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function b(C){return C===null||typeof C!="object"?null:(C=v&&C[v]||C["@@iterator"],typeof C=="function"?C:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,N={};function T(C,Z,ee){this.props=C,this.context=Z,this.refs=N,this.updater=ee||w}T.prototype.isReactComponent={},T.prototype.setState=function(C,Z){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Z,"setState")},T.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function j(){}j.prototype=T.prototype;function _(C,Z,ee){this.props=C,this.context=Z,this.refs=N,this.updater=ee||w}var M=_.prototype=new j;M.constructor=_,E(M,T.prototype),M.isPureReactComponent=!0;var A=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},O=Object.prototype.hasOwnProperty;function B(C,Z,ee,le,P,oe){return ee=oe.ref,{$$typeof:a,type:C,key:Z,ref:ee!==void 0?ee:null,props:oe}}function H(C,Z){return B(C.type,Z,void 0,void 0,void 0,C.props)}function Q(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function J(C){var Z={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ee){return Z[ee]})}var ne=/\/+/g;function ce(C,Z){return typeof C=="object"&&C!==null&&C.key!=null?J(""+C.key):Z.toString(36)}function re(){}function Y(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(re,re):(C.status="pending",C.then(function(Z){C.status==="pending"&&(C.status="fulfilled",C.value=Z)},function(Z){C.status==="pending"&&(C.status="rejected",C.reason=Z)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function L(C,Z,ee,le,P){var oe=typeof C;(oe==="undefined"||oe==="boolean")&&(C=null);var ie=!1;if(C===null)ie=!0;else switch(oe){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(C.$$typeof){case a:case i:ie=!0;break;case y:return ie=C._init,L(ie(C._payload),Z,ee,le,P)}}if(ie)return P=P(C),ie=le===""?"."+ce(C,0):le,A(P)?(ee="",ie!=null&&(ee=ie.replace(ne,"$&/")+"/"),L(P,Z,ee,"",function(Se){return Se})):P!=null&&(Q(P)&&(P=H(P,ee+(P.key==null||C&&C.key===P.key?"":(""+P.key).replace(ne,"$&/")+"/")+ie)),Z.push(P)),1;ie=0;var ue=le===""?".":le+":";if(A(C))for(var pe=0;pe<C.length;pe++)le=C[pe],oe=ue+ce(le,pe),ie+=L(le,Z,ee,oe,P);else if(pe=b(C),typeof pe=="function")for(C=pe.call(C),pe=0;!(le=C.next()).done;)le=le.value,oe=ue+ce(le,pe++),ie+=L(le,Z,ee,oe,P);else if(oe==="object"){if(typeof C.then=="function")return L(Y(C),Z,ee,le,P);throw Z=String(C),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return ie}function D(C,Z,ee){if(C==null)return C;var le=[],P=0;return L(C,le,"","",function(oe){return Z.call(ee,oe,P++)}),le}function $(C){if(C._status===-1){var Z=C._result;Z=Z(),Z.then(function(ee){(C._status===0||C._status===-1)&&(C._status=1,C._result=ee)},function(ee){(C._status===0||C._status===-1)&&(C._status=2,C._result=ee)}),C._status===-1&&(C._status=0,C._result=Z)}if(C._status===1)return C._result.default;throw C._result}var W=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function ae(){}return ye.Children={map:D,forEach:function(C,Z,ee){D(C,function(){Z.apply(this,arguments)},ee)},count:function(C){var Z=0;return D(C,function(){Z++}),Z},toArray:function(C){return D(C,function(Z){return Z})||[]},only:function(C){if(!Q(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},ye.Component=T,ye.Fragment=s,ye.Profiler=c,ye.PureComponent=_,ye.StrictMode=r,ye.Suspense=h,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,ye.__COMPILER_RUNTIME={__proto__:null,c:function(C){return k.H.useMemoCache(C)}},ye.cache=function(C){return function(){return C.apply(null,arguments)}},ye.cloneElement=function(C,Z,ee){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var le=E({},C.props),P=C.key,oe=void 0;if(Z!=null)for(ie in Z.ref!==void 0&&(oe=void 0),Z.key!==void 0&&(P=""+Z.key),Z)!O.call(Z,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&Z.ref===void 0||(le[ie]=Z[ie]);var ie=arguments.length-2;if(ie===1)le.children=ee;else if(1<ie){for(var ue=Array(ie),pe=0;pe<ie;pe++)ue[pe]=arguments[pe+2];le.children=ue}return B(C.type,P,void 0,void 0,oe,le)},ye.createContext=function(C){return C={$$typeof:m,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},ye.createElement=function(C,Z,ee){var le,P={},oe=null;if(Z!=null)for(le in Z.key!==void 0&&(oe=""+Z.key),Z)O.call(Z,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(P[le]=Z[le]);var ie=arguments.length-2;if(ie===1)P.children=ee;else if(1<ie){for(var ue=Array(ie),pe=0;pe<ie;pe++)ue[pe]=arguments[pe+2];P.children=ue}if(C&&C.defaultProps)for(le in ie=C.defaultProps,ie)P[le]===void 0&&(P[le]=ie[le]);return B(C,oe,void 0,void 0,null,P)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(C){return{$$typeof:p,render:C}},ye.isValidElement=Q,ye.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:$}},ye.memo=function(C,Z){return{$$typeof:g,type:C,compare:Z===void 0?null:Z}},ye.startTransition=function(C){var Z=k.T,ee={};k.T=ee;try{var le=C(),P=k.S;P!==null&&P(ee,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ae,W)}catch(oe){W(oe)}finally{k.T=Z}},ye.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},ye.use=function(C){return k.H.use(C)},ye.useActionState=function(C,Z,ee){return k.H.useActionState(C,Z,ee)},ye.useCallback=function(C,Z){return k.H.useCallback(C,Z)},ye.useContext=function(C){return k.H.useContext(C)},ye.useDebugValue=function(){},ye.useDeferredValue=function(C,Z){return k.H.useDeferredValue(C,Z)},ye.useEffect=function(C,Z,ee){var le=k.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(C,Z)},ye.useId=function(){return k.H.useId()},ye.useImperativeHandle=function(C,Z,ee){return k.H.useImperativeHandle(C,Z,ee)},ye.useInsertionEffect=function(C,Z){return k.H.useInsertionEffect(C,Z)},ye.useLayoutEffect=function(C,Z){return k.H.useLayoutEffect(C,Z)},ye.useMemo=function(C,Z){return k.H.useMemo(C,Z)},ye.useOptimistic=function(C,Z){return k.H.useOptimistic(C,Z)},ye.useReducer=function(C,Z,ee){return k.H.useReducer(C,Z,ee)},ye.useRef=function(C){return k.H.useRef(C)},ye.useState=function(C){return k.H.useState(C)},ye.useSyncExternalStore=function(C,Z,ee){return k.H.useSyncExternalStore(C,Z,ee)},ye.useTransition=function(){return k.H.useTransition()},ye.version="19.1.0",ye}var Ag;function Yu(){return Ag||(Ag=1,iu.exports=Nb()),iu.exports}var R=Yu();const cn=wb(R);var su={exports:{}},$i={},ru={exports:{}},ou={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg;function Tb(){return Dg||(Dg=1,function(a){function i(D,$){var W=D.length;D.push($);e:for(;0<W;){var ae=W-1>>>1,C=D[ae];if(0<c(C,$))D[ae]=$,D[W]=C,W=ae;else break e}}function s(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var $=D[0],W=D.pop();if(W!==$){D[0]=W;e:for(var ae=0,C=D.length,Z=C>>>1;ae<Z;){var ee=2*(ae+1)-1,le=D[ee],P=ee+1,oe=D[P];if(0>c(le,W))P<C&&0>c(oe,le)?(D[ae]=oe,D[P]=W,ae=P):(D[ae]=le,D[ee]=W,ae=ee);else if(P<C&&0>c(oe,W))D[ae]=oe,D[P]=W,ae=P;else break e}}return $}function c(D,$){var W=D.sortIndex-$.sortIndex;return W!==0?W:D.id-$.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var m=Date,p=m.now();a.unstable_now=function(){return m.now()-p}}var h=[],g=[],y=1,v=null,b=3,w=!1,E=!1,N=!1,T=!1,j=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function A(D){for(var $=s(g);$!==null;){if($.callback===null)r(g);else if($.startTime<=D)r(g),$.sortIndex=$.expirationTime,i(h,$);else break;$=s(g)}}function k(D){if(N=!1,A(D),!E)if(s(h)!==null)E=!0,O||(O=!0,ce());else{var $=s(g);$!==null&&L(k,$.startTime-D)}}var O=!1,B=-1,H=5,Q=-1;function J(){return T?!0:!(a.unstable_now()-Q<H)}function ne(){if(T=!1,O){var D=a.unstable_now();Q=D;var $=!0;try{e:{E=!1,N&&(N=!1,_(B),B=-1),w=!0;var W=b;try{t:{for(A(D),v=s(h);v!==null&&!(v.expirationTime>D&&J());){var ae=v.callback;if(typeof ae=="function"){v.callback=null,b=v.priorityLevel;var C=ae(v.expirationTime<=D);if(D=a.unstable_now(),typeof C=="function"){v.callback=C,A(D),$=!0;break t}v===s(h)&&r(h),A(D)}else r(h);v=s(h)}if(v!==null)$=!0;else{var Z=s(g);Z!==null&&L(k,Z.startTime-D),$=!1}}break e}finally{v=null,b=W,w=!1}$=void 0}}finally{$?ce():O=!1}}}var ce;if(typeof M=="function")ce=function(){M(ne)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,Y=re.port2;re.port1.onmessage=ne,ce=function(){Y.postMessage(null)}}else ce=function(){j(ne,0)};function L(D,$){B=j(function(){D(a.unstable_now())},$)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(D){D.callback=null},a.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<D?Math.floor(1e3/D):5},a.unstable_getCurrentPriorityLevel=function(){return b},a.unstable_next=function(D){switch(b){case 1:case 2:case 3:var $=3;break;default:$=b}var W=b;b=$;try{return D()}finally{b=W}},a.unstable_requestPaint=function(){T=!0},a.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=b;b=D;try{return $()}finally{b=W}},a.unstable_scheduleCallback=function(D,$,W){var ae=a.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ae+W:ae):W=ae,D){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=W+C,D={id:y++,callback:$,priorityLevel:D,startTime:W,expirationTime:C,sortIndex:-1},W>ae?(D.sortIndex=W,i(g,D),s(h)===null&&D===s(g)&&(N?(_(B),B=-1):N=!0,L(k,W-ae))):(D.sortIndex=C,i(h,D),E||w||(E=!0,O||(O=!0,ce()))),D},a.unstable_shouldYield=J,a.unstable_wrapCallback=function(D){var $=b;return function(){var W=b;b=$;try{return D.apply(this,arguments)}finally{b=W}}}}(ou)),ou}var Cg;function jb(){return Cg||(Cg=1,ru.exports=Tb()),ru.exports}var cu={exports:{}},ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg;function Ab(){if(Rg)return ft;Rg=1;var a=Yu();function i(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(h,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:v==null?null:""+v,children:h,containerInfo:g,implementation:y}}var m=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(h,g){if(h==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ft.createPortal=function(h,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(i(299));return f(h,g,null,y)},ft.flushSync=function(h){var g=m.T,y=r.p;try{if(m.T=null,r.p=2,h)return h()}finally{m.T=g,r.p=y,r.d.f()}},ft.preconnect=function(h,g){typeof h=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(h,g))},ft.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},ft.preinit=function(h,g){if(typeof h=="string"&&g&&typeof g.as=="string"){var y=g.as,v=p(y,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?r.d.S(h,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:w}):y==="script"&&r.d.X(h,{crossOrigin:v,integrity:b,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ft.preinitModule=function(h,g){if(typeof h=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=p(g.as,g.crossOrigin);r.d.M(h,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(h)},ft.preload=function(h,g){if(typeof h=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=p(y,g.crossOrigin);r.d.L(h,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ft.preloadModule=function(h,g){if(typeof h=="string")if(g){var y=p(g.as,g.crossOrigin);r.d.m(h,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(h)},ft.requestFormReset=function(h){r.d.r(h)},ft.unstable_batchedUpdates=function(h,g){return h(g)},ft.useFormState=function(h,g,y){return m.H.useFormState(h,g,y)},ft.useFormStatus=function(){return m.H.useHostTransitionStatus()},ft.version="19.1.0",ft}var _g;function Db(){if(_g)return cu.exports;_g=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),cu.exports=Ab(),cu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg;function Cb(){if(Mg)return $i;Mg=1;var a=jb(),i=Yu(),s=Db();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(f(e)!==e)throw Error(r(188))}function h(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,l=t;;){var o=n.return;if(o===null)break;var d=o.alternate;if(d===null){if(l=o.return,l!==null){n=l;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===n)return p(o),e;if(d===l)return p(o),t;d=d.sibling}throw Error(r(188))}if(n.return!==l.return)n=o,l=d;else{for(var x=!1,S=o.child;S;){if(S===n){x=!0,n=o,l=d;break}if(S===l){x=!0,l=o,n=d;break}S=S.sibling}if(!x){for(S=d.child;S;){if(S===n){x=!0,n=d,l=o;break}if(S===l){x=!0,l=d,n=o;break}S=S.sibling}if(!x)throw Error(r(189))}}if(n.alternate!==l)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),M=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function ce(e){return e===null||typeof e!="object"?null:(e=ne&&e[ne]||e["@@iterator"],typeof e=="function"?e:null)}var re=Symbol.for("react.client.reference");function Y(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===re?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case T:return"Profiler";case N:return"StrictMode";case k:return"Suspense";case O:return"SuspenseList";case Q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case M:return(e.displayName||"Context")+".Provider";case _:return(e._context.displayName||"Context")+".Consumer";case A:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B:return t=e.displayName||null,t!==null?t:Y(e.type)||"Memo";case H:t=e._payload,e=e._init;try{return Y(e(t))}catch{}}return null}var L=Array.isArray,D=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ae=[],C=-1;function Z(e){return{current:e}}function ee(e){0>C||(e.current=ae[C],ae[C]=null,C--)}function le(e,t){C++,ae[C]=e.current,e.current=t}var P=Z(null),oe=Z(null),ie=Z(null),ue=Z(null);function pe(e,t){switch(le(ie,t),le(oe,e),le(P,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Wm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Wm(t),e=Fm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ee(P),le(P,e)}function Se(){ee(P),ee(oe),ee(ie)}function ke(e){e.memoizedState!==null&&le(ue,e);var t=P.current,n=Fm(t,e.type);t!==n&&(le(oe,e),le(P,n))}function se(e){oe.current===e&&(ee(P),ee(oe)),ue.current===e&&(ee(ue),ki._currentValue=W)}var Ee=Object.prototype.hasOwnProperty,Ce=a.unstable_scheduleCallback,Be=a.unstable_cancelCallback,et=a.unstable_shouldYield,Ae=a.unstable_requestPaint,He=a.unstable_now,qn=a.unstable_getCurrentPriorityLevel,Vl=a.unstable_ImmediatePriority,fn=a.unstable_UserBlockingPriority,hn=a.unstable_NormalPriority,Fi=a.unstable_LowPriority,es=a.unstable_IdlePriority,Gr=a.log,Zr=a.unstable_setDisableYieldValue,ba=null,Nt=null;function $n(e){if(typeof Gr=="function"&&Zr(e),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(ba,e)}catch{}}var Tt=Math.clz32?Math.clz32:r0,i0=Math.log,s0=Math.LN2;function r0(e){return e>>>=0,e===0?32:31-(i0(e)/s0|0)|0}var ts=256,ns=4194304;function xa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function as(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var o=0,d=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?o=xa(l):(x&=S,x!==0?o=xa(x):n||(n=S&~e,n!==0&&(o=xa(n))))):(S=l&~d,S!==0?o=xa(S):x!==0?o=xa(x):n||(n=l&~e,n!==0&&(o=xa(n)))),o===0?0:t!==0&&t!==o&&(t&d)===0&&(d=o&-o,n=t&-t,d>=n||d===32&&(n&4194048)!==0)?t:o}function Gl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function o0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Od(){var e=ts;return ts<<=1,(ts&4194048)===0&&(ts=256),e}function kd(){var e=ns;return ns<<=1,(ns&62914560)===0&&(ns=4194304),e}function Xr(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function c0(e,t,n,l,o,d){var x=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var S=e.entanglements,U=e.expirationTimes,G=e.hiddenUpdates;for(n=x&~n;0<n;){var I=31-Tt(n),te=1<<I;S[I]=0,U[I]=-1;var X=G[I];if(X!==null)for(G[I]=null,I=0;I<X.length;I++){var K=X[I];K!==null&&(K.lane&=-536870913)}n&=~te}l!==0&&zd(e,l,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(x&~t))}function zd(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Tt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&4194090}function Bd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Tt(n),o=1<<l;o&t|e[l]&t&&(e[l]|=t),n&=~o}}function Kr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ld(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:vg(e.type))}function u0(e,t){var n=$.p;try{return $.p=e,t()}finally{$.p=n}}var Yn=Math.random().toString(36).slice(2),ut="__reactFiber$"+Yn,yt="__reactProps$"+Yn,Ga="__reactContainer$"+Yn,Jr="__reactEvents$"+Yn,d0="__reactListeners$"+Yn,f0="__reactHandles$"+Yn,Hd="__reactResources$"+Yn,Xl="__reactMarker$"+Yn;function Pr(e){delete e[ut],delete e[yt],delete e[Jr],delete e[d0],delete e[f0]}function Za(e){var t=e[ut];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ga]||n[ut]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ag(e);e!==null;){if(n=e[ut])return n;e=ag(e)}return t}e=n,n=e.parentNode}return null}function Xa(e){if(e=e[ut]||e[Ga]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Kl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Ka(e){var t=e[Hd];return t||(t=e[Hd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function tt(e){e[Xl]=!0}var qd=new Set,$d={};function wa(e,t){Qa(e,t),Qa(e+"Capture",t)}function Qa(e,t){for($d[e]=t,e=0;e<t.length;e++)qd.add(t[e])}var h0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yd={},Vd={};function m0(e){return Ee.call(Vd,e)?!0:Ee.call(Yd,e)?!1:h0.test(e)?Vd[e]=!0:(Yd[e]=!0,!1)}function ls(e,t,n){if(m0(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function is(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function mn(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}var Ir,Gd;function Ja(e){if(Ir===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ir=t&&t[1]||"",Gd=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ir+e+Gd}var Wr=!1;function Fr(e,t){if(!e||Wr)return"";Wr=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var X=K}Reflect.construct(e,[],te)}else{try{te.call()}catch(K){X=K}e.call(te.prototype)}}else{try{throw Error()}catch(K){X=K}(te=e())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&X&&typeof K.stack=="string")return[K.stack,X.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),x=d[0],S=d[1];if(x&&S){var U=x.split(`
`),G=S.split(`
`);for(o=l=0;l<U.length&&!U[l].includes("DetermineComponentFrameRoot");)l++;for(;o<G.length&&!G[o].includes("DetermineComponentFrameRoot");)o++;if(l===U.length||o===G.length)for(l=U.length-1,o=G.length-1;1<=l&&0<=o&&U[l]!==G[o];)o--;for(;1<=l&&0<=o;l--,o--)if(U[l]!==G[o]){if(l!==1||o!==1)do if(l--,o--,0>o||U[l]!==G[o]){var I=`
`+U[l].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=l&&0<=o);break}}}finally{Wr=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ja(n):""}function g0(e){switch(e.tag){case 26:case 27:case 5:return Ja(e.type);case 16:return Ja("Lazy");case 13:return Ja("Suspense");case 19:return Ja("SuspenseList");case 0:case 15:return Fr(e.type,!1);case 11:return Fr(e.type.render,!1);case 1:return Fr(e.type,!0);case 31:return Ja("Activity");default:return""}}function Zd(e){try{var t="";do t+=g0(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Ot(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function p0(e){var t=Xd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,d=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(x){l=""+x,d.call(this,x)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ss(e){e._valueTracker||(e._valueTracker=p0(e))}function Kd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Xd(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function rs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var y0=/[\n"\\]/g;function kt(e){return e.replace(y0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function eo(e,t,n,l,o,d,x,S){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),t!=null?x==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ot(t)):e.value!==""+Ot(t)&&(e.value=""+Ot(t)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),t!=null?to(e,x,Ot(t)):n!=null?to(e,x,Ot(n)):l!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Ot(S):e.removeAttribute("name")}function Qd(e,t,n,l,o,d,x,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||n!=null){if(!(d!=="submit"&&d!=="reset"||t!=null))return;n=n!=null?""+Ot(n):"",t=t!=null?""+Ot(t):n,S||t===e.value||(e.value=t),e.defaultValue=t}l=l??o,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x)}function to(e,t,n){t==="number"&&rs(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Pa(e,t,n,l){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&l&&(e[n].defaultSelected=!0)}else{for(n=""+Ot(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,l&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Jd(e,t,n){if(t!=null&&(t=""+Ot(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ot(n):""}function Pd(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(r(92));if(L(l)){if(1<l.length)throw Error(r(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=Ot(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l)}function Ia(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var v0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Id(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||v0.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Wd(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var o in t)l=t[o],t.hasOwnProperty(o)&&n[o]!==l&&Id(e,o,l)}else for(var d in t)t.hasOwnProperty(d)&&Id(e,d,t[d])}function no(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var b0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),x0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function os(e){return x0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ao=null;function lo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wa=null,Fa=null;function Fd(e){var t=Xa(e);if(t&&(e=t.stateNode)){var n=e[yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(eo(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+kt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var o=l[yt]||null;if(!o)throw Error(r(90));eo(l,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Kd(l)}break e;case"textarea":Jd(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Pa(e,!!n.multiple,t,!1)}}}var io=!1;function ef(e,t,n){if(io)return e(t,n);io=!0;try{var l=e(t);return l}finally{if(io=!1,(Wa!==null||Fa!==null)&&(Ks(),Wa&&(t=Wa,e=Fa,Fa=Wa=null,Fd(t),e)))for(t=0;t<e.length;t++)Fd(e[t])}}function Ql(e,t){var n=e.stateNode;if(n===null)return null;var l=n[yt]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),so=!1;if(gn)try{var Jl={};Object.defineProperty(Jl,"passive",{get:function(){so=!0}}),window.addEventListener("test",Jl,Jl),window.removeEventListener("test",Jl,Jl)}catch{so=!1}var Vn=null,ro=null,cs=null;function tf(){if(cs)return cs;var e,t=ro,n=t.length,l,o="value"in Vn?Vn.value:Vn.textContent,d=o.length;for(e=0;e<n&&t[e]===o[e];e++);var x=n-e;for(l=1;l<=x&&t[n-l]===o[d-l];l++);return cs=o.slice(e,1<l?1-l:void 0)}function us(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ds(){return!0}function nf(){return!1}function vt(e){function t(n,l,o,d,x){this._reactName=n,this._targetInst=o,this.type=l,this.nativeEvent=d,this.target=x,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(n=e[S],this[S]=n?n(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ds:nf,this.isPropagationStopped=nf,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ds)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ds)},persist:function(){},isPersistent:ds}),t}var Ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fs=vt(Ea),Pl=y({},Ea,{view:0,detail:0}),w0=vt(Pl),oo,co,Il,hs=y({},Pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Il&&(Il&&e.type==="mousemove"?(oo=e.screenX-Il.screenX,co=e.screenY-Il.screenY):co=oo=0,Il=e),oo)},movementY:function(e){return"movementY"in e?e.movementY:co}}),af=vt(hs),E0=y({},hs,{dataTransfer:0}),S0=vt(E0),N0=y({},Pl,{relatedTarget:0}),uo=vt(N0),T0=y({},Ea,{animationName:0,elapsedTime:0,pseudoElement:0}),j0=vt(T0),A0=y({},Ea,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),D0=vt(A0),C0=y({},Ea,{data:0}),lf=vt(C0),R0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=M0[e])?!!t[e]:!1}function fo(){return U0}var O0=y({},Pl,{key:function(e){if(e.key){var t=R0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=us(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fo,charCode:function(e){return e.type==="keypress"?us(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?us(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),k0=vt(O0),z0=y({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sf=vt(z0),B0=y({},Pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fo}),L0=vt(B0),H0=y({},Ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),q0=vt(H0),$0=y({},hs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Y0=vt($0),V0=y({},Ea,{newState:0,oldState:0}),G0=vt(V0),Z0=[9,13,27,32],ho=gn&&"CompositionEvent"in window,Wl=null;gn&&"documentMode"in document&&(Wl=document.documentMode);var X0=gn&&"TextEvent"in window&&!Wl,rf=gn&&(!ho||Wl&&8<Wl&&11>=Wl),of=" ",cf=!1;function uf(e,t){switch(e){case"keyup":return Z0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function df(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var el=!1;function K0(e,t){switch(e){case"compositionend":return df(t);case"keypress":return t.which!==32?null:(cf=!0,of);case"textInput":return e=t.data,e===of&&cf?null:e;default:return null}}function Q0(e,t){if(el)return e==="compositionend"||!ho&&uf(e,t)?(e=tf(),cs=ro=Vn=null,el=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rf&&t.locale!=="ko"?null:t.data;default:return null}}var J0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ff(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!J0[e.type]:t==="textarea"}function hf(e,t,n,l){Wa?Fa?Fa.push(l):Fa=[l]:Wa=l,t=Fs(t,"onChange"),0<t.length&&(n=new fs("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var Fl=null,ei=null;function P0(e){Km(e,0)}function ms(e){var t=Kl(e);if(Kd(t))return e}function mf(e,t){if(e==="change")return t}var gf=!1;if(gn){var mo;if(gn){var go="oninput"in document;if(!go){var pf=document.createElement("div");pf.setAttribute("oninput","return;"),go=typeof pf.oninput=="function"}mo=go}else mo=!1;gf=mo&&(!document.documentMode||9<document.documentMode)}function yf(){Fl&&(Fl.detachEvent("onpropertychange",vf),ei=Fl=null)}function vf(e){if(e.propertyName==="value"&&ms(ei)){var t=[];hf(t,ei,e,lo(e)),ef(P0,t)}}function I0(e,t,n){e==="focusin"?(yf(),Fl=t,ei=n,Fl.attachEvent("onpropertychange",vf)):e==="focusout"&&yf()}function W0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ms(ei)}function F0(e,t){if(e==="click")return ms(t)}function ev(e,t){if(e==="input"||e==="change")return ms(t)}function tv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:tv;function ti(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var o=n[l];if(!Ee.call(t,o)||!jt(e[o],t[o]))return!1}return!0}function bf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xf(e,t){var n=bf(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bf(n)}}function wf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ef(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=rs(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=rs(e.document)}return t}function po(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var nv=gn&&"documentMode"in document&&11>=document.documentMode,tl=null,yo=null,ni=null,vo=!1;function Sf(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vo||tl==null||tl!==rs(l)||(l=tl,"selectionStart"in l&&po(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ni&&ti(ni,l)||(ni=l,l=Fs(yo,"onSelect"),0<l.length&&(t=new fs("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=tl)))}function Sa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var nl={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionrun:Sa("Transition","TransitionRun"),transitionstart:Sa("Transition","TransitionStart"),transitioncancel:Sa("Transition","TransitionCancel"),transitionend:Sa("Transition","TransitionEnd")},bo={},Nf={};gn&&(Nf=document.createElement("div").style,"AnimationEvent"in window||(delete nl.animationend.animation,delete nl.animationiteration.animation,delete nl.animationstart.animation),"TransitionEvent"in window||delete nl.transitionend.transition);function Na(e){if(bo[e])return bo[e];if(!nl[e])return e;var t=nl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Nf)return bo[e]=t[n];return e}var Tf=Na("animationend"),jf=Na("animationiteration"),Af=Na("animationstart"),av=Na("transitionrun"),lv=Na("transitionstart"),iv=Na("transitioncancel"),Df=Na("transitionend"),Cf=new Map,xo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xo.push("scrollEnd");function Kt(e,t){Cf.set(e,t),wa(t,[e])}var Rf=new WeakMap;function zt(e,t){if(typeof e=="object"&&e!==null){var n=Rf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Zd(t)},Rf.set(e,t),t)}return{value:e,source:t,stack:Zd(t)}}var Bt=[],al=0,wo=0;function gs(){for(var e=al,t=wo=al=0;t<e;){var n=Bt[t];Bt[t++]=null;var l=Bt[t];Bt[t++]=null;var o=Bt[t];Bt[t++]=null;var d=Bt[t];if(Bt[t++]=null,l!==null&&o!==null){var x=l.pending;x===null?o.next=o:(o.next=x.next,x.next=o),l.pending=o}d!==0&&_f(n,o,d)}}function ps(e,t,n,l){Bt[al++]=e,Bt[al++]=t,Bt[al++]=n,Bt[al++]=l,wo|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Eo(e,t,n,l){return ps(e,t,n,l),ys(e)}function ll(e,t){return ps(e,null,null,t),ys(e)}function _f(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var o=!1,d=e.return;d!==null;)d.childLanes|=n,l=d.alternate,l!==null&&(l.childLanes|=n),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,o&&t!==null&&(o=31-Tt(n),e=d.hiddenUpdates,l=e[o],l===null?e[o]=[t]:l.push(t),t.lane=n|536870912),d):null}function ys(e){if(50<Ai)throw Ai=0,Dc=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var il={};function sv(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,t,n,l){return new sv(e,t,n,l)}function So(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pn(e,t){var n=e.alternate;return n===null?(n=At(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Mf(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function vs(e,t,n,l,o,d){var x=0;if(l=e,typeof e=="function")So(e)&&(x=1);else if(typeof e=="string")x=ob(e,n,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Q:return e=At(31,n,t,o),e.elementType=Q,e.lanes=d,e;case E:return Ta(n.children,o,d,t);case N:x=8,o|=24;break;case T:return e=At(12,n,t,o|2),e.elementType=T,e.lanes=d,e;case k:return e=At(13,n,t,o),e.elementType=k,e.lanes=d,e;case O:return e=At(19,n,t,o),e.elementType=O,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case j:case M:x=10;break e;case _:x=9;break e;case A:x=11;break e;case B:x=14;break e;case H:x=16,l=null;break e}x=29,n=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=At(x,n,t,o),t.elementType=e,t.type=l,t.lanes=d,t}function Ta(e,t,n,l){return e=At(7,e,l,t),e.lanes=n,e}function No(e,t,n){return e=At(6,e,null,t),e.lanes=n,e}function To(e,t,n){return t=At(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var sl=[],rl=0,bs=null,xs=0,Lt=[],Ht=0,ja=null,yn=1,vn="";function Aa(e,t){sl[rl++]=xs,sl[rl++]=bs,bs=e,xs=t}function Uf(e,t,n){Lt[Ht++]=yn,Lt[Ht++]=vn,Lt[Ht++]=ja,ja=e;var l=yn;e=vn;var o=32-Tt(l)-1;l&=~(1<<o),n+=1;var d=32-Tt(t)+o;if(30<d){var x=o-o%5;d=(l&(1<<x)-1).toString(32),l>>=x,o-=x,yn=1<<32-Tt(t)+o|n<<o|l,vn=d+e}else yn=1<<d|n<<o|l,vn=e}function jo(e){e.return!==null&&(Aa(e,1),Uf(e,1,0))}function Ao(e){for(;e===bs;)bs=sl[--rl],sl[rl]=null,xs=sl[--rl],sl[rl]=null;for(;e===ja;)ja=Lt[--Ht],Lt[Ht]=null,vn=Lt[--Ht],Lt[Ht]=null,yn=Lt[--Ht],Lt[Ht]=null}var pt=null,Ge=null,De=!1,Da=null,Ft=!1,Do=Error(r(519));function Ca(e){var t=Error(r(418,""));throw ii(zt(t,e)),Do}function Of(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[ut]=e,t[yt]=l,n){case"dialog":we("cancel",t),we("close",t);break;case"iframe":case"object":case"embed":we("load",t);break;case"video":case"audio":for(n=0;n<Ci.length;n++)we(Ci[n],t);break;case"source":we("error",t);break;case"img":case"image":case"link":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"input":we("invalid",t),Qd(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ss(t);break;case"select":we("invalid",t);break;case"textarea":we("invalid",t),Pd(t,l.value,l.defaultValue,l.children),ss(t)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Im(t.textContent,n)?(l.popover!=null&&(we("beforetoggle",t),we("toggle",t)),l.onScroll!=null&&we("scroll",t),l.onScrollEnd!=null&&we("scrollend",t),l.onClick!=null&&(t.onclick=er),t=!0):t=!1,t||Ca(e)}function kf(e){for(pt=e.return;pt;)switch(pt.tag){case 5:case 13:Ft=!1;return;case 27:case 3:Ft=!0;return;default:pt=pt.return}}function ai(e){if(e!==pt)return!1;if(!De)return kf(e),De=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Gc(e.type,e.memoizedProps)),n=!n),n&&Ge&&Ca(e),kf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Ge=Jt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Ge=null}}else t===27?(t=Ge,ia(e.type)?(e=Qc,Qc=null,Ge=e):Ge=t):Ge=pt?Jt(e.stateNode.nextSibling):null;return!0}function li(){Ge=pt=null,De=!1}function zf(){var e=Da;return e!==null&&(wt===null?wt=e:wt.push.apply(wt,e),Da=null),e}function ii(e){Da===null?Da=[e]:Da.push(e)}var Co=Z(null),Ra=null,bn=null;function Gn(e,t,n){le(Co,t._currentValue),t._currentValue=n}function xn(e){e._currentValue=Co.current,ee(Co)}function Ro(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function _o(e,t,n,l){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var x=o.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=o;for(var U=0;U<t.length;U++)if(S.context===t[U]){d.lanes|=n,S=d.alternate,S!==null&&(S.lanes|=n),Ro(d.return,n,e),l||(x=null);break e}d=S.next}}else if(o.tag===18){if(x=o.return,x===null)throw Error(r(341));x.lanes|=n,d=x.alternate,d!==null&&(d.lanes|=n),Ro(x,n,e),x=null}else x=o.child;if(x!==null)x.return=o;else for(x=o;x!==null;){if(x===e){x=null;break}if(o=x.sibling,o!==null){o.return=x.return,x=o;break}x=x.return}o=x}}function si(e,t,n,l){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var x=o.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var S=o.type;jt(o.pendingProps.value,x.value)||(e!==null?e.push(S):e=[S])}}else if(o===ue.current){if(x=o.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(ki):e=[ki])}o=o.return}e!==null&&_o(t,e,n,l),t.flags|=262144}function ws(e){for(e=e.firstContext;e!==null;){if(!jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _a(e){Ra=e,bn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function dt(e){return Bf(Ra,e)}function Es(e,t){return Ra===null&&_a(e),Bf(e,t)}function Bf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},bn===null){if(e===null)throw Error(r(308));bn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bn=bn.next=t;return n}var rv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},ov=a.unstable_scheduleCallback,cv=a.unstable_NormalPriority,Ie={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mo(){return{controller:new rv,data:new Map,refCount:0}}function ri(e){e.refCount--,e.refCount===0&&ov(cv,function(){e.controller.abort()})}var oi=null,Uo=0,ol=0,cl=null;function uv(e,t){if(oi===null){var n=oi=[];Uo=0,ol=kc(),cl={status:"pending",value:void 0,then:function(l){n.push(l)}}}return Uo++,t.then(Lf,Lf),t}function Lf(){if(--Uo===0&&oi!==null){cl!==null&&(cl.status="fulfilled");var e=oi;oi=null,ol=0,cl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function dv(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(l.status="rejected",l.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),l}var Hf=D.S;D.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&uv(e,t),Hf!==null&&Hf(e,t)};var Ma=Z(null);function Oo(){var e=Ma.current;return e!==null?e:Le.pooledCache}function Ss(e,t){t===null?le(Ma,Ma.current):le(Ma,t.pool)}function qf(){var e=Oo();return e===null?null:{parent:Ie._currentValue,pool:e}}var ci=Error(r(460)),$f=Error(r(474)),Ns=Error(r(542)),ko={then:function(){}};function Yf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ts(){}function Vf(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Ts,Ts),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Zf(e),e;default:if(typeof t.status=="string")t.then(Ts,Ts);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=l}},function(l){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Zf(e),e}throw ui=t,ci}}var ui=null;function Gf(){if(ui===null)throw Error(r(459));var e=ui;return ui=null,e}function Zf(e){if(e===ci||e===Ns)throw Error(r(483))}var Zn=!1;function zo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Xn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Kn(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Re&2)!==0){var o=l.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),l.pending=t,t=ys(e),_f(e,null,n),t}return ps(e,l,t,n),ys(e)}function di(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Bd(e,n)}}function Lo(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var o=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var x={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};d===null?o=d=x:d=d.next=x,n=n.next}while(n!==null);d===null?o=d=t:d=d.next=t}else o=d=t;n={baseState:l.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ho=!1;function fi(){if(Ho){var e=cl;if(e!==null)throw e}}function hi(e,t,n,l){Ho=!1;var o=e.updateQueue;Zn=!1;var d=o.firstBaseUpdate,x=o.lastBaseUpdate,S=o.shared.pending;if(S!==null){o.shared.pending=null;var U=S,G=U.next;U.next=null,x===null?d=G:x.next=G,x=U;var I=e.alternate;I!==null&&(I=I.updateQueue,S=I.lastBaseUpdate,S!==x&&(S===null?I.firstBaseUpdate=G:S.next=G,I.lastBaseUpdate=U))}if(d!==null){var te=o.baseState;x=0,I=G=U=null,S=d;do{var X=S.lane&-536870913,K=X!==S.lane;if(K?(Ne&X)===X:(l&X)===X){X!==0&&X===ol&&(Ho=!0),I!==null&&(I=I.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ge=e,he=S;X=t;var Oe=n;switch(he.tag){case 1:if(ge=he.payload,typeof ge=="function"){te=ge.call(Oe,te,X);break e}te=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=he.payload,X=typeof ge=="function"?ge.call(Oe,te,X):ge,X==null)break e;te=y({},te,X);break e;case 2:Zn=!0}}X=S.callback,X!==null&&(e.flags|=64,K&&(e.flags|=8192),K=o.callbacks,K===null?o.callbacks=[X]:K.push(X))}else K={lane:X,tag:S.tag,payload:S.payload,callback:S.callback,next:null},I===null?(G=I=K,U=te):I=I.next=K,x|=X;if(S=S.next,S===null){if(S=o.shared.pending,S===null)break;K=S,S=K.next,K.next=null,o.lastBaseUpdate=K,o.shared.pending=null}}while(!0);I===null&&(U=te),o.baseState=U,o.firstBaseUpdate=G,o.lastBaseUpdate=I,d===null&&(o.shared.lanes=0),ta|=x,e.lanes=x,e.memoizedState=te}}function Xf(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Kf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Xf(n[e],t)}var ul=Z(null),js=Z(0);function Qf(e,t){e=An,le(js,e),le(ul,t),An=e|t.baseLanes}function qo(){le(js,An),le(ul,ul.current)}function $o(){An=js.current,ee(ul),ee(js)}var Qn=0,ve=null,Me=null,Je=null,As=!1,dl=!1,Ua=!1,Ds=0,mi=0,fl=null,fv=0;function Xe(){throw Error(r(321))}function Yo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jt(e[n],t[n]))return!1;return!0}function Vo(e,t,n,l,o,d){return Qn=d,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?_h:Mh,Ua=!1,d=n(l,o),Ua=!1,dl&&(d=Pf(t,n,l,o)),Jf(e),d}function Jf(e){D.H=Os;var t=Me!==null&&Me.next!==null;if(Qn=0,Je=Me=ve=null,As=!1,mi=0,fl=null,t)throw Error(r(300));e===null||nt||(e=e.dependencies,e!==null&&ws(e)&&(nt=!0))}function Pf(e,t,n,l){ve=e;var o=0;do{if(dl&&(fl=null),mi=0,dl=!1,25<=o)throw Error(r(301));if(o+=1,Je=Me=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}D.H=bv,d=t(n,l)}while(dl);return d}function hv(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?gi(t):t,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(ve.flags|=1024),t}function Go(){var e=Ds!==0;return Ds=0,e}function Zo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Xo(e){if(As){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}As=!1}Qn=0,Je=Me=ve=null,dl=!1,mi=Ds=0,fl=null}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?ve.memoizedState=Je=e:Je=Je.next=e,Je}function Pe(){if(Me===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=Je===null?ve.memoizedState:Je.next;if(t!==null)Je=t,Me=e;else{if(e===null)throw ve.alternate===null?Error(r(467)):Error(r(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Je===null?ve.memoizedState=Je=e:Je=Je.next=e}return Je}function Ko(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gi(e){var t=mi;return mi+=1,fl===null&&(fl=[]),e=Vf(fl,e,t),t=ve,(Je===null?t.memoizedState:Je.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?_h:Mh),e}function Cs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return gi(e);if(e.$$typeof===M)return dt(e)}throw Error(r(438,String(e)))}function Qo(e){var t=null,n=ve.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ko(),ve.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=J;return t.index++,n}function wn(e,t){return typeof t=="function"?t(e):t}function Rs(e){var t=Pe();return Jo(t,Me,e)}function Jo(e,t,n){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var o=e.baseQueue,d=l.pending;if(d!==null){if(o!==null){var x=o.next;o.next=d.next,d.next=x}t.baseQueue=o=d,l.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var S=x=null,U=null,G=t,I=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(Ne&te)===te:(Qn&te)===te){var X=G.revertLane;if(X===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===ol&&(I=!0);else if((Qn&X)===X){G=G.next,X===ol&&(I=!0);continue}else te={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},U===null?(S=U=te,x=d):U=U.next=te,ve.lanes|=X,ta|=X;te=G.action,Ua&&n(d,te),d=G.hasEagerState?G.eagerState:n(d,te)}else X={lane:te,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},U===null?(S=U=X,x=d):U=U.next=X,ve.lanes|=te,ta|=te;G=G.next}while(G!==null&&G!==t);if(U===null?x=d:U.next=S,!jt(d,e.memoizedState)&&(nt=!0,I&&(n=cl,n!==null)))throw n;e.memoizedState=d,e.baseState=x,e.baseQueue=U,l.lastRenderedState=d}return o===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Po(e){var t=Pe(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var l=n.dispatch,o=n.pending,d=t.memoizedState;if(o!==null){n.pending=null;var x=o=o.next;do d=e(d,x.action),x=x.next;while(x!==o);jt(d,t.memoizedState)||(nt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,l]}function If(e,t,n){var l=ve,o=Pe(),d=De;if(d){if(n===void 0)throw Error(r(407));n=n()}else n=t();var x=!jt((Me||o).memoizedState,n);x&&(o.memoizedState=n,nt=!0),o=o.queue;var S=eh.bind(null,l,o,e);if(pi(2048,8,S,[e]),o.getSnapshot!==t||x||Je!==null&&Je.memoizedState.tag&1){if(l.flags|=2048,hl(9,_s(),Ff.bind(null,l,o,n,t),null),Le===null)throw Error(r(349));d||(Qn&124)!==0||Wf(l,t,n)}return n}function Wf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t=Ko(),ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ff(e,t,n,l){t.value=n,t.getSnapshot=l,th(t)&&nh(e)}function eh(e,t,n){return n(function(){th(t)&&nh(e)})}function th(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jt(e,n)}catch{return!0}}function nh(e){var t=ll(e,2);t!==null&&Mt(t,e,2)}function Io(e){var t=bt();if(typeof e=="function"){var n=e;if(e=n(),Ua){$n(!0);try{n()}finally{$n(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:e},t}function ah(e,t,n,l){return e.baseState=n,Jo(e,Me,typeof l=="function"?l:wn)}function mv(e,t,n,l,o){if(Us(e))throw Error(r(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){d.listeners.push(x)}};D.T!==null?n(!0):d.isTransition=!1,l(d),n=t.pending,n===null?(d.next=t.pending=d,lh(t,d)):(d.next=n.next,t.pending=n.next=d)}}function lh(e,t){var n=t.action,l=t.payload,o=e.state;if(t.isTransition){var d=D.T,x={};D.T=x;try{var S=n(o,l),U=D.S;U!==null&&U(x,S),ih(e,t,S)}catch(G){Wo(e,t,G)}finally{D.T=d}}else try{d=n(o,l),ih(e,t,d)}catch(G){Wo(e,t,G)}}function ih(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){sh(e,t,l)},function(l){return Wo(e,t,l)}):sh(e,t,n)}function sh(e,t,n){t.status="fulfilled",t.value=n,rh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,lh(e,n)))}function Wo(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,rh(t),t=t.next;while(t!==l)}e.action=null}function rh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oh(e,t){return t}function ch(e,t){if(De){var n=Le.formState;if(n!==null){e:{var l=ve;if(De){if(Ge){t:{for(var o=Ge,d=Ft;o.nodeType!==8;){if(!d){o=null;break t}if(o=Jt(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){Ge=Jt(o.nextSibling),l=o.data==="F!";break e}}Ca(l)}l=!1}l&&(t=n[0])}}return n=bt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oh,lastRenderedState:t},n.queue=l,n=Dh.bind(null,ve,l),l.dispatch=n,l=Io(!1),d=ac.bind(null,ve,!1,l.queue),l=bt(),o={state:t,dispatch:null,action:e,pending:null},l.queue=o,n=mv.bind(null,ve,o,d,n),o.dispatch=n,l.memoizedState=e,[t,n,!1]}function uh(e){var t=Pe();return dh(t,Me,e)}function dh(e,t,n){if(t=Jo(e,t,oh)[0],e=Rs(wn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=gi(t)}catch(x){throw x===ci?Ns:x}else l=t;t=Pe();var o=t.queue,d=o.dispatch;return n!==t.memoizedState&&(ve.flags|=2048,hl(9,_s(),gv.bind(null,o,n),null)),[l,d,e]}function gv(e,t){e.action=t}function fh(e){var t=Pe(),n=Me;if(n!==null)return dh(t,n,e);Pe(),t=t.memoizedState,n=Pe();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function hl(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=ve.updateQueue,t===null&&(t=Ko(),ve.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function _s(){return{destroy:void 0,resource:void 0}}function hh(){return Pe().memoizedState}function Ms(e,t,n,l){var o=bt();l=l===void 0?null:l,ve.flags|=e,o.memoizedState=hl(1|t,_s(),n,l)}function pi(e,t,n,l){var o=Pe();l=l===void 0?null:l;var d=o.memoizedState.inst;Me!==null&&l!==null&&Yo(l,Me.memoizedState.deps)?o.memoizedState=hl(t,d,n,l):(ve.flags|=e,o.memoizedState=hl(1|t,d,n,l))}function mh(e,t){Ms(8390656,8,e,t)}function gh(e,t){pi(2048,8,e,t)}function ph(e,t){return pi(4,2,e,t)}function yh(e,t){return pi(4,4,e,t)}function vh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bh(e,t,n){n=n!=null?n.concat([e]):null,pi(4,4,vh.bind(null,t,e),n)}function Fo(){}function xh(e,t){var n=Pe();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Yo(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function wh(e,t){var n=Pe();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Yo(t,l[1]))return l[0];if(l=e(),Ua){$n(!0);try{e()}finally{$n(!1)}}return n.memoizedState=[l,t],l}function ec(e,t,n){return n===void 0||(Qn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=Nm(),ve.lanes|=e,ta|=e,n)}function Eh(e,t,n,l){return jt(n,t)?n:ul.current!==null?(e=ec(e,n,l),jt(e,t)||(nt=!0),e):(Qn&42)===0?(nt=!0,e.memoizedState=n):(e=Nm(),ve.lanes|=e,ta|=e,t)}function Sh(e,t,n,l,o){var d=$.p;$.p=d!==0&&8>d?d:8;var x=D.T,S={};D.T=S,ac(e,!1,t,n);try{var U=o(),G=D.S;if(G!==null&&G(S,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var I=dv(U,l);yi(e,t,I,_t(e))}else yi(e,t,l,_t(e))}catch(te){yi(e,t,{then:function(){},status:"rejected",reason:te},_t())}finally{$.p=d,D.T=x}}function pv(){}function tc(e,t,n,l){if(e.tag!==5)throw Error(r(476));var o=Nh(e).queue;Sh(e,o,t,W,n===null?pv:function(){return Th(e),n(l)})}function Nh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:W},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Th(e){var t=Nh(e).next.queue;yi(e,t,{},_t())}function nc(){return dt(ki)}function jh(){return Pe().memoizedState}function Ah(){return Pe().memoizedState}function yv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=_t();e=Xn(n);var l=Kn(t,e,n);l!==null&&(Mt(l,t,n),di(l,t,n)),t={cache:Mo()},e.payload=t;return}t=t.return}}function vv(e,t,n){var l=_t();n={lane:l,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Us(e)?Ch(t,n):(n=Eo(e,t,n,l),n!==null&&(Mt(n,e,l),Rh(n,t,l)))}function Dh(e,t,n){var l=_t();yi(e,t,n,l)}function yi(e,t,n,l){var o={lane:l,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Us(e))Ch(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var x=t.lastRenderedState,S=d(x,n);if(o.hasEagerState=!0,o.eagerState=S,jt(S,x))return ps(e,t,o,0),Le===null&&gs(),!1}catch{}finally{}if(n=Eo(e,t,o,l),n!==null)return Mt(n,e,l),Rh(n,t,l),!0}return!1}function ac(e,t,n,l){if(l={lane:2,revertLane:kc(),action:l,hasEagerState:!1,eagerState:null,next:null},Us(e)){if(t)throw Error(r(479))}else t=Eo(e,n,l,2),t!==null&&Mt(t,e,2)}function Us(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function Ch(e,t){dl=As=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Rh(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Bd(e,n)}}var Os={readContext:dt,use:Cs,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe},_h={readContext:dt,use:Cs,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:dt,useEffect:mh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ms(4194308,4,vh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ms(4194308,4,e,t)},useInsertionEffect:function(e,t){Ms(4,2,e,t)},useMemo:function(e,t){var n=bt();t=t===void 0?null:t;var l=e();if(Ua){$n(!0);try{e()}finally{$n(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=bt();if(n!==void 0){var o=n(t);if(Ua){$n(!0);try{n(t)}finally{$n(!1)}}}else o=t;return l.memoizedState=l.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},l.queue=e,e=e.dispatch=vv.bind(null,ve,e),[l.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:function(e){e=Io(e);var t=e.queue,n=Dh.bind(null,ve,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Fo,useDeferredValue:function(e,t){var n=bt();return ec(n,e,t)},useTransition:function(){var e=Io(!1);return e=Sh.bind(null,ve,e.queue,!0,!1),bt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=ve,o=bt();if(De){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),Le===null)throw Error(r(349));(Ne&124)!==0||Wf(l,t,n)}o.memoizedState=n;var d={value:n,getSnapshot:t};return o.queue=d,mh(eh.bind(null,l,d,e),[e]),l.flags|=2048,hl(9,_s(),Ff.bind(null,l,d,n,t),null),n},useId:function(){var e=bt(),t=Le.identifierPrefix;if(De){var n=vn,l=yn;n=(l&~(1<<32-Tt(l)-1)).toString(32)+n,t=""+t+"R"+n,n=Ds++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=fv++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:nc,useFormState:ch,useActionState:ch,useOptimistic:function(e){var t=bt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ac.bind(null,ve,!0,n),n.dispatch=t,[e,t]},useMemoCache:Qo,useCacheRefresh:function(){return bt().memoizedState=yv.bind(null,ve)}},Mh={readContext:dt,use:Cs,useCallback:xh,useContext:dt,useEffect:gh,useImperativeHandle:bh,useInsertionEffect:ph,useLayoutEffect:yh,useMemo:wh,useReducer:Rs,useRef:hh,useState:function(){return Rs(wn)},useDebugValue:Fo,useDeferredValue:function(e,t){var n=Pe();return Eh(n,Me.memoizedState,e,t)},useTransition:function(){var e=Rs(wn)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:gi(e),t]},useSyncExternalStore:If,useId:jh,useHostTransitionStatus:nc,useFormState:uh,useActionState:uh,useOptimistic:function(e,t){var n=Pe();return ah(n,Me,e,t)},useMemoCache:Qo,useCacheRefresh:Ah},bv={readContext:dt,use:Cs,useCallback:xh,useContext:dt,useEffect:gh,useImperativeHandle:bh,useInsertionEffect:ph,useLayoutEffect:yh,useMemo:wh,useReducer:Po,useRef:hh,useState:function(){return Po(wn)},useDebugValue:Fo,useDeferredValue:function(e,t){var n=Pe();return Me===null?ec(n,e,t):Eh(n,Me.memoizedState,e,t)},useTransition:function(){var e=Po(wn)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:gi(e),t]},useSyncExternalStore:If,useId:jh,useHostTransitionStatus:nc,useFormState:fh,useActionState:fh,useOptimistic:function(e,t){var n=Pe();return Me!==null?ah(n,Me,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Qo,useCacheRefresh:Ah},ml=null,vi=0;function ks(e){var t=vi;return vi+=1,ml===null&&(ml=[]),Vf(ml,e,t)}function bi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function zs(e,t){throw t.$$typeof===v?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Uh(e){var t=e._init;return t(e._payload)}function Oh(e){function t(q,z){if(e){var V=q.deletions;V===null?(q.deletions=[z],q.flags|=16):V.push(z)}}function n(q,z){if(!e)return null;for(;z!==null;)t(q,z),z=z.sibling;return null}function l(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function o(q,z){return q=pn(q,z),q.index=0,q.sibling=null,q}function d(q,z,V){return q.index=V,e?(V=q.alternate,V!==null?(V=V.index,V<z?(q.flags|=67108866,z):V):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function x(q){return e&&q.alternate===null&&(q.flags|=67108866),q}function S(q,z,V,F){return z===null||z.tag!==6?(z=No(V,q.mode,F),z.return=q,z):(z=o(z,V),z.return=q,z)}function U(q,z,V,F){var de=V.type;return de===E?I(q,z,V.props.children,F,V.key):z!==null&&(z.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===H&&Uh(de)===z.type)?(z=o(z,V.props),bi(z,V),z.return=q,z):(z=vs(V.type,V.key,V.props,null,q.mode,F),bi(z,V),z.return=q,z)}function G(q,z,V,F){return z===null||z.tag!==4||z.stateNode.containerInfo!==V.containerInfo||z.stateNode.implementation!==V.implementation?(z=To(V,q.mode,F),z.return=q,z):(z=o(z,V.children||[]),z.return=q,z)}function I(q,z,V,F,de){return z===null||z.tag!==7?(z=Ta(V,q.mode,F,de),z.return=q,z):(z=o(z,V),z.return=q,z)}function te(q,z,V){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=No(""+z,q.mode,V),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return V=vs(z.type,z.key,z.props,null,q.mode,V),bi(V,z),V.return=q,V;case w:return z=To(z,q.mode,V),z.return=q,z;case H:var F=z._init;return z=F(z._payload),te(q,z,V)}if(L(z)||ce(z))return z=Ta(z,q.mode,V,null),z.return=q,z;if(typeof z.then=="function")return te(q,ks(z),V);if(z.$$typeof===M)return te(q,Es(q,z),V);zs(q,z)}return null}function X(q,z,V,F){var de=z!==null?z.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return de!==null?null:S(q,z,""+V,F);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case b:return V.key===de?U(q,z,V,F):null;case w:return V.key===de?G(q,z,V,F):null;case H:return de=V._init,V=de(V._payload),X(q,z,V,F)}if(L(V)||ce(V))return de!==null?null:I(q,z,V,F,null);if(typeof V.then=="function")return X(q,z,ks(V),F);if(V.$$typeof===M)return X(q,z,Es(q,V),F);zs(q,V)}return null}function K(q,z,V,F,de){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return q=q.get(V)||null,S(z,q,""+F,de);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case b:return q=q.get(F.key===null?V:F.key)||null,U(z,q,F,de);case w:return q=q.get(F.key===null?V:F.key)||null,G(z,q,F,de);case H:var be=F._init;return F=be(F._payload),K(q,z,V,F,de)}if(L(F)||ce(F))return q=q.get(V)||null,I(z,q,F,de,null);if(typeof F.then=="function")return K(q,z,V,ks(F),de);if(F.$$typeof===M)return K(q,z,V,Es(z,F),de);zs(z,F)}return null}function ge(q,z,V,F){for(var de=null,be=null,fe=z,me=z=0,lt=null;fe!==null&&me<V.length;me++){fe.index>me?(lt=fe,fe=null):lt=fe.sibling;var Te=X(q,fe,V[me],F);if(Te===null){fe===null&&(fe=lt);break}e&&fe&&Te.alternate===null&&t(q,fe),z=d(Te,z,me),be===null?de=Te:be.sibling=Te,be=Te,fe=lt}if(me===V.length)return n(q,fe),De&&Aa(q,me),de;if(fe===null){for(;me<V.length;me++)fe=te(q,V[me],F),fe!==null&&(z=d(fe,z,me),be===null?de=fe:be.sibling=fe,be=fe);return De&&Aa(q,me),de}for(fe=l(fe);me<V.length;me++)lt=K(fe,q,me,V[me],F),lt!==null&&(e&&lt.alternate!==null&&fe.delete(lt.key===null?me:lt.key),z=d(lt,z,me),be===null?de=lt:be.sibling=lt,be=lt);return e&&fe.forEach(function(ua){return t(q,ua)}),De&&Aa(q,me),de}function he(q,z,V,F){if(V==null)throw Error(r(151));for(var de=null,be=null,fe=z,me=z=0,lt=null,Te=V.next();fe!==null&&!Te.done;me++,Te=V.next()){fe.index>me?(lt=fe,fe=null):lt=fe.sibling;var ua=X(q,fe,Te.value,F);if(ua===null){fe===null&&(fe=lt);break}e&&fe&&ua.alternate===null&&t(q,fe),z=d(ua,z,me),be===null?de=ua:be.sibling=ua,be=ua,fe=lt}if(Te.done)return n(q,fe),De&&Aa(q,me),de;if(fe===null){for(;!Te.done;me++,Te=V.next())Te=te(q,Te.value,F),Te!==null&&(z=d(Te,z,me),be===null?de=Te:be.sibling=Te,be=Te);return De&&Aa(q,me),de}for(fe=l(fe);!Te.done;me++,Te=V.next())Te=K(fe,q,me,Te.value,F),Te!==null&&(e&&Te.alternate!==null&&fe.delete(Te.key===null?me:Te.key),z=d(Te,z,me),be===null?de=Te:be.sibling=Te,be=Te);return e&&fe.forEach(function(xb){return t(q,xb)}),De&&Aa(q,me),de}function Oe(q,z,V,F){if(typeof V=="object"&&V!==null&&V.type===E&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case b:e:{for(var de=V.key;z!==null;){if(z.key===de){if(de=V.type,de===E){if(z.tag===7){n(q,z.sibling),F=o(z,V.props.children),F.return=q,q=F;break e}}else if(z.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===H&&Uh(de)===z.type){n(q,z.sibling),F=o(z,V.props),bi(F,V),F.return=q,q=F;break e}n(q,z);break}else t(q,z);z=z.sibling}V.type===E?(F=Ta(V.props.children,q.mode,F,V.key),F.return=q,q=F):(F=vs(V.type,V.key,V.props,null,q.mode,F),bi(F,V),F.return=q,q=F)}return x(q);case w:e:{for(de=V.key;z!==null;){if(z.key===de)if(z.tag===4&&z.stateNode.containerInfo===V.containerInfo&&z.stateNode.implementation===V.implementation){n(q,z.sibling),F=o(z,V.children||[]),F.return=q,q=F;break e}else{n(q,z);break}else t(q,z);z=z.sibling}F=To(V,q.mode,F),F.return=q,q=F}return x(q);case H:return de=V._init,V=de(V._payload),Oe(q,z,V,F)}if(L(V))return ge(q,z,V,F);if(ce(V)){if(de=ce(V),typeof de!="function")throw Error(r(150));return V=de.call(V),he(q,z,V,F)}if(typeof V.then=="function")return Oe(q,z,ks(V),F);if(V.$$typeof===M)return Oe(q,z,Es(q,V),F);zs(q,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,z!==null&&z.tag===6?(n(q,z.sibling),F=o(z,V),F.return=q,q=F):(n(q,z),F=No(V,q.mode,F),F.return=q,q=F),x(q)):n(q,z)}return function(q,z,V,F){try{vi=0;var de=Oe(q,z,V,F);return ml=null,de}catch(fe){if(fe===ci||fe===Ns)throw fe;var be=At(29,fe,null,q.mode);return be.lanes=F,be.return=q,be}finally{}}}var gl=Oh(!0),kh=Oh(!1),qt=Z(null),en=null;function Jn(e){var t=e.alternate;le(We,We.current&1),le(qt,e),en===null&&(t===null||ul.current!==null||t.memoizedState!==null)&&(en=e)}function zh(e){if(e.tag===22){if(le(We,We.current),le(qt,e),en===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(en=e)}}else Pn()}function Pn(){le(We,We.current),le(qt,qt.current)}function En(e){ee(qt),en===e&&(en=null),ee(We)}var We=Z(0);function Bs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Kc(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function lc(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:y({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ic={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=_t(),o=Xn(l);o.payload=t,n!=null&&(o.callback=n),t=Kn(e,o,l),t!==null&&(Mt(t,e,l),di(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=_t(),o=Xn(l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Kn(e,o,l),t!==null&&(Mt(t,e,l),di(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_t(),l=Xn(n);l.tag=2,t!=null&&(l.callback=t),t=Kn(e,l,n),t!==null&&(Mt(t,e,n),di(t,e,n))}};function Bh(e,t,n,l,o,d,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,x):t.prototype&&t.prototype.isPureReactComponent?!ti(n,l)||!ti(o,d):!0}function Lh(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&ic.enqueueReplaceState(t,t.state,null)}function Oa(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=y({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}var Ls=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Hh(e){Ls(e)}function qh(e){console.error(e)}function $h(e){Ls(e)}function Hs(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Yh(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function sc(e,t,n){return n=Xn(n),n.tag=3,n.payload={element:null},n.callback=function(){Hs(e,t)},n}function Vh(e){return e=Xn(e),e.tag=3,e}function Gh(e,t,n,l){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var d=l.value;e.payload=function(){return o(d)},e.callback=function(){Yh(t,n,l)}}var x=n.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){Yh(t,n,l),typeof o!="function"&&(na===null?na=new Set([this]):na.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function xv(e,t,n,l,o){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&si(t,n,o,!0),n=qt.current,n!==null){switch(n.tag){case 13:return en===null?Rc():n.alternate===null&&Ze===0&&(Ze=3),n.flags&=-257,n.flags|=65536,n.lanes=o,l===ko?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),Mc(e,l,o)),!1;case 22:return n.flags|=65536,l===ko?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),Mc(e,l,o)),!1}throw Error(r(435,n.tag))}return Mc(e,l,o),Rc(),!1}if(De)return t=qt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,l!==Do&&(e=Error(r(422),{cause:l}),ii(zt(e,n)))):(l!==Do&&(t=Error(r(423),{cause:l}),ii(zt(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,l=zt(l,n),o=sc(e.stateNode,l,o),Lo(e,o),Ze!==4&&(Ze=2)),!1;var d=Error(r(520),{cause:l});if(d=zt(d,n),ji===null?ji=[d]:ji.push(d),Ze!==4&&(Ze=2),t===null)return!0;l=zt(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=sc(n.stateNode,l,e),Lo(n,e),!1;case 1:if(t=n.type,d=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(na===null||!na.has(d))))return n.flags|=65536,o&=-o,n.lanes|=o,o=Vh(o),Gh(o,e,n,l),Lo(n,o),!1}n=n.return}while(n!==null);return!1}var Zh=Error(r(461)),nt=!1;function st(e,t,n,l){t.child=e===null?kh(t,null,n,l):gl(t,e.child,n,l)}function Xh(e,t,n,l,o){n=n.render;var d=t.ref;if("ref"in l){var x={};for(var S in l)S!=="ref"&&(x[S]=l[S])}else x=l;return _a(t),l=Vo(e,t,n,x,d,o),S=Go(),e!==null&&!nt?(Zo(e,t,o),Sn(e,t,o)):(De&&S&&jo(t),t.flags|=1,st(e,t,l,o),t.child)}function Kh(e,t,n,l,o){if(e===null){var d=n.type;return typeof d=="function"&&!So(d)&&d.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=d,Qh(e,t,d,l,o)):(e=vs(n.type,null,l,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!mc(e,o)){var x=d.memoizedProps;if(n=n.compare,n=n!==null?n:ti,n(x,l)&&e.ref===t.ref)return Sn(e,t,o)}return t.flags|=1,e=pn(d,l),e.ref=t.ref,e.return=t,t.child=e}function Qh(e,t,n,l,o){if(e!==null){var d=e.memoizedProps;if(ti(d,l)&&e.ref===t.ref)if(nt=!1,t.pendingProps=l=d,mc(e,o))(e.flags&131072)!==0&&(nt=!0);else return t.lanes=e.lanes,Sn(e,t,o)}return rc(e,t,n,l,o)}function Jh(e,t,n){var l=t.pendingProps,o=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((t.flags&128)!==0){if(l=d!==null?d.baseLanes|n:n,e!==null){for(o=t.child=e.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;t.childLanes=d&~l}else t.childLanes=0,t.child=null;return Ph(e,t,l,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ss(t,d!==null?d.cachePool:null),d!==null?Qf(t,d):qo(),zh(t);else return t.lanes=t.childLanes=536870912,Ph(e,t,d!==null?d.baseLanes|n:n,n)}else d!==null?(Ss(t,d.cachePool),Qf(t,d),Pn(),t.memoizedState=null):(e!==null&&Ss(t,null),qo(),Pn());return st(e,t,o,n),t.child}function Ph(e,t,n,l){var o=Oo();return o=o===null?null:{parent:Ie._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&Ss(t,null),qo(),zh(t),e!==null&&si(e,t,l,!0),null}function qs(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function rc(e,t,n,l,o){return _a(t),n=Vo(e,t,n,l,void 0,o),l=Go(),e!==null&&!nt?(Zo(e,t,o),Sn(e,t,o)):(De&&l&&jo(t),t.flags|=1,st(e,t,n,o),t.child)}function Ih(e,t,n,l,o,d){return _a(t),t.updateQueue=null,n=Pf(t,l,n,o),Jf(e),l=Go(),e!==null&&!nt?(Zo(e,t,d),Sn(e,t,d)):(De&&l&&jo(t),t.flags|=1,st(e,t,n,d),t.child)}function Wh(e,t,n,l,o){if(_a(t),t.stateNode===null){var d=il,x=n.contextType;typeof x=="object"&&x!==null&&(d=dt(x)),d=new n(l,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ic,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=l,d.state=t.memoizedState,d.refs={},zo(t),x=n.contextType,d.context=typeof x=="object"&&x!==null?dt(x):il,d.state=t.memoizedState,x=n.getDerivedStateFromProps,typeof x=="function"&&(lc(t,n,x,l),d.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(x=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),x!==d.state&&ic.enqueueReplaceState(d,d.state,null),hi(t,l,d,o),fi(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){d=t.stateNode;var S=t.memoizedProps,U=Oa(n,S);d.props=U;var G=d.context,I=n.contextType;x=il,typeof I=="object"&&I!==null&&(x=dt(I));var te=n.getDerivedStateFromProps;I=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=t.pendingProps!==S,I||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||G!==x)&&Lh(t,d,l,x),Zn=!1;var X=t.memoizedState;d.state=X,hi(t,l,d,o),fi(),G=t.memoizedState,S||X!==G||Zn?(typeof te=="function"&&(lc(t,n,te,l),G=t.memoizedState),(U=Zn||Bh(t,n,U,l,X,G,x))?(I||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=G),d.props=l,d.state=G,d.context=x,l=U):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{d=t.stateNode,Bo(e,t),x=t.memoizedProps,I=Oa(n,x),d.props=I,te=t.pendingProps,X=d.context,G=n.contextType,U=il,typeof G=="object"&&G!==null&&(U=dt(G)),S=n.getDerivedStateFromProps,(G=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x!==te||X!==U)&&Lh(t,d,l,U),Zn=!1,X=t.memoizedState,d.state=X,hi(t,l,d,o),fi();var K=t.memoizedState;x!==te||X!==K||Zn||e!==null&&e.dependencies!==null&&ws(e.dependencies)?(typeof S=="function"&&(lc(t,n,S,l),K=t.memoizedState),(I=Zn||Bh(t,n,I,l,X,K,U)||e!==null&&e.dependencies!==null&&ws(e.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,U),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,U)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||x===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=K),d.props=l,d.state=K,d.context=U,l=I):(typeof d.componentDidUpdate!="function"||x===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),l=!1)}return d=l,qs(e,t),l=(t.flags&128)!==0,d||l?(d=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&l?(t.child=gl(t,e.child,null,o),t.child=gl(t,null,n,o)):st(e,t,n,o),t.memoizedState=d.state,e=t.child):e=Sn(e,t,o),e}function Fh(e,t,n,l){return li(),t.flags|=256,st(e,t,n,l),t.child}var oc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cc(e){return{baseLanes:e,cachePool:qf()}}function uc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=$t),e}function em(e,t,n){var l=t.pendingProps,o=!1,d=(t.flags&128)!==0,x;if((x=d)||(x=e!==null&&e.memoizedState===null?!1:(We.current&2)!==0),x&&(o=!0,t.flags&=-129),x=(t.flags&32)!==0,t.flags&=-33,e===null){if(De){if(o?Jn(t):Pn(),De){var S=Ge,U;if(U=S){e:{for(U=S,S=Ft;U.nodeType!==8;){if(!S){S=null;break e}if(U=Jt(U.nextSibling),U===null){S=null;break e}}S=U}S!==null?(t.memoizedState={dehydrated:S,treeContext:ja!==null?{id:yn,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},U=At(18,null,null,0),U.stateNode=S,U.return=t,t.child=U,pt=t,Ge=null,U=!0):U=!1}U||Ca(t)}if(S=t.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Kc(S)?t.lanes=32:t.lanes=536870912,null;En(t)}return S=l.children,l=l.fallback,o?(Pn(),o=t.mode,S=$s({mode:"hidden",children:S},o),l=Ta(l,o,n,null),S.return=t,l.return=t,S.sibling=l,t.child=S,o=t.child,o.memoizedState=cc(n),o.childLanes=uc(e,x,n),t.memoizedState=oc,l):(Jn(t),dc(t,S))}if(U=e.memoizedState,U!==null&&(S=U.dehydrated,S!==null)){if(d)t.flags&256?(Jn(t),t.flags&=-257,t=fc(e,t,n)):t.memoizedState!==null?(Pn(),t.child=e.child,t.flags|=128,t=null):(Pn(),o=l.fallback,S=t.mode,l=$s({mode:"visible",children:l.children},S),o=Ta(o,S,n,null),o.flags|=2,l.return=t,o.return=t,l.sibling=o,t.child=l,gl(t,e.child,null,n),l=t.child,l.memoizedState=cc(n),l.childLanes=uc(e,x,n),t.memoizedState=oc,t=o);else if(Jn(t),Kc(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var G=x.dgst;x=G,l=Error(r(419)),l.stack="",l.digest=x,ii({value:l,source:null,stack:null}),t=fc(e,t,n)}else if(nt||si(e,t,n,!1),x=(n&e.childLanes)!==0,nt||x){if(x=Le,x!==null&&(l=n&-n,l=(l&42)!==0?1:Kr(l),l=(l&(x.suspendedLanes|n))!==0?0:l,l!==0&&l!==U.retryLane))throw U.retryLane=l,ll(e,l),Mt(x,e,l),Zh;S.data==="$?"||Rc(),t=fc(e,t,n)}else S.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=U.treeContext,Ge=Jt(S.nextSibling),pt=t,De=!0,Da=null,Ft=!1,e!==null&&(Lt[Ht++]=yn,Lt[Ht++]=vn,Lt[Ht++]=ja,yn=e.id,vn=e.overflow,ja=t),t=dc(t,l.children),t.flags|=4096);return t}return o?(Pn(),o=l.fallback,S=t.mode,U=e.child,G=U.sibling,l=pn(U,{mode:"hidden",children:l.children}),l.subtreeFlags=U.subtreeFlags&65011712,G!==null?o=pn(G,o):(o=Ta(o,S,n,null),o.flags|=2),o.return=t,l.return=t,l.sibling=o,t.child=l,l=o,o=t.child,S=e.child.memoizedState,S===null?S=cc(n):(U=S.cachePool,U!==null?(G=Ie._currentValue,U=U.parent!==G?{parent:G,pool:G}:U):U=qf(),S={baseLanes:S.baseLanes|n,cachePool:U}),o.memoizedState=S,o.childLanes=uc(e,x,n),t.memoizedState=oc,l):(Jn(t),n=e.child,e=n.sibling,n=pn(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(x=t.deletions,x===null?(t.deletions=[e],t.flags|=16):x.push(e)),t.child=n,t.memoizedState=null,n)}function dc(e,t){return t=$s({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function $s(e,t){return e=At(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function fc(e,t,n){return gl(t,e.child,null,n),e=dc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tm(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Ro(e.return,t,n)}function hc(e,t,n,l,o){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:o}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=n,d.tailMode=o)}function nm(e,t,n){var l=t.pendingProps,o=l.revealOrder,d=l.tail;if(st(e,t,l.children,n),l=We.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tm(e,n,t);else if(e.tag===19)tm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(le(We,l),o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Bs(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),hc(t,!1,o,n,d);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Bs(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}hc(t,!0,n,null,d);break;case"together":hc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ta|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(si(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=pn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=pn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ws(e)))}function wv(e,t,n){switch(t.tag){case 3:pe(t,t.stateNode.containerInfo),Gn(t,Ie,e.memoizedState.cache),li();break;case 27:case 5:ke(t);break;case 4:pe(t,t.stateNode.containerInfo);break;case 10:Gn(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Jn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?em(e,t,n):(Jn(t),e=Sn(e,t,n),e!==null?e.sibling:null);Jn(t);break;case 19:var o=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(si(e,t,n,!1),l=(n&t.childLanes)!==0),o){if(l)return nm(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),le(We,We.current),l)break;return null;case 22:case 23:return t.lanes=0,Jh(e,t,n);case 24:Gn(t,Ie,e.memoizedState.cache)}return Sn(e,t,n)}function am(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)nt=!0;else{if(!mc(e,n)&&(t.flags&128)===0)return nt=!1,wv(e,t,n);nt=(e.flags&131072)!==0}else nt=!1,De&&(t.flags&1048576)!==0&&Uf(t,xs,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,o=l._init;if(l=o(l._payload),t.type=l,typeof l=="function")So(l)?(e=Oa(l,e),t.tag=1,t=Wh(null,t,l,e,n)):(t.tag=0,t=rc(null,t,l,e,n));else{if(l!=null){if(o=l.$$typeof,o===A){t.tag=11,t=Xh(null,t,l,e,n);break e}else if(o===B){t.tag=14,t=Kh(null,t,l,e,n);break e}}throw t=Y(l)||l,Error(r(306,t,""))}}return t;case 0:return rc(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,o=Oa(l,t.pendingProps),Wh(e,t,l,o,n);case 3:e:{if(pe(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var d=t.memoizedState;o=d.element,Bo(e,t),hi(t,l,null,n);var x=t.memoizedState;if(l=x.cache,Gn(t,Ie,l),l!==d.cache&&_o(t,[Ie],n,!0),fi(),l=x.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:x.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Fh(e,t,l,n);break e}else if(l!==o){o=zt(Error(r(424)),t),ii(o),t=Fh(e,t,l,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ge=Jt(e.firstChild),pt=t,De=!0,Da=null,Ft=!0,n=kh(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(li(),l===o){t=Sn(e,t,n);break e}st(e,t,l,n)}t=t.child}return t;case 26:return qs(e,t),e===null?(n=rg(t.type,null,t.pendingProps,null))?t.memoizedState=n:De||(n=t.type,e=t.pendingProps,l=tr(ie.current).createElement(n),l[ut]=t,l[yt]=e,ot(l,n,e),tt(l),t.stateNode=l):t.memoizedState=rg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ke(t),e===null&&De&&(l=t.stateNode=lg(t.type,t.pendingProps,ie.current),pt=t,Ft=!0,o=Ge,ia(t.type)?(Qc=o,Ge=Jt(l.firstChild)):Ge=o),st(e,t,t.pendingProps.children,n),qs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&De&&((o=l=Ge)&&(l=Jv(l,t.type,t.pendingProps,Ft),l!==null?(t.stateNode=l,pt=t,Ge=Jt(l.firstChild),Ft=!1,o=!0):o=!1),o||Ca(t)),ke(t),o=t.type,d=t.pendingProps,x=e!==null?e.memoizedProps:null,l=d.children,Gc(o,d)?l=null:x!==null&&Gc(o,x)&&(t.flags|=32),t.memoizedState!==null&&(o=Vo(e,t,hv,null,null,n),ki._currentValue=o),qs(e,t),st(e,t,l,n),t.child;case 6:return e===null&&De&&((e=n=Ge)&&(n=Pv(n,t.pendingProps,Ft),n!==null?(t.stateNode=n,pt=t,Ge=null,e=!0):e=!1),e||Ca(t)),null;case 13:return em(e,t,n);case 4:return pe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=gl(t,null,l,n):st(e,t,l,n),t.child;case 11:return Xh(e,t,t.type,t.pendingProps,n);case 7:return st(e,t,t.pendingProps,n),t.child;case 8:return st(e,t,t.pendingProps.children,n),t.child;case 12:return st(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,Gn(t,t.type,l.value),st(e,t,l.children,n),t.child;case 9:return o=t.type._context,l=t.pendingProps.children,_a(t),o=dt(o),l=l(o),t.flags|=1,st(e,t,l,n),t.child;case 14:return Kh(e,t,t.type,t.pendingProps,n);case 15:return Qh(e,t,t.type,t.pendingProps,n);case 19:return nm(e,t,n);case 31:return l=t.pendingProps,n=t.mode,l={mode:l.mode,children:l.children},e===null?(n=$s(l,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=pn(e.child,l),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Jh(e,t,n);case 24:return _a(t),l=dt(Ie),e===null?(o=Oo(),o===null&&(o=Le,d=Mo(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=n),o=d),t.memoizedState={parent:l,cache:o},zo(t),Gn(t,Ie,o)):((e.lanes&n)!==0&&(Bo(e,t),hi(t,null,null,n),fi()),o=e.memoizedState,d=t.memoizedState,o.parent!==l?(o={parent:l,cache:l},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Gn(t,Ie,l)):(l=d.cache,Gn(t,Ie,l),l!==o.cache&&_o(t,[Ie],n,!0))),st(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Nn(e){e.flags|=4}function lm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!fg(t)){if(t=qt.current,t!==null&&((Ne&4194048)===Ne?en!==null:(Ne&62914560)!==Ne&&(Ne&536870912)===0||t!==en))throw ui=ko,$f;e.flags|=8192}}function Ys(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?kd():536870912,e.lanes|=t,bl|=t)}function xi(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,l|=o.subtreeFlags&65011712,l|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,l|=o.subtreeFlags,l|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function Ev(e,t,n){var l=t.pendingProps;switch(Ao(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return Ve(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),xn(Ie),Se(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ai(t)?Nn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,zf())),Ve(t),null;case 26:return n=t.memoizedState,e===null?(Nn(t),n!==null?(Ve(t),lm(t,n)):(Ve(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Nn(t),Ve(t),lm(t,n)):(Ve(t),t.flags&=-16777217):(e.memoizedProps!==l&&Nn(t),Ve(t),t.flags&=-16777217),null;case 27:se(t),n=ie.current;var o=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Nn(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return Ve(t),null}e=P.current,ai(t)?Of(t):(e=lg(o,l,n),t.stateNode=e,Nn(t))}return Ve(t),null;case 5:if(se(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Nn(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return Ve(t),null}if(e=P.current,ai(t))Of(t);else{switch(o=tr(ie.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?o.createElement("select",{is:l.is}):o.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?o.createElement(n,{is:l.is}):o.createElement(n)}}e[ut]=t,e[yt]=l;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(ot(e,n,l),n){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Nn(t)}}return Ve(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Nn(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=ie.current,ai(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,o=pt,o!==null)switch(o.tag){case 27:case 5:l=o.memoizedProps}e[ut]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Im(e.nodeValue,n)),e||Ca(t)}else e=tr(e).createTextNode(l),e[ut]=t,t.stateNode=e}return Ve(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=ai(t),l!==null&&l.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[ut]=t}else li(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),o=!1}else o=zf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(En(t),t):(En(t),null)}if(En(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=l!==null,e=e!==null&&e.memoizedState!==null,n){l=t.child,o=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(o=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==o&&(l.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Ys(t,t.updateQueue),Ve(t),null;case 4:return Se(),e===null&&Hc(t.stateNode.containerInfo),Ve(t),null;case 10:return xn(t.type),Ve(t),null;case 19:if(ee(We),o=t.memoizedState,o===null)return Ve(t),null;if(l=(t.flags&128)!==0,d=o.rendering,d===null)if(l)xi(o,!1);else{if(Ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Bs(e),d!==null){for(t.flags|=128,xi(o,!1),e=d.updateQueue,t.updateQueue=e,Ys(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Mf(n,e),n=n.sibling;return le(We,We.current&1|2),t.child}e=e.sibling}o.tail!==null&&He()>Zs&&(t.flags|=128,l=!0,xi(o,!1),t.lanes=4194304)}else{if(!l)if(e=Bs(d),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Ys(t,e),xi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!De)return Ve(t),null}else 2*He()-o.renderingStartTime>Zs&&n!==536870912&&(t.flags|=128,l=!0,xi(o,!1),t.lanes=4194304);o.isBackwards?(d.sibling=t.child,t.child=d):(e=o.last,e!==null?e.sibling=d:t.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=He(),t.sibling=null,e=We.current,le(We,l?e&1|2:e&1),t):(Ve(t),null);case 22:case 23:return En(t),$o(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),n=t.updateQueue,n!==null&&Ys(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&ee(Ma),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xn(Ie),Ve(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Sv(e,t){switch(Ao(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xn(Ie),Se(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return se(t),null;case 13:if(En(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));li()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(We),null;case 4:return Se(),null;case 10:return xn(t.type),null;case 22:case 23:return En(t),$o(),e!==null&&ee(Ma),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return xn(Ie),null;case 25:return null;default:return null}}function im(e,t){switch(Ao(t),t.tag){case 3:xn(Ie),Se();break;case 26:case 27:case 5:se(t);break;case 4:Se();break;case 13:En(t);break;case 19:ee(We);break;case 10:xn(t.type);break;case 22:case 23:En(t),$o(),e!==null&&ee(Ma);break;case 24:xn(Ie)}}function wi(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var o=l.next;n=o;do{if((n.tag&e)===e){l=void 0;var d=n.create,x=n.inst;l=d(),x.destroy=l}n=n.next}while(n!==o)}}catch(S){ze(t,t.return,S)}}function In(e,t,n){try{var l=t.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var d=o.next;l=d;do{if((l.tag&e)===e){var x=l.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,o=t;var U=n,G=S;try{G()}catch(I){ze(o,U,I)}}}l=l.next}while(l!==d)}}catch(I){ze(t,t.return,I)}}function sm(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Kf(t,n)}catch(l){ze(e,e.return,l)}}}function rm(e,t,n){n.props=Oa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){ze(e,t,l)}}function Ei(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(o){ze(e,t,o)}}function tn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(o){ze(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){ze(e,t,o)}else n.current=null}function om(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(o){ze(e,e.return,o)}}function gc(e,t,n){try{var l=e.stateNode;Gv(l,e.type,n,t),l[yt]=t}catch(o){ze(e,e.return,o)}}function cm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ia(e.type)||e.tag===4}function pc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ia(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yc(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=er));else if(l!==4&&(l===27&&ia(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(yc(e,t,n),e=e.sibling;e!==null;)yc(e,t,n),e=e.sibling}function Vs(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&ia(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Vs(e,t,n),e=e.sibling;e!==null;)Vs(e,t,n),e=e.sibling}function um(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ot(t,l,n),t[ut]=e,t[yt]=n}catch(d){ze(e,e.return,d)}}var Tn=!1,Ke=!1,vc=!1,dm=typeof WeakSet=="function"?WeakSet:Set,at=null;function Nv(e,t){if(e=e.containerInfo,Yc=rr,e=Ef(e),po(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var o=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var x=0,S=-1,U=-1,G=0,I=0,te=e,X=null;t:for(;;){for(var K;te!==n||o!==0&&te.nodeType!==3||(S=x+o),te!==d||l!==0&&te.nodeType!==3||(U=x+l),te.nodeType===3&&(x+=te.nodeValue.length),(K=te.firstChild)!==null;)X=te,te=K;for(;;){if(te===e)break t;if(X===n&&++G===o&&(S=x),X===d&&++I===l&&(U=x),(K=te.nextSibling)!==null)break;te=X,X=te.parentNode}te=K}n=S===-1||U===-1?null:{start:S,end:U}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vc={focusedElem:e,selectionRange:n},rr=!1,at=t;at!==null;)if(t=at,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,at=e;else for(;at!==null;){switch(t=at,d=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,n=t,o=d.memoizedProps,d=d.memoizedState,l=n.stateNode;try{var ge=Oa(n.type,o,n.elementType===n.type);e=l.getSnapshotBeforeUpdate(ge,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(he){ze(n,n.return,he)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Xc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,at=e;break}at=t.return}}function fm(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(e,n),l&4&&wi(5,n);break;case 1:if(Wn(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(x){ze(n,n.return,x)}else{var o=Oa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(x){ze(n,n.return,x)}}l&64&&sm(n),l&512&&Ei(n,n.return);break;case 3:if(Wn(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Kf(e,t)}catch(x){ze(n,n.return,x)}}break;case 27:t===null&&l&4&&um(n);case 26:case 5:Wn(e,n),t===null&&l&4&&om(n),l&512&&Ei(n,n.return);break;case 12:Wn(e,n);break;case 13:Wn(e,n),l&4&&gm(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Uv.bind(null,n),Iv(e,n))));break;case 22:if(l=n.memoizedState!==null||Tn,!l){t=t!==null&&t.memoizedState!==null||Ke,o=Tn;var d=Ke;Tn=l,(Ke=t)&&!d?Fn(e,n,(n.subtreeFlags&8772)!==0):Wn(e,n),Tn=o,Ke=d}break;case 30:break;default:Wn(e,n)}}function hm(e){var t=e.alternate;t!==null&&(e.alternate=null,hm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Pr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,xt=!1;function jn(e,t,n){for(n=n.child;n!==null;)mm(e,t,n),n=n.sibling}function mm(e,t,n){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(ba,n)}catch{}switch(n.tag){case 26:Ke||tn(n,t),jn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ke||tn(n,t);var l=qe,o=xt;ia(n.type)&&(qe=n.stateNode,xt=!1),jn(e,t,n),_i(n.stateNode),qe=l,xt=o;break;case 5:Ke||tn(n,t);case 6:if(l=qe,o=xt,qe=null,jn(e,t,n),qe=l,xt=o,qe!==null)if(xt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(n.stateNode)}catch(d){ze(n,t,d)}else try{qe.removeChild(n.stateNode)}catch(d){ze(n,t,d)}break;case 18:qe!==null&&(xt?(e=qe,ng(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Hi(e)):ng(qe,n.stateNode));break;case 4:l=qe,o=xt,qe=n.stateNode.containerInfo,xt=!0,jn(e,t,n),qe=l,xt=o;break;case 0:case 11:case 14:case 15:Ke||In(2,n,t),Ke||In(4,n,t),jn(e,t,n);break;case 1:Ke||(tn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&rm(n,t,l)),jn(e,t,n);break;case 21:jn(e,t,n);break;case 22:Ke=(l=Ke)||n.memoizedState!==null,jn(e,t,n),Ke=l;break;default:jn(e,t,n)}}function gm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Hi(e)}catch(n){ze(t,t.return,n)}}function Tv(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new dm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new dm),t;default:throw Error(r(435,e.tag))}}function bc(e,t){var n=Tv(e);t.forEach(function(l){var o=Ov.bind(null,e,l);n.has(l)||(n.add(l),l.then(o,o))})}function Dt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var o=n[l],d=e,x=t,S=x;e:for(;S!==null;){switch(S.tag){case 27:if(ia(S.type)){qe=S.stateNode,xt=!1;break e}break;case 5:qe=S.stateNode,xt=!1;break e;case 3:case 4:qe=S.stateNode.containerInfo,xt=!0;break e}S=S.return}if(qe===null)throw Error(r(160));mm(d,x,o),qe=null,xt=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)pm(t,e),t=t.sibling}var Qt=null;function pm(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dt(t,e),Ct(e),l&4&&(In(3,e,e.return),wi(3,e),In(5,e,e.return));break;case 1:Dt(t,e),Ct(e),l&512&&(Ke||n===null||tn(n,n.return)),l&64&&Tn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var o=Qt;if(Dt(t,e),Ct(e),l&512&&(Ke||n===null||tn(n,n.return)),l&4){var d=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(l){case"title":d=o.getElementsByTagName("title")[0],(!d||d[Xl]||d[ut]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(l),o.head.insertBefore(d,o.querySelector("head > title"))),ot(d,l,n),d[ut]=e,tt(d),l=d;break e;case"link":var x=ug("link","href",o).get(l+(n.href||""));if(x){for(var S=0;S<x.length;S++)if(d=x[S],d.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&d.getAttribute("rel")===(n.rel==null?null:n.rel)&&d.getAttribute("title")===(n.title==null?null:n.title)&&d.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){x.splice(S,1);break t}}d=o.createElement(l),ot(d,l,n),o.head.appendChild(d);break;case"meta":if(x=ug("meta","content",o).get(l+(n.content||""))){for(S=0;S<x.length;S++)if(d=x[S],d.getAttribute("content")===(n.content==null?null:""+n.content)&&d.getAttribute("name")===(n.name==null?null:n.name)&&d.getAttribute("property")===(n.property==null?null:n.property)&&d.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&d.getAttribute("charset")===(n.charSet==null?null:n.charSet)){x.splice(S,1);break t}}d=o.createElement(l),ot(d,l,n),o.head.appendChild(d);break;default:throw Error(r(468,l))}d[ut]=e,tt(d),l=d}e.stateNode=l}else dg(o,e.type,e.stateNode);else e.stateNode=cg(o,l,e.memoizedProps);else d!==l?(d===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):d.count--,l===null?dg(o,e.type,e.stateNode):cg(o,l,e.memoizedProps)):l===null&&e.stateNode!==null&&gc(e,e.memoizedProps,n.memoizedProps)}break;case 27:Dt(t,e),Ct(e),l&512&&(Ke||n===null||tn(n,n.return)),n!==null&&l&4&&gc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Dt(t,e),Ct(e),l&512&&(Ke||n===null||tn(n,n.return)),e.flags&32){o=e.stateNode;try{Ia(o,"")}catch(K){ze(e,e.return,K)}}l&4&&e.stateNode!=null&&(o=e.memoizedProps,gc(e,o,n!==null?n.memoizedProps:o)),l&1024&&(vc=!0);break;case 6:if(Dt(t,e),Ct(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(K){ze(e,e.return,K)}}break;case 3:if(lr=null,o=Qt,Qt=nr(t.containerInfo),Dt(t,e),Qt=o,Ct(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Hi(t.containerInfo)}catch(K){ze(e,e.return,K)}vc&&(vc=!1,ym(e));break;case 4:l=Qt,Qt=nr(e.stateNode.containerInfo),Dt(t,e),Ct(e),Qt=l;break;case 12:Dt(t,e),Ct(e);break;case 13:Dt(t,e),Ct(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Tc=He()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,bc(e,l)));break;case 22:o=e.memoizedState!==null;var U=n!==null&&n.memoizedState!==null,G=Tn,I=Ke;if(Tn=G||o,Ke=I||U,Dt(t,e),Ke=I,Tn=G,Ct(e),l&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||U||Tn||Ke||ka(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){U=n=t;try{if(d=U.stateNode,o)x=d.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=U.stateNode;var te=U.memoizedProps.style,X=te!=null&&te.hasOwnProperty("display")?te.display:null;S.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(K){ze(U,U.return,K)}}}else if(t.tag===6){if(n===null){U=t;try{U.stateNode.nodeValue=o?"":U.memoizedProps}catch(K){ze(U,U.return,K)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,bc(e,n))));break;case 19:Dt(t,e),Ct(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,bc(e,l)));break;case 30:break;case 21:break;default:Dt(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(cm(l)){n=l;break}l=l.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var o=n.stateNode,d=pc(e);Vs(e,d,o);break;case 5:var x=n.stateNode;n.flags&32&&(Ia(x,""),n.flags&=-33);var S=pc(e);Vs(e,S,x);break;case 3:case 4:var U=n.stateNode.containerInfo,G=pc(e);yc(e,G,U);break;default:throw Error(r(161))}}catch(I){ze(e,e.return,I)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ym(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ym(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Wn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)fm(e,t.alternate,t),t=t.sibling}function ka(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:In(4,t,t.return),ka(t);break;case 1:tn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&rm(t,t.return,n),ka(t);break;case 27:_i(t.stateNode);case 26:case 5:tn(t,t.return),ka(t);break;case 22:t.memoizedState===null&&ka(t);break;case 30:ka(t);break;default:ka(t)}e=e.sibling}}function Fn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,o=e,d=t,x=d.flags;switch(d.tag){case 0:case 11:case 15:Fn(o,d,n),wi(4,d);break;case 1:if(Fn(o,d,n),l=d,o=l.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(G){ze(l,l.return,G)}if(l=d,o=l.updateQueue,o!==null){var S=l.stateNode;try{var U=o.shared.hiddenCallbacks;if(U!==null)for(o.shared.hiddenCallbacks=null,o=0;o<U.length;o++)Xf(U[o],S)}catch(G){ze(l,l.return,G)}}n&&x&64&&sm(d),Ei(d,d.return);break;case 27:um(d);case 26:case 5:Fn(o,d,n),n&&l===null&&x&4&&om(d),Ei(d,d.return);break;case 12:Fn(o,d,n);break;case 13:Fn(o,d,n),n&&x&4&&gm(o,d);break;case 22:d.memoizedState===null&&Fn(o,d,n),Ei(d,d.return);break;case 30:break;default:Fn(o,d,n)}t=t.sibling}}function xc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ri(n))}function wc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ri(e))}function nn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vm(e,t,n,l),t=t.sibling}function vm(e,t,n,l){var o=t.flags;switch(t.tag){case 0:case 11:case 15:nn(e,t,n,l),o&2048&&wi(9,t);break;case 1:nn(e,t,n,l);break;case 3:nn(e,t,n,l),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ri(e)));break;case 12:if(o&2048){nn(e,t,n,l),e=t.stateNode;try{var d=t.memoizedProps,x=d.id,S=d.onPostCommit;typeof S=="function"&&S(x,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){ze(t,t.return,U)}}else nn(e,t,n,l);break;case 13:nn(e,t,n,l);break;case 23:break;case 22:d=t.stateNode,x=t.alternate,t.memoizedState!==null?d._visibility&2?nn(e,t,n,l):Si(e,t):d._visibility&2?nn(e,t,n,l):(d._visibility|=2,pl(e,t,n,l,(t.subtreeFlags&10256)!==0)),o&2048&&xc(x,t);break;case 24:nn(e,t,n,l),o&2048&&wc(t.alternate,t);break;default:nn(e,t,n,l)}}function pl(e,t,n,l,o){for(o=o&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var d=e,x=t,S=n,U=l,G=x.flags;switch(x.tag){case 0:case 11:case 15:pl(d,x,S,U,o),wi(8,x);break;case 23:break;case 22:var I=x.stateNode;x.memoizedState!==null?I._visibility&2?pl(d,x,S,U,o):Si(d,x):(I._visibility|=2,pl(d,x,S,U,o)),o&&G&2048&&xc(x.alternate,x);break;case 24:pl(d,x,S,U,o),o&&G&2048&&wc(x.alternate,x);break;default:pl(d,x,S,U,o)}t=t.sibling}}function Si(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,o=l.flags;switch(l.tag){case 22:Si(n,l),o&2048&&xc(l.alternate,l);break;case 24:Si(n,l),o&2048&&wc(l.alternate,l);break;default:Si(n,l)}t=t.sibling}}var Ni=8192;function yl(e){if(e.subtreeFlags&Ni)for(e=e.child;e!==null;)bm(e),e=e.sibling}function bm(e){switch(e.tag){case 26:yl(e),e.flags&Ni&&e.memoizedState!==null&&ub(Qt,e.memoizedState,e.memoizedProps);break;case 5:yl(e);break;case 3:case 4:var t=Qt;Qt=nr(e.stateNode.containerInfo),yl(e),Qt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Ni,Ni=16777216,yl(e),Ni=t):yl(e));break;default:yl(e)}}function xm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ti(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];at=l,Em(l,e)}xm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wm(e),e=e.sibling}function wm(e){switch(e.tag){case 0:case 11:case 15:Ti(e),e.flags&2048&&In(9,e,e.return);break;case 3:Ti(e);break;case 12:Ti(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Gs(e)):Ti(e);break;default:Ti(e)}}function Gs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];at=l,Em(l,e)}xm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:In(8,t,t.return),Gs(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Gs(t));break;default:Gs(t)}e=e.sibling}}function Em(e,t){for(;at!==null;){var n=at;switch(n.tag){case 0:case 11:case 15:In(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ri(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,at=l;else e:for(n=e;at!==null;){l=at;var o=l.sibling,d=l.return;if(hm(l),l===n){at=null;break e}if(o!==null){o.return=d,at=o;break e}at=d}}}var jv={getCacheForType:function(e){var t=dt(Ie),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Av=typeof WeakMap=="function"?WeakMap:Map,Re=0,Le=null,xe=null,Ne=0,_e=0,Rt=null,ea=!1,vl=!1,Ec=!1,An=0,Ze=0,ta=0,za=0,Sc=0,$t=0,bl=0,ji=null,wt=null,Nc=!1,Tc=0,Zs=1/0,Xs=null,na=null,rt=0,aa=null,xl=null,wl=0,jc=0,Ac=null,Sm=null,Ai=0,Dc=null;function _t(){if((Re&2)!==0&&Ne!==0)return Ne&-Ne;if(D.T!==null){var e=ol;return e!==0?e:kc()}return Ld()}function Nm(){$t===0&&($t=(Ne&536870912)===0||De?Od():536870912);var e=qt.current;return e!==null&&(e.flags|=32),$t}function Mt(e,t,n){(e===Le&&(_e===2||_e===9)||e.cancelPendingCommit!==null)&&(El(e,0),la(e,Ne,$t,!1)),Zl(e,n),((Re&2)===0||e!==Le)&&(e===Le&&((Re&2)===0&&(za|=n),Ze===4&&la(e,Ne,$t,!1)),an(e))}function Tm(e,t,n){if((Re&6)!==0)throw Error(r(327));var l=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Gl(e,t),o=l?Rv(e,t):_c(e,t,!0),d=l;do{if(o===0){vl&&!l&&la(e,t,0,!1);break}else{if(n=e.current.alternate,d&&!Dv(n)){o=_c(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){t=x;e:{var S=e;o=ji;var U=S.current.memoizedState.isDehydrated;if(U&&(El(S,x).flags|=256),x=_c(S,x,!1),x!==2){if(Ec&&!U){S.errorRecoveryDisabledLanes|=d,za|=d,o=4;break e}d=wt,wt=o,d!==null&&(wt===null?wt=d:wt.push.apply(wt,d))}o=x}if(d=!1,o!==2)continue}}if(o===1){El(e,0),la(e,t,0,!0);break}e:{switch(l=e,d=o,d){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:la(l,t,$t,!ea);break e;case 2:wt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=Tc+300-He(),10<o)){if(la(l,t,$t,!ea),as(l,0,!0)!==0)break e;l.timeoutHandle=eg(jm.bind(null,l,n,wt,Xs,Nc,t,$t,za,bl,ea,d,2,-0,0),o);break e}jm(l,n,wt,Xs,Nc,t,$t,za,bl,ea,d,0,-0,0)}}break}while(!0);an(e)}function jm(e,t,n,l,o,d,x,S,U,G,I,te,X,K){if(e.timeoutHandle=-1,te=t.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Oi={stylesheets:null,count:0,unsuspend:cb},bm(t),te=db(),te!==null)){e.cancelPendingCommit=te(Um.bind(null,e,t,d,n,l,o,x,S,U,I,1,X,K)),la(e,d,x,!G);return}Um(e,t,d,n,l,o,x,S,U)}function Dv(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var o=n[l],d=o.getSnapshot;o=o.value;try{if(!jt(d(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function la(e,t,n,l){t&=~Sc,t&=~za,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var o=t;0<o;){var d=31-Tt(o),x=1<<d;l[d]=-1,o&=~x}n!==0&&zd(e,n,t)}function Ks(){return(Re&6)===0?(Di(0),!1):!0}function Cc(){if(xe!==null){if(_e===0)var e=xe.return;else e=xe,bn=Ra=null,Xo(e),ml=null,vi=0,e=xe;for(;e!==null;)im(e.alternate,e),e=e.return;xe=null}}function El(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Xv(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Cc(),Le=e,xe=n=pn(e.current,null),Ne=t,_e=0,Rt=null,ea=!1,vl=Gl(e,t),Ec=!1,bl=$t=Sc=za=ta=Ze=0,wt=ji=null,Nc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var o=31-Tt(l),d=1<<o;t|=e[o],l&=~d}return An=t,gs(),n}function Am(e,t){ve=null,D.H=Os,t===ci||t===Ns?(t=Gf(),_e=3):t===$f?(t=Gf(),_e=4):_e=t===Zh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Rt=t,xe===null&&(Ze=1,Hs(e,zt(t,e.current)))}function Dm(){var e=D.H;return D.H=Os,e===null?Os:e}function Cm(){var e=D.A;return D.A=jv,e}function Rc(){Ze=4,ea||(Ne&4194048)!==Ne&&qt.current!==null||(vl=!0),(ta&134217727)===0&&(za&134217727)===0||Le===null||la(Le,Ne,$t,!1)}function _c(e,t,n){var l=Re;Re|=2;var o=Dm(),d=Cm();(Le!==e||Ne!==t)&&(Xs=null,El(e,t)),t=!1;var x=Ze;e:do try{if(_e!==0&&xe!==null){var S=xe,U=Rt;switch(_e){case 8:Cc(),x=6;break e;case 3:case 2:case 9:case 6:qt.current===null&&(t=!0);var G=_e;if(_e=0,Rt=null,Sl(e,S,U,G),n&&vl){x=0;break e}break;default:G=_e,_e=0,Rt=null,Sl(e,S,U,G)}}Cv(),x=Ze;break}catch(I){Am(e,I)}while(!0);return t&&e.shellSuspendCounter++,bn=Ra=null,Re=l,D.H=o,D.A=d,xe===null&&(Le=null,Ne=0,gs()),x}function Cv(){for(;xe!==null;)Rm(xe)}function Rv(e,t){var n=Re;Re|=2;var l=Dm(),o=Cm();Le!==e||Ne!==t?(Xs=null,Zs=He()+500,El(e,t)):vl=Gl(e,t);e:do try{if(_e!==0&&xe!==null){t=xe;var d=Rt;t:switch(_e){case 1:_e=0,Rt=null,Sl(e,t,d,1);break;case 2:case 9:if(Yf(d)){_e=0,Rt=null,_m(t);break}t=function(){_e!==2&&_e!==9||Le!==e||(_e=7),an(e)},d.then(t,t);break e;case 3:_e=7;break e;case 4:_e=5;break e;case 7:Yf(d)?(_e=0,Rt=null,_m(t)):(_e=0,Rt=null,Sl(e,t,d,7));break;case 5:var x=null;switch(xe.tag){case 26:x=xe.memoizedState;case 5:case 27:var S=xe;if(!x||fg(x)){_e=0,Rt=null;var U=S.sibling;if(U!==null)xe=U;else{var G=S.return;G!==null?(xe=G,Qs(G)):xe=null}break t}}_e=0,Rt=null,Sl(e,t,d,5);break;case 6:_e=0,Rt=null,Sl(e,t,d,6);break;case 8:Cc(),Ze=6;break e;default:throw Error(r(462))}}_v();break}catch(I){Am(e,I)}while(!0);return bn=Ra=null,D.H=l,D.A=o,Re=n,xe!==null?0:(Le=null,Ne=0,gs(),Ze)}function _v(){for(;xe!==null&&!et();)Rm(xe)}function Rm(e){var t=am(e.alternate,e,An);e.memoizedProps=e.pendingProps,t===null?Qs(e):xe=t}function _m(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ih(n,t,t.pendingProps,t.type,void 0,Ne);break;case 11:t=Ih(n,t,t.pendingProps,t.type.render,t.ref,Ne);break;case 5:Xo(t);default:im(n,t),t=xe=Mf(t,An),t=am(n,t,An)}e.memoizedProps=e.pendingProps,t===null?Qs(e):xe=t}function Sl(e,t,n,l){bn=Ra=null,Xo(t),ml=null,vi=0;var o=t.return;try{if(xv(e,o,t,n,Ne)){Ze=1,Hs(e,zt(n,e.current)),xe=null;return}}catch(d){if(o!==null)throw xe=o,d;Ze=1,Hs(e,zt(n,e.current)),xe=null;return}t.flags&32768?(De||l===1?e=!0:vl||(Ne&536870912)!==0?e=!1:(ea=e=!0,(l===2||l===9||l===3||l===6)&&(l=qt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Mm(t,e)):Qs(t)}function Qs(e){var t=e;do{if((t.flags&32768)!==0){Mm(t,ea);return}e=t.return;var n=Ev(t.alternate,t,An);if(n!==null){xe=n;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);Ze===0&&(Ze=5)}function Mm(e,t){do{var n=Sv(e.alternate,e);if(n!==null){n.flags&=32767,xe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){xe=e;return}xe=e=n}while(e!==null);Ze=6,xe=null}function Um(e,t,n,l,o,d,x,S,U){e.cancelPendingCommit=null;do Js();while(rt!==0);if((Re&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(d=t.lanes|t.childLanes,d|=wo,c0(e,n,d,x,S,U),e===Le&&(xe=Le=null,Ne=0),xl=t,aa=e,wl=n,jc=d,Ac=o,Sm=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,kv(hn,function(){return Lm(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=D.T,D.T=null,o=$.p,$.p=2,x=Re,Re|=4;try{Nv(e,t,n)}finally{Re=x,$.p=o,D.T=l}}rt=1,Om(),km(),zm()}}function Om(){if(rt===1){rt=0;var e=aa,t=xl,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=D.T,D.T=null;var l=$.p;$.p=2;var o=Re;Re|=4;try{pm(t,e);var d=Vc,x=Ef(e.containerInfo),S=d.focusedElem,U=d.selectionRange;if(x!==S&&S&&S.ownerDocument&&wf(S.ownerDocument.documentElement,S)){if(U!==null&&po(S)){var G=U.start,I=U.end;if(I===void 0&&(I=G),"selectionStart"in S)S.selectionStart=G,S.selectionEnd=Math.min(I,S.value.length);else{var te=S.ownerDocument||document,X=te&&te.defaultView||window;if(X.getSelection){var K=X.getSelection(),ge=S.textContent.length,he=Math.min(U.start,ge),Oe=U.end===void 0?he:Math.min(U.end,ge);!K.extend&&he>Oe&&(x=Oe,Oe=he,he=x);var q=xf(S,he),z=xf(S,Oe);if(q&&z&&(K.rangeCount!==1||K.anchorNode!==q.node||K.anchorOffset!==q.offset||K.focusNode!==z.node||K.focusOffset!==z.offset)){var V=te.createRange();V.setStart(q.node,q.offset),K.removeAllRanges(),he>Oe?(K.addRange(V),K.extend(z.node,z.offset)):(V.setEnd(z.node,z.offset),K.addRange(V))}}}}for(te=[],K=S;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<te.length;S++){var F=te[S];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}rr=!!Yc,Vc=Yc=null}finally{Re=o,$.p=l,D.T=n}}e.current=t,rt=2}}function km(){if(rt===2){rt=0;var e=aa,t=xl,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=D.T,D.T=null;var l=$.p;$.p=2;var o=Re;Re|=4;try{fm(e,t.alternate,t)}finally{Re=o,$.p=l,D.T=n}}rt=3}}function zm(){if(rt===4||rt===3){rt=0,Ae();var e=aa,t=xl,n=wl,l=Sm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?rt=5:(rt=0,xl=aa=null,Bm(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(na=null),Qr(n),t=t.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(ba,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=D.T,o=$.p,$.p=2,D.T=null;try{for(var d=e.onRecoverableError,x=0;x<l.length;x++){var S=l[x];d(S.value,{componentStack:S.stack})}}finally{D.T=t,$.p=o}}(wl&3)!==0&&Js(),an(e),o=e.pendingLanes,(n&4194090)!==0&&(o&42)!==0?e===Dc?Ai++:(Ai=0,Dc=e):Ai=0,Di(0)}}function Bm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ri(t)))}function Js(e){return Om(),km(),zm(),Lm()}function Lm(){if(rt!==5)return!1;var e=aa,t=jc;jc=0;var n=Qr(wl),l=D.T,o=$.p;try{$.p=32>n?32:n,D.T=null,n=Ac,Ac=null;var d=aa,x=wl;if(rt=0,xl=aa=null,wl=0,(Re&6)!==0)throw Error(r(331));var S=Re;if(Re|=4,wm(d.current),vm(d,d.current,x,n),Re=S,Di(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(ba,d)}catch{}return!0}finally{$.p=o,D.T=l,Bm(e,t)}}function Hm(e,t,n){t=zt(n,t),t=sc(e.stateNode,t,2),e=Kn(e,t,2),e!==null&&(Zl(e,2),an(e))}function ze(e,t,n){if(e.tag===3)Hm(e,e,n);else for(;t!==null;){if(t.tag===3){Hm(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(na===null||!na.has(l))){e=zt(n,e),n=Vh(2),l=Kn(t,n,2),l!==null&&(Gh(n,l,t,e),Zl(l,2),an(l));break}}t=t.return}}function Mc(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new Av;var o=new Set;l.set(t,o)}else o=l.get(t),o===void 0&&(o=new Set,l.set(t,o));o.has(n)||(Ec=!0,o.add(n),e=Mv.bind(null,e,t,n),t.then(e,e))}function Mv(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Le===e&&(Ne&n)===n&&(Ze===4||Ze===3&&(Ne&62914560)===Ne&&300>He()-Tc?(Re&2)===0&&El(e,0):Sc|=n,bl===Ne&&(bl=0)),an(e)}function qm(e,t){t===0&&(t=kd()),e=ll(e,t),e!==null&&(Zl(e,t),an(e))}function Uv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qm(e,n)}function Ov(e,t){var n=0;switch(e.tag){case 13:var l=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),qm(e,n)}function kv(e,t){return Ce(e,t)}var Ps=null,Nl=null,Uc=!1,Is=!1,Oc=!1,Ba=0;function an(e){e!==Nl&&e.next===null&&(Nl===null?Ps=Nl=e:Nl=Nl.next=e),Is=!0,Uc||(Uc=!0,Bv())}function Di(e,t){if(!Oc&&Is){Oc=!0;do for(var n=!1,l=Ps;l!==null;){if(e!==0){var o=l.pendingLanes;if(o===0)var d=0;else{var x=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-Tt(42|e)+1)-1,d&=o&~(x&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(n=!0,Gm(l,d))}else d=Ne,d=as(l,l===Le?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Gl(l,d)||(n=!0,Gm(l,d));l=l.next}while(n);Oc=!1}}function zv(){$m()}function $m(){Is=Uc=!1;var e=0;Ba!==0&&(Zv()&&(e=Ba),Ba=0);for(var t=He(),n=null,l=Ps;l!==null;){var o=l.next,d=Ym(l,t);d===0?(l.next=null,n===null?Ps=o:n.next=o,o===null&&(Nl=n)):(n=l,(e!==0||(d&3)!==0)&&(Is=!0)),l=o}Di(e)}function Ym(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var x=31-Tt(d),S=1<<x,U=o[x];U===-1?((S&n)===0||(S&l)!==0)&&(o[x]=o0(S,t)):U<=t&&(e.expiredLanes|=S),d&=~S}if(t=Le,n=Ne,n=as(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(_e===2||_e===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Be(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Gl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&Be(l),Qr(n)){case 2:case 8:n=fn;break;case 32:n=hn;break;case 268435456:n=es;break;default:n=hn}return l=Vm.bind(null,e),n=Ce(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&Be(l),e.callbackPriority=2,e.callbackNode=null,2}function Vm(e,t){if(rt!==0&&rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Js()&&e.callbackNode!==n)return null;var l=Ne;return l=as(e,e===Le?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Tm(e,l,t),Ym(e,He()),e.callbackNode!=null&&e.callbackNode===n?Vm.bind(null,e):null)}function Gm(e,t){if(Js())return null;Tm(e,t,!0)}function Bv(){Kv(function(){(Re&6)!==0?Ce(Vl,zv):$m()})}function kc(){return Ba===0&&(Ba=Od()),Ba}function Zm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:os(""+e)}function Xm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Lv(e,t,n,l,o){if(t==="submit"&&n&&n.stateNode===o){var d=Zm((o[yt]||null).action),x=l.submitter;x&&(t=(t=x[yt]||null)?Zm(t.formAction):x.getAttribute("formAction"),t!==null&&(d=t,x=null));var S=new fs("action","action",null,l,o);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ba!==0){var U=x?Xm(o,x):new FormData(o);tc(n,{pending:!0,data:U,method:o.method,action:d},null,U)}}else typeof d=="function"&&(S.preventDefault(),U=x?Xm(o,x):new FormData(o),tc(n,{pending:!0,data:U,method:o.method,action:d},d,U))},currentTarget:o}]})}}for(var zc=0;zc<xo.length;zc++){var Bc=xo[zc],Hv=Bc.toLowerCase(),qv=Bc[0].toUpperCase()+Bc.slice(1);Kt(Hv,"on"+qv)}Kt(Tf,"onAnimationEnd"),Kt(jf,"onAnimationIteration"),Kt(Af,"onAnimationStart"),Kt("dblclick","onDoubleClick"),Kt("focusin","onFocus"),Kt("focusout","onBlur"),Kt(av,"onTransitionRun"),Kt(lv,"onTransitionStart"),Kt(iv,"onTransitionCancel"),Kt(Df,"onTransitionEnd"),Qa("onMouseEnter",["mouseout","mouseover"]),Qa("onMouseLeave",["mouseout","mouseover"]),Qa("onPointerEnter",["pointerout","pointerover"]),Qa("onPointerLeave",["pointerout","pointerover"]),wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wa("onBeforeInput",["compositionend","keypress","textInput","paste"]),wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ci="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$v=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ci));function Km(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],o=l.event;l=l.listeners;e:{var d=void 0;if(t)for(var x=l.length-1;0<=x;x--){var S=l[x],U=S.instance,G=S.currentTarget;if(S=S.listener,U!==d&&o.isPropagationStopped())break e;d=S,o.currentTarget=G;try{d(o)}catch(I){Ls(I)}o.currentTarget=null,d=U}else for(x=0;x<l.length;x++){if(S=l[x],U=S.instance,G=S.currentTarget,S=S.listener,U!==d&&o.isPropagationStopped())break e;d=S,o.currentTarget=G;try{d(o)}catch(I){Ls(I)}o.currentTarget=null,d=U}}}}function we(e,t){var n=t[Jr];n===void 0&&(n=t[Jr]=new Set);var l=e+"__bubble";n.has(l)||(Qm(t,e,2,!1),n.add(l))}function Lc(e,t,n){var l=0;t&&(l|=4),Qm(n,e,l,t)}var Ws="_reactListening"+Math.random().toString(36).slice(2);function Hc(e){if(!e[Ws]){e[Ws]=!0,qd.forEach(function(n){n!=="selectionchange"&&($v.has(n)||Lc(n,!1,e),Lc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ws]||(t[Ws]=!0,Lc("selectionchange",!1,t))}}function Qm(e,t,n,l){switch(vg(t)){case 2:var o=mb;break;case 8:o=gb;break;default:o=Fc}n=o.bind(null,t,n,e),o=void 0,!so||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),l?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function qc(e,t,n,l,o){var d=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var x=l.tag;if(x===3||x===4){var S=l.stateNode.containerInfo;if(S===o)break;if(x===4)for(x=l.return;x!==null;){var U=x.tag;if((U===3||U===4)&&x.stateNode.containerInfo===o)return;x=x.return}for(;S!==null;){if(x=Za(S),x===null)return;if(U=x.tag,U===5||U===6||U===26||U===27){l=d=x;continue e}S=S.parentNode}}l=l.return}ef(function(){var G=d,I=lo(n),te=[];e:{var X=Cf.get(e);if(X!==void 0){var K=fs,ge=e;switch(e){case"keypress":if(us(n)===0)break e;case"keydown":case"keyup":K=k0;break;case"focusin":ge="focus",K=uo;break;case"focusout":ge="blur",K=uo;break;case"beforeblur":case"afterblur":K=uo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=af;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=S0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=L0;break;case Tf:case jf:case Af:K=j0;break;case Df:K=q0;break;case"scroll":case"scrollend":K=w0;break;case"wheel":K=Y0;break;case"copy":case"cut":case"paste":K=D0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=sf;break;case"toggle":case"beforetoggle":K=G0}var he=(t&4)!==0,Oe=!he&&(e==="scroll"||e==="scrollend"),q=he?X!==null?X+"Capture":null:X;he=[];for(var z=G,V;z!==null;){var F=z;if(V=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||V===null||q===null||(F=Ql(z,q),F!=null&&he.push(Ri(z,F,V))),Oe)break;z=z.return}0<he.length&&(X=new K(X,ge,null,n,I),te.push({event:X,listeners:he}))}}if((t&7)===0){e:{if(X=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",X&&n!==ao&&(ge=n.relatedTarget||n.fromElement)&&(Za(ge)||ge[Ga]))break e;if((K||X)&&(X=I.window===I?I:(X=I.ownerDocument)?X.defaultView||X.parentWindow:window,K?(ge=n.relatedTarget||n.toElement,K=G,ge=ge?Za(ge):null,ge!==null&&(Oe=f(ge),he=ge.tag,ge!==Oe||he!==5&&he!==27&&he!==6)&&(ge=null)):(K=null,ge=G),K!==ge)){if(he=af,F="onMouseLeave",q="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(he=sf,F="onPointerLeave",q="onPointerEnter",z="pointer"),Oe=K==null?X:Kl(K),V=ge==null?X:Kl(ge),X=new he(F,z+"leave",K,n,I),X.target=Oe,X.relatedTarget=V,F=null,Za(I)===G&&(he=new he(q,z+"enter",ge,n,I),he.target=V,he.relatedTarget=Oe,F=he),Oe=F,K&&ge)t:{for(he=K,q=ge,z=0,V=he;V;V=Tl(V))z++;for(V=0,F=q;F;F=Tl(F))V++;for(;0<z-V;)he=Tl(he),z--;for(;0<V-z;)q=Tl(q),V--;for(;z--;){if(he===q||q!==null&&he===q.alternate)break t;he=Tl(he),q=Tl(q)}he=null}else he=null;K!==null&&Jm(te,X,K,he,!1),ge!==null&&Oe!==null&&Jm(te,Oe,ge,he,!0)}}e:{if(X=G?Kl(G):window,K=X.nodeName&&X.nodeName.toLowerCase(),K==="select"||K==="input"&&X.type==="file")var de=mf;else if(ff(X))if(gf)de=ev;else{de=W0;var be=I0}else K=X.nodeName,!K||K.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?G&&no(G.elementType)&&(de=mf):de=F0;if(de&&(de=de(e,G))){hf(te,de,n,I);break e}be&&be(e,X,G),e==="focusout"&&G&&X.type==="number"&&G.memoizedProps.value!=null&&to(X,"number",X.value)}switch(be=G?Kl(G):window,e){case"focusin":(ff(be)||be.contentEditable==="true")&&(tl=be,yo=G,ni=null);break;case"focusout":ni=yo=tl=null;break;case"mousedown":vo=!0;break;case"contextmenu":case"mouseup":case"dragend":vo=!1,Sf(te,n,I);break;case"selectionchange":if(nv)break;case"keydown":case"keyup":Sf(te,n,I)}var fe;if(ho)e:{switch(e){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else el?uf(e,n)&&(me="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(me="onCompositionStart");me&&(rf&&n.locale!=="ko"&&(el||me!=="onCompositionStart"?me==="onCompositionEnd"&&el&&(fe=tf()):(Vn=I,ro="value"in Vn?Vn.value:Vn.textContent,el=!0)),be=Fs(G,me),0<be.length&&(me=new lf(me,e,null,n,I),te.push({event:me,listeners:be}),fe?me.data=fe:(fe=df(n),fe!==null&&(me.data=fe)))),(fe=X0?K0(e,n):Q0(e,n))&&(me=Fs(G,"onBeforeInput"),0<me.length&&(be=new lf("onBeforeInput","beforeinput",null,n,I),te.push({event:be,listeners:me}),be.data=fe)),Lv(te,e,G,n,I)}Km(te,t)})}function Ri(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fs(e,t){for(var n=t+"Capture",l=[];e!==null;){var o=e,d=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=Ql(e,n),o!=null&&l.unshift(Ri(e,o,d)),o=Ql(e,t),o!=null&&l.push(Ri(e,o,d))),e.tag===3)return l;e=e.return}return[]}function Tl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jm(e,t,n,l,o){for(var d=t._reactName,x=[];n!==null&&n!==l;){var S=n,U=S.alternate,G=S.stateNode;if(S=S.tag,U!==null&&U===l)break;S!==5&&S!==26&&S!==27||G===null||(U=G,o?(G=Ql(n,d),G!=null&&x.unshift(Ri(n,G,U))):o||(G=Ql(n,d),G!=null&&x.push(Ri(n,G,U)))),n=n.return}x.length!==0&&e.push({event:t,listeners:x})}var Yv=/\r\n?/g,Vv=/\u0000|\uFFFD/g;function Pm(e){return(typeof e=="string"?e:""+e).replace(Yv,`
`).replace(Vv,"")}function Im(e,t){return t=Pm(t),Pm(e)===t}function er(){}function Ue(e,t,n,l,o,d){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Ia(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Ia(e,""+l);break;case"className":is(e,"class",l);break;case"tabIndex":is(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":is(e,n,l);break;case"style":Wd(e,l,d);break;case"data":if(t!=="object"){is(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=os(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(n==="formAction"?(t!=="input"&&Ue(e,t,"name",o.name,o,null),Ue(e,t,"formEncType",o.formEncType,o,null),Ue(e,t,"formMethod",o.formMethod,o,null),Ue(e,t,"formTarget",o.formTarget,o,null)):(Ue(e,t,"encType",o.encType,o,null),Ue(e,t,"method",o.method,o,null),Ue(e,t,"target",o.target,o,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=os(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=er);break;case"onScroll":l!=null&&we("scroll",e);break;case"onScrollEnd":l!=null&&we("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=os(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":we("beforetoggle",e),we("toggle",e),ls(e,"popover",l);break;case"xlinkActuate":mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":mn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":mn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":mn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":mn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ls(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=b0.get(n)||n,ls(e,n,l))}}function $c(e,t,n,l,o,d){switch(n){case"style":Wd(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof l=="string"?Ia(e,l):(typeof l=="number"||typeof l=="bigint")&&Ia(e,""+l);break;case"onScroll":l!=null&&we("scroll",e);break;case"onScrollEnd":l!=null&&we("scrollend",e);break;case"onClick":l!=null&&(e.onclick=er);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$d.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),d=e[yt]||null,d=d!=null?d[n]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof l=="function")){typeof d!="function"&&d!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,o);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):ls(e,n,l)}}}function ot(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",e),we("load",e);var l=!1,o=!1,d;for(d in n)if(n.hasOwnProperty(d)){var x=n[d];if(x!=null)switch(d){case"src":l=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ue(e,t,d,x,n,null)}}o&&Ue(e,t,"srcSet",n.srcSet,n,null),l&&Ue(e,t,"src",n.src,n,null);return;case"input":we("invalid",e);var S=d=x=o=null,U=null,G=null;for(l in n)if(n.hasOwnProperty(l)){var I=n[l];if(I!=null)switch(l){case"name":o=I;break;case"type":x=I;break;case"checked":U=I;break;case"defaultChecked":G=I;break;case"value":d=I;break;case"defaultValue":S=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,t));break;default:Ue(e,t,l,I,n,null)}}Qd(e,d,S,U,G,x,o,!1),ss(e);return;case"select":we("invalid",e),l=x=d=null;for(o in n)if(n.hasOwnProperty(o)&&(S=n[o],S!=null))switch(o){case"value":d=S;break;case"defaultValue":x=S;break;case"multiple":l=S;default:Ue(e,t,o,S,n,null)}t=d,n=x,e.multiple=!!l,t!=null?Pa(e,!!l,t,!1):n!=null&&Pa(e,!!l,n,!0);return;case"textarea":we("invalid",e),d=o=l=null;for(x in n)if(n.hasOwnProperty(x)&&(S=n[x],S!=null))switch(x){case"value":l=S;break;case"defaultValue":o=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:Ue(e,t,x,S,n,null)}Pd(e,l,o,d),ss(e);return;case"option":for(U in n)if(n.hasOwnProperty(U)&&(l=n[U],l!=null))switch(U){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ue(e,t,U,l,n,null)}return;case"dialog":we("beforetoggle",e),we("toggle",e),we("cancel",e),we("close",e);break;case"iframe":case"object":we("load",e);break;case"video":case"audio":for(l=0;l<Ci.length;l++)we(Ci[l],e);break;case"image":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"embed":case"source":case"link":we("error",e),we("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in n)if(n.hasOwnProperty(G)&&(l=n[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ue(e,t,G,l,n,null)}return;default:if(no(t)){for(I in n)n.hasOwnProperty(I)&&(l=n[I],l!==void 0&&$c(e,t,I,l,n,void 0));return}}for(S in n)n.hasOwnProperty(S)&&(l=n[S],l!=null&&Ue(e,t,S,l,n,null))}function Gv(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,x=null,S=null,U=null,G=null,I=null;for(K in n){var te=n[K];if(n.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":U=te;default:l.hasOwnProperty(K)||Ue(e,t,K,null,l,te)}}for(var X in l){var K=l[X];if(te=n[X],l.hasOwnProperty(X)&&(K!=null||te!=null))switch(X){case"type":d=K;break;case"name":o=K;break;case"checked":G=K;break;case"defaultChecked":I=K;break;case"value":x=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,t));break;default:K!==te&&Ue(e,t,X,K,l,te)}}eo(e,x,S,U,G,I,d,o);return;case"select":K=x=S=X=null;for(d in n)if(U=n[d],n.hasOwnProperty(d)&&U!=null)switch(d){case"value":break;case"multiple":K=U;default:l.hasOwnProperty(d)||Ue(e,t,d,null,l,U)}for(o in l)if(d=l[o],U=n[o],l.hasOwnProperty(o)&&(d!=null||U!=null))switch(o){case"value":X=d;break;case"defaultValue":S=d;break;case"multiple":x=d;default:d!==U&&Ue(e,t,o,d,l,U)}t=S,n=x,l=K,X!=null?Pa(e,!!n,X,!1):!!l!=!!n&&(t!=null?Pa(e,!!n,t,!0):Pa(e,!!n,n?[]:"",!1));return;case"textarea":K=X=null;for(S in n)if(o=n[S],n.hasOwnProperty(S)&&o!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ue(e,t,S,null,l,o)}for(x in l)if(o=l[x],d=n[x],l.hasOwnProperty(x)&&(o!=null||d!=null))switch(x){case"value":X=o;break;case"defaultValue":K=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==d&&Ue(e,t,x,o,l,d)}Jd(e,X,K);return;case"option":for(var ge in n)if(X=n[ge],n.hasOwnProperty(ge)&&X!=null&&!l.hasOwnProperty(ge))switch(ge){case"selected":e.selected=!1;break;default:Ue(e,t,ge,null,l,X)}for(U in l)if(X=l[U],K=n[U],l.hasOwnProperty(U)&&X!==K&&(X!=null||K!=null))switch(U){case"selected":e.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:Ue(e,t,U,X,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in n)X=n[he],n.hasOwnProperty(he)&&X!=null&&!l.hasOwnProperty(he)&&Ue(e,t,he,null,l,X);for(G in l)if(X=l[G],K=n[G],l.hasOwnProperty(G)&&X!==K&&(X!=null||K!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,t));break;default:Ue(e,t,G,X,l,K)}return;default:if(no(t)){for(var Oe in n)X=n[Oe],n.hasOwnProperty(Oe)&&X!==void 0&&!l.hasOwnProperty(Oe)&&$c(e,t,Oe,void 0,l,X);for(I in l)X=l[I],K=n[I],!l.hasOwnProperty(I)||X===K||X===void 0&&K===void 0||$c(e,t,I,X,l,K);return}}for(var q in n)X=n[q],n.hasOwnProperty(q)&&X!=null&&!l.hasOwnProperty(q)&&Ue(e,t,q,null,l,X);for(te in l)X=l[te],K=n[te],!l.hasOwnProperty(te)||X===K||X==null&&K==null||Ue(e,t,te,X,l,K)}var Yc=null,Vc=null;function tr(e){return e.nodeType===9?e:e.ownerDocument}function Wm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Gc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zc=null;function Zv(){var e=window.event;return e&&e.type==="popstate"?e===Zc?!1:(Zc=e,!0):(Zc=null,!1)}var eg=typeof setTimeout=="function"?setTimeout:void 0,Xv=typeof clearTimeout=="function"?clearTimeout:void 0,tg=typeof Promise=="function"?Promise:void 0,Kv=typeof queueMicrotask=="function"?queueMicrotask:typeof tg<"u"?function(e){return tg.resolve(null).then(e).catch(Qv)}:eg;function Qv(e){setTimeout(function(){throw e})}function ia(e){return e==="head"}function ng(e,t){var n=t,l=0,o=0;do{var d=n.nextSibling;if(e.removeChild(n),d&&d.nodeType===8)if(n=d.data,n==="/$"){if(0<l&&8>l){n=l;var x=e.ownerDocument;if(n&1&&_i(x.documentElement),n&2&&_i(x.body),n&4)for(n=x.head,_i(n),x=n.firstChild;x;){var S=x.nextSibling,U=x.nodeName;x[Xl]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&x.rel.toLowerCase()==="stylesheet"||n.removeChild(x),x=S}}if(o===0){e.removeChild(d),Hi(t);return}o--}else n==="$"||n==="$?"||n==="$!"?o++:l=n.charCodeAt(0)-48;else l=0;n=d}while(n);Hi(t)}function Xc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Xc(n),Pr(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Jv(e,t,n,l){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Xl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Jt(e.nextSibling),e===null)break}return null}function Pv(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Jt(e.nextSibling),e===null))return null;return e}function Kc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Iv(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Qc=null;function ag(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function lg(e,t,n){switch(t=tr(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function _i(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Pr(e)}var Yt=new Map,ig=new Set;function nr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Dn=$.d;$.d={f:Wv,r:Fv,D:eb,C:tb,L:nb,m:ab,X:ib,S:lb,M:sb};function Wv(){var e=Dn.f(),t=Ks();return e||t}function Fv(e){var t=Xa(e);t!==null&&t.tag===5&&t.type==="form"?Th(t):Dn.r(e)}var jl=typeof document>"u"?null:document;function sg(e,t,n){var l=jl;if(l&&typeof t=="string"&&t){var o=kt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),ig.has(o)||(ig.add(o),e={rel:e,crossOrigin:n,href:t},l.querySelector(o)===null&&(t=l.createElement("link"),ot(t,"link",e),tt(t),l.head.appendChild(t)))}}function eb(e){Dn.D(e),sg("dns-prefetch",e,null)}function tb(e,t){Dn.C(e,t),sg("preconnect",e,t)}function nb(e,t,n){Dn.L(e,t,n);var l=jl;if(l&&e&&t){var o='link[rel="preload"][as="'+kt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+kt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+kt(n.imageSizes)+'"]')):o+='[href="'+kt(e)+'"]';var d=o;switch(t){case"style":d=Al(e);break;case"script":d=Dl(e)}Yt.has(d)||(e=y({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Yt.set(d,e),l.querySelector(o)!==null||t==="style"&&l.querySelector(Mi(d))||t==="script"&&l.querySelector(Ui(d))||(t=l.createElement("link"),ot(t,"link",e),tt(t),l.head.appendChild(t)))}}function ab(e,t){Dn.m(e,t);var n=jl;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+kt(l)+'"][href="'+kt(e)+'"]',d=o;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Dl(e)}if(!Yt.has(d)&&(e=y({rel:"modulepreload",href:e},t),Yt.set(d,e),n.querySelector(o)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ui(d)))return}l=n.createElement("link"),ot(l,"link",e),tt(l),n.head.appendChild(l)}}}function lb(e,t,n){Dn.S(e,t,n);var l=jl;if(l&&e){var o=Ka(l).hoistableStyles,d=Al(e);t=t||"default";var x=o.get(d);if(!x){var S={loading:0,preload:null};if(x=l.querySelector(Mi(d)))S.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Yt.get(d))&&Jc(e,n);var U=x=l.createElement("link");tt(U),ot(U,"link",e),U._p=new Promise(function(G,I){U.onload=G,U.onerror=I}),U.addEventListener("load",function(){S.loading|=1}),U.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ar(x,t,l)}x={type:"stylesheet",instance:x,count:1,state:S},o.set(d,x)}}}function ib(e,t){Dn.X(e,t);var n=jl;if(n&&e){var l=Ka(n).hoistableScripts,o=Dl(e),d=l.get(o);d||(d=n.querySelector(Ui(o)),d||(e=y({src:e,async:!0},t),(t=Yt.get(o))&&Pc(e,t),d=n.createElement("script"),tt(d),ot(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(o,d))}}function sb(e,t){Dn.M(e,t);var n=jl;if(n&&e){var l=Ka(n).hoistableScripts,o=Dl(e),d=l.get(o);d||(d=n.querySelector(Ui(o)),d||(e=y({src:e,async:!0,type:"module"},t),(t=Yt.get(o))&&Pc(e,t),d=n.createElement("script"),tt(d),ot(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(o,d))}}function rg(e,t,n,l){var o=(o=ie.current)?nr(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Al(n.href),n=Ka(o).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Al(n.href);var d=Ka(o).hoistableStyles,x=d.get(e);if(x||(o=o.ownerDocument||o,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,x),(d=o.querySelector(Mi(e)))&&!d._p&&(x.instance=d,x.state.loading=5),Yt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Yt.set(e,n),d||rb(o,e,n,x.state))),t&&l===null)throw Error(r(528,""));return x}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Dl(n),n=Ka(o).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Al(e){return'href="'+kt(e)+'"'}function Mi(e){return'link[rel="stylesheet"]['+e+"]"}function og(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function rb(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),ot(t,"link",n),tt(t),e.head.appendChild(t))}function Dl(e){return'[src="'+kt(e)+'"]'}function Ui(e){return"script[async]"+e}function cg(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+kt(n.href)+'"]');if(l)return t.instance=l,tt(l),l;var o=y({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),tt(l),ot(l,"style",o),ar(l,n.precedence,e),t.instance=l;case"stylesheet":o=Al(n.href);var d=e.querySelector(Mi(o));if(d)return t.state.loading|=4,t.instance=d,tt(d),d;l=og(n),(o=Yt.get(o))&&Jc(l,o),d=(e.ownerDocument||e).createElement("link"),tt(d);var x=d;return x._p=new Promise(function(S,U){x.onload=S,x.onerror=U}),ot(d,"link",l),t.state.loading|=4,ar(d,n.precedence,e),t.instance=d;case"script":return d=Dl(n.src),(o=e.querySelector(Ui(d)))?(t.instance=o,tt(o),o):(l=n,(o=Yt.get(d))&&(l=y({},n),Pc(l,o)),e=e.ownerDocument||e,o=e.createElement("script"),tt(o),ot(o,"link",l),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,ar(l,n.precedence,e));return t.instance}function ar(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=l.length?l[l.length-1]:null,d=o,x=0;x<l.length;x++){var S=l[x];if(S.dataset.precedence===t)d=S;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Jc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Pc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var lr=null;function ug(e,t,n){if(lr===null){var l=new Map,o=lr=new Map;o.set(n,l)}else o=lr,l=o.get(n),l||(l=new Map,o.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var d=n[o];if(!(d[Xl]||d[ut]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var x=d.getAttribute(t)||"";x=e+x;var S=l.get(x);S?S.push(d):l.set(x,[d])}}return l}function dg(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function ob(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function fg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Oi=null;function cb(){}function ub(e,t,n){if(Oi===null)throw Error(r(475));var l=Oi;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var o=Al(n.href),d=e.querySelector(Mi(o));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=ir.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=d,tt(d);return}d=e.ownerDocument||e,n=og(n),(o=Yt.get(o))&&Jc(n,o),d=d.createElement("link"),tt(d);var x=d;x._p=new Promise(function(S,U){x.onload=S,x.onerror=U}),ot(d,"link",n),t.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(l.count++,t=ir.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function db(){if(Oi===null)throw Error(r(475));var e=Oi;return e.stylesheets&&e.count===0&&Ic(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Ic(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function ir(){if(this.count--,this.count===0){if(this.stylesheets)Ic(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var sr=null;function Ic(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,sr=new Map,t.forEach(fb,e),sr=null,ir.call(e))}function fb(e,t){if(!(t.state.loading&4)){var n=sr.get(e);if(n)var l=n.get(null);else{n=new Map,sr.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var x=o[d];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(n.set(x.dataset.precedence,x),l=x)}l&&n.set(null,l)}o=t.instance,x=o.getAttribute("data-precedence"),d=n.get(x)||l,d===l&&n.set(null,o),n.set(x,o),this.count++,l=ir.bind(this),o.addEventListener("load",l),o.addEventListener("error",l),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var ki={$$typeof:M,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function hb(e,t,n,l,o,d,x,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xr(0),this.hiddenUpdates=Xr(null),this.identifierPrefix=l,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function hg(e,t,n,l,o,d,x,S,U,G,I,te){return e=new hb(e,t,n,x,S,U,G,te),t=1,d===!0&&(t|=24),d=At(3,null,null,t),e.current=d,d.stateNode=e,t=Mo(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:l,isDehydrated:n,cache:t},zo(d),e}function mg(e){return e?(e=il,e):il}function gg(e,t,n,l,o,d){o=mg(o),l.context===null?l.context=o:l.pendingContext=o,l=Xn(t),l.payload={element:n},d=d===void 0?null:d,d!==null&&(l.callback=d),n=Kn(e,l,t),n!==null&&(Mt(n,e,t),di(n,e,t))}function pg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wc(e,t){pg(e,t),(e=e.alternate)&&pg(e,t)}function yg(e){if(e.tag===13){var t=ll(e,67108864);t!==null&&Mt(t,e,67108864),Wc(e,67108864)}}var rr=!0;function mb(e,t,n,l){var o=D.T;D.T=null;var d=$.p;try{$.p=2,Fc(e,t,n,l)}finally{$.p=d,D.T=o}}function gb(e,t,n,l){var o=D.T;D.T=null;var d=$.p;try{$.p=8,Fc(e,t,n,l)}finally{$.p=d,D.T=o}}function Fc(e,t,n,l){if(rr){var o=eu(l);if(o===null)qc(e,t,l,or,n),bg(e,l);else if(yb(o,e,t,n,l))l.stopPropagation();else if(bg(e,l),t&4&&-1<pb.indexOf(e)){for(;o!==null;){var d=Xa(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var x=xa(d.pendingLanes);if(x!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var U=1<<31-Tt(x);S.entanglements[1]|=U,x&=~U}an(d),(Re&6)===0&&(Zs=He()+500,Di(0))}}break;case 13:S=ll(d,2),S!==null&&Mt(S,d,2),Ks(),Wc(d,2)}if(d=eu(l),d===null&&qc(e,t,l,or,n),d===o)break;o=d}o!==null&&l.stopPropagation()}else qc(e,t,l,null,n)}}function eu(e){return e=lo(e),tu(e)}var or=null;function tu(e){if(or=null,e=Za(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return or=e,null}function vg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qn()){case Vl:return 2;case fn:return 8;case hn:case Fi:return 32;case es:return 268435456;default:return 32}default:return 32}}var nu=!1,sa=null,ra=null,oa=null,zi=new Map,Bi=new Map,ca=[],pb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bg(e,t){switch(e){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":ra=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":zi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bi.delete(t.pointerId)}}function Li(e,t,n,l,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:d,targetContainers:[o]},t!==null&&(t=Xa(t),t!==null&&yg(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function yb(e,t,n,l,o){switch(t){case"focusin":return sa=Li(sa,e,t,n,l,o),!0;case"dragenter":return ra=Li(ra,e,t,n,l,o),!0;case"mouseover":return oa=Li(oa,e,t,n,l,o),!0;case"pointerover":var d=o.pointerId;return zi.set(d,Li(zi.get(d)||null,e,t,n,l,o)),!0;case"gotpointercapture":return d=o.pointerId,Bi.set(d,Li(Bi.get(d)||null,e,t,n,l,o)),!0}return!1}function xg(e){var t=Za(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=m(n),t!==null){e.blockedOn=t,u0(e.priority,function(){if(n.tag===13){var l=_t();l=Kr(l);var o=ll(n,l);o!==null&&Mt(o,n,l),Wc(n,l)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=eu(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);ao=l,n.target.dispatchEvent(l),ao=null}else return t=Xa(n),t!==null&&yg(t),e.blockedOn=n,!1;t.shift()}return!0}function wg(e,t,n){cr(e)&&n.delete(t)}function vb(){nu=!1,sa!==null&&cr(sa)&&(sa=null),ra!==null&&cr(ra)&&(ra=null),oa!==null&&cr(oa)&&(oa=null),zi.forEach(wg),Bi.forEach(wg)}function ur(e,t){e.blockedOn===t&&(e.blockedOn=null,nu||(nu=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,vb)))}var dr=null;function Eg(e){dr!==e&&(dr=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){dr===e&&(dr=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],o=e[t+2];if(typeof l!="function"){if(tu(l||n)===null)continue;break}var d=Xa(n);d!==null&&(e.splice(t,3),t-=3,tc(d,{pending:!0,data:o,method:n.method,action:l},l,o))}}))}function Hi(e){function t(U){return ur(U,e)}sa!==null&&ur(sa,e),ra!==null&&ur(ra,e),oa!==null&&ur(oa,e),zi.forEach(t),Bi.forEach(t);for(var n=0;n<ca.length;n++){var l=ca[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ca.length&&(n=ca[0],n.blockedOn===null);)xg(n),n.blockedOn===null&&ca.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var o=n[l],d=n[l+1],x=o[yt]||null;if(typeof d=="function")x||Eg(n);else if(x){var S=null;if(d&&d.hasAttribute("formAction")){if(o=d,x=d[yt]||null)S=x.formAction;else if(tu(o)!==null)continue}else S=x.action;typeof S=="function"?n[l+1]=S:(n.splice(l,3),l-=3),Eg(n)}}}function au(e){this._internalRoot=e}fr.prototype.render=au.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,l=_t();gg(n,l,e,t,null,null)},fr.prototype.unmount=au.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gg(e.current,2,null,e,null,null),Ks(),t[Ga]=null}};function fr(e){this._internalRoot=e}fr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ld();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ca.length&&t!==0&&t<ca[n].priority;n++);ca.splice(n,0,e),n===0&&xg(e)}};var Sg=i.version;if(Sg!=="19.1.0")throw Error(r(527,Sg,"19.1.0"));$.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=h(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var bb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hr.isDisabled&&hr.supportsFiber)try{ba=hr.inject(bb),Nt=hr}catch{}}return $i.createRoot=function(e,t){if(!c(e))throw Error(r(299));var n=!1,l="",o=Hh,d=qh,x=$h,S=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(x=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(S=t.unstable_transitionCallbacks)),t=hg(e,1,!1,null,null,n,l,o,d,x,S,null),e[Ga]=t.current,Hc(e),new au(t)},$i.hydrateRoot=function(e,t,n){if(!c(e))throw Error(r(299));var l=!1,o="",d=Hh,x=qh,S=$h,U=null,G=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(x=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(U=n.unstable_transitionCallbacks),n.formState!==void 0&&(G=n.formState)),t=hg(e,1,!0,t,n??null,l,o,d,x,S,U,G),t.context=mg(null),n=t.current,l=_t(),l=Kr(l),o=Xn(l),o.callback=null,Kn(n,o,l),n=l,t.current.lanes=n,Zl(t,n),an(t),e[Ga]=t.current,Hc(e),new fr(t)},$i.version="19.1.0",$i}var Ug;function Rb(){if(Ug)return su.exports;Ug=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),su.exports=Cb(),su.exports}var _b=Rb(),Yi={},Og;function Mb(){if(Og)return Yi;Og=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.parse=m,Yi.serialize=g;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,i=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,c=Object.prototype.toString,f=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function m(b,w){const E=new f,N=b.length;if(N<2)return E;const T=w?.decode||y;let j=0;do{const _=b.indexOf("=",j);if(_===-1)break;const M=b.indexOf(";",j),A=M===-1?N:M;if(_>A){j=b.lastIndexOf(";",_-1)+1;continue}const k=p(b,j,_),O=h(b,_,k),B=b.slice(k,O);if(E[B]===void 0){let H=p(b,_+1,A),Q=h(b,A,H);const J=T(b.slice(H,Q));E[B]=J}j=A+1}while(j<N);return E}function p(b,w,E){do{const N=b.charCodeAt(w);if(N!==32&&N!==9)return w}while(++w<E);return E}function h(b,w,E){for(;w>E;){const N=b.charCodeAt(--w);if(N!==32&&N!==9)return w+1}return E}function g(b,w,E){const N=E?.encode||encodeURIComponent;if(!a.test(b))throw new TypeError(`argument name is invalid: ${b}`);const T=N(w);if(!i.test(T))throw new TypeError(`argument val is invalid: ${w}`);let j=b+"="+T;if(!E)return j;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);j+="; Max-Age="+E.maxAge}if(E.domain){if(!s.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);j+="; Domain="+E.domain}if(E.path){if(!r.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);j+="; Path="+E.path}if(E.expires){if(!v(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);j+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(j+="; HttpOnly"),E.secure&&(j+="; Secure"),E.partitioned&&(j+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return j}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return c.call(b)==="[object Date]"}return Yi}Mb();var kg="popstate";function Ub(a={}){function i(r,c){let{pathname:f,search:m,hash:p}=r.location;return Au("",{pathname:f,search:m,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(r,c){return typeof c=="string"?c:Ki(c)}return kb(i,s,null,a)}function $e(a,i){if(a===!1||a===null||typeof a>"u")throw new Error(i)}function Zt(a,i){if(!a){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function Ob(){return Math.random().toString(36).substring(2,10)}function zg(a,i){return{usr:a.state,key:a.key,idx:i}}function Au(a,i,s=null,r){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof i=="string"?zl(i):i,state:s,key:i&&i.key||r||Ob()}}function Ki({pathname:a="/",search:i="",hash:s=""}){return i&&i!=="?"&&(a+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(a+=s.charAt(0)==="#"?s:"#"+s),a}function zl(a){let i={};if(a){let s=a.indexOf("#");s>=0&&(i.hash=a.substring(s),a=a.substring(0,s));let r=a.indexOf("?");r>=0&&(i.search=a.substring(r),a=a.substring(0,r)),a&&(i.pathname=a)}return i}function kb(a,i,s,r={}){let{window:c=document.defaultView,v5Compat:f=!1}=r,m=c.history,p="POP",h=null,g=y();g==null&&(g=0,m.replaceState({...m.state,idx:g},""));function y(){return(m.state||{idx:null}).idx}function v(){p="POP";let T=y(),j=T==null?null:T-g;g=T,h&&h({action:p,location:N.location,delta:j})}function b(T,j){p="PUSH";let _=Au(N.location,T,j);g=y()+1;let M=zg(_,g),A=N.createHref(_);try{m.pushState(M,"",A)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;c.location.assign(A)}f&&h&&h({action:p,location:N.location,delta:1})}function w(T,j){p="REPLACE";let _=Au(N.location,T,j);g=y();let M=zg(_,g),A=N.createHref(_);m.replaceState(M,"",A),f&&h&&h({action:p,location:N.location,delta:0})}function E(T){return zb(T)}let N={get action(){return p},get location(){return a(c,m)},listen(T){if(h)throw new Error("A history only accepts one active listener");return c.addEventListener(kg,v),h=T,()=>{c.removeEventListener(kg,v),h=null}},createHref(T){return i(c,T)},createURL:E,encodeLocation(T){let j=E(T);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:w,go(T){return m.go(T)}};return N}function zb(a,i=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),$e(s,"No window.location.(origin|href) available to create URL");let r=typeof a=="string"?a:Ki(a);return r=r.replace(/ $/,"%20"),!i&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function cp(a,i,s="/"){return Bb(a,i,s,!1)}function Bb(a,i,s,r){let c=typeof i=="string"?zl(i):i,f=kn(c.pathname||"/",s);if(f==null)return null;let m=up(a);Lb(m);let p=null;for(let h=0;p==null&&h<m.length;++h){let g=Jb(f);p=Kb(m[h],g,r)}return p}function up(a,i=[],s=[],r=""){let c=(f,m,p)=>{let h={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};h.relativePath.startsWith("/")&&($e(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let g=On([r,h.relativePath]),y=s.concat(h);f.children&&f.children.length>0&&($e(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),up(f.children,i,y,g)),!(f.path==null&&!f.index)&&i.push({path:g,score:Zb(g,f.index),routesMeta:y})};return a.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))c(f,m);else for(let p of dp(f.path))c(f,m,p)}),i}function dp(a){let i=a.split("/");if(i.length===0)return[];let[s,...r]=i,c=s.endsWith("?"),f=s.replace(/\?$/,"");if(r.length===0)return c?[f,""]:[f];let m=dp(r.join("/")),p=[];return p.push(...m.map(h=>h===""?f:[f,h].join("/"))),c&&p.push(...m),p.map(h=>a.startsWith("/")&&h===""?"/":h)}function Lb(a){a.sort((i,s)=>i.score!==s.score?s.score-i.score:Xb(i.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var Hb=/^:[\w-]+$/,qb=3,$b=2,Yb=1,Vb=10,Gb=-2,Bg=a=>a==="*";function Zb(a,i){let s=a.split("/"),r=s.length;return s.some(Bg)&&(r+=Gb),i&&(r+=$b),s.filter(c=>!Bg(c)).reduce((c,f)=>c+(Hb.test(f)?qb:f===""?Yb:Vb),r)}function Xb(a,i){return a.length===i.length&&a.slice(0,-1).every((r,c)=>r===i[c])?a[a.length-1]-i[i.length-1]:0}function Kb(a,i,s=!1){let{routesMeta:r}=a,c={},f="/",m=[];for(let p=0;p<r.length;++p){let h=r[p],g=p===r.length-1,y=f==="/"?i:i.slice(f.length)||"/",v=br({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},y),b=h.route;if(!v&&g&&s&&!r[r.length-1].route.index&&(v=br({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!v)return null;Object.assign(c,v.params),m.push({params:c,pathname:On([f,v.pathname]),pathnameBase:Fb(On([f,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(f=On([f,v.pathnameBase]))}return m}function br(a,i){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[s,r]=Qb(a.path,a.caseSensitive,a.end),c=i.match(s);if(!c)return null;let f=c[0],m=f.replace(/(.)\/+$/,"$1"),p=c.slice(1);return{params:r.reduce((g,{paramName:y,isOptional:v},b)=>{if(y==="*"){let E=p[b]||"";m=f.slice(0,f.length-E.length).replace(/(.)\/+$/,"$1")}const w=p[b];return v&&!w?g[y]=void 0:g[y]=(w||"").replace(/%2F/g,"/"),g},{}),pathname:f,pathnameBase:m,pattern:a}}function Qb(a,i=!1,s=!0){Zt(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let r=[],c="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,p,h)=>(r.push({paramName:p,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(r.push({paramName:"*"}),c+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":a!==""&&a!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,i?void 0:"i"),r]}function Jb(a){try{return a.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return Zt(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),a}}function kn(a,i){if(i==="/")return a;if(!a.toLowerCase().startsWith(i.toLowerCase()))return null;let s=i.endsWith("/")?i.length-1:i.length,r=a.charAt(s);return r&&r!=="/"?null:a.slice(s)||"/"}function Pb(a,i="/"){let{pathname:s,search:r="",hash:c=""}=typeof a=="string"?zl(a):a;return{pathname:s?s.startsWith("/")?s:Ib(s,i):i,search:ex(r),hash:tx(c)}}function Ib(a,i){let s=i.replace(/\/+$/,"").split("/");return a.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function uu(a,i,s,r){return`Cannot include a '${a}' character in a manually specified \`to.${i}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Wb(a){return a.filter((i,s)=>s===0||i.route.path&&i.route.path.length>0)}function Vu(a){let i=Wb(a);return i.map((s,r)=>r===i.length-1?s.pathname:s.pathnameBase)}function Gu(a,i,s,r=!1){let c;typeof a=="string"?c=zl(a):(c={...a},$e(!c.pathname||!c.pathname.includes("?"),uu("?","pathname","search",c)),$e(!c.pathname||!c.pathname.includes("#"),uu("#","pathname","hash",c)),$e(!c.search||!c.search.includes("#"),uu("#","search","hash",c)));let f=a===""||c.pathname==="",m=f?"/":c.pathname,p;if(m==null)p=s;else{let v=i.length-1;if(!r&&m.startsWith("..")){let b=m.split("/");for(;b[0]==="..";)b.shift(),v-=1;c.pathname=b.join("/")}p=v>=0?i[v]:"/"}let h=Pb(c,p),g=m&&m!=="/"&&m.endsWith("/"),y=(f||m===".")&&s.endsWith("/");return!h.pathname.endsWith("/")&&(g||y)&&(h.pathname+="/"),h}var On=a=>a.join("/").replace(/\/\/+/g,"/"),Fb=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),ex=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,tx=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function nx(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var fp=["POST","PUT","PATCH","DELETE"];new Set(fp);var ax=["GET",...fp];new Set(ax);var Bl=R.createContext(null);Bl.displayName="DataRouter";var jr=R.createContext(null);jr.displayName="DataRouterState";var hp=R.createContext({isTransitioning:!1});hp.displayName="ViewTransition";var lx=R.createContext(new Map);lx.displayName="Fetchers";var ix=R.createContext(null);ix.displayName="Await";var It=R.createContext(null);It.displayName="Navigation";var Pi=R.createContext(null);Pi.displayName="Location";var un=R.createContext({outlet:null,matches:[],isDataRoute:!1});un.displayName="Route";var Zu=R.createContext(null);Zu.displayName="RouteError";function sx(a,{relative:i}={}){$e(Ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=R.useContext(It),{hash:c,pathname:f,search:m}=Ii(a,{relative:i}),p=f;return s!=="/"&&(p=f==="/"?s:On([s,f])),r.createHref({pathname:p,search:m,hash:c})}function Ll(){return R.useContext(Pi)!=null}function Xt(){return $e(Ll(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Pi).location}var mp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gp(a){R.useContext(It).static||R.useLayoutEffect(a)}function Va(){let{isDataRoute:a}=R.useContext(un);return a?bx():rx()}function rx(){$e(Ll(),"useNavigate() may be used only in the context of a <Router> component.");let a=R.useContext(Bl),{basename:i,navigator:s}=R.useContext(It),{matches:r}=R.useContext(un),{pathname:c}=Xt(),f=JSON.stringify(Vu(r)),m=R.useRef(!1);return gp(()=>{m.current=!0}),R.useCallback((h,g={})=>{if(Zt(m.current,mp),!m.current)return;if(typeof h=="number"){s.go(h);return}let y=Gu(h,JSON.parse(f),c,g.relative==="path");a==null&&i!=="/"&&(y.pathname=y.pathname==="/"?i:On([i,y.pathname])),(g.replace?s.replace:s.push)(y,g.state,g)},[i,s,f,c,a])}R.createContext(null);function Ii(a,{relative:i}={}){let{matches:s}=R.useContext(un),{pathname:r}=Xt(),c=JSON.stringify(Vu(s));return R.useMemo(()=>Gu(a,JSON.parse(c),r,i==="path"),[a,c,r,i])}function ox(a,i){return pp(a,i)}function pp(a,i,s,r){$e(Ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=R.useContext(It),{matches:f}=R.useContext(un),m=f[f.length-1],p=m?m.params:{},h=m?m.pathname:"/",g=m?m.pathnameBase:"/",y=m&&m.route;{let j=y&&y.path||"";yp(h,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let v=Xt(),b;if(i){let j=typeof i=="string"?zl(i):i;$e(g==="/"||j.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${j.pathname}" was given in the \`location\` prop.`),b=j}else b=v;let w=b.pathname||"/",E=w;if(g!=="/"){let j=g.replace(/^\//,"").split("/");E="/"+w.replace(/^\//,"").split("/").slice(j.length).join("/")}let N=cp(a,{pathname:E});Zt(y||N!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Zt(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=hx(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},p,j.params),pathname:On([g,c.encodeLocation?c.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:On([g,c.encodeLocation?c.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),f,s,r);return i&&T?R.createElement(Pi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},T):T}function cx(){let a=vx(),i=nx(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),s=a instanceof Error?a.stack:null,r="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:r},f={padding:"2px 4px",backgroundColor:r},m=null;return console.error("Error handled by React Router default ErrorBoundary:",a),m=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:f},"ErrorBoundary")," or"," ",R.createElement("code",{style:f},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},i),s?R.createElement("pre",{style:c},s):null,m)}var ux=R.createElement(cx,null),dx=class extends R.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,i){return i.location!==a.location||i.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:i.error,location:i.location,revalidation:a.revalidation||i.revalidation}}componentDidCatch(a,i){console.error("React Router caught the following error during render",a,i)}render(){return this.state.error!==void 0?R.createElement(un.Provider,{value:this.props.routeContext},R.createElement(Zu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fx({routeContext:a,match:i,children:s}){let r=R.useContext(Bl);return r&&r.static&&r.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=i.route.id),R.createElement(un.Provider,{value:a},s)}function hx(a,i=[],s=null,r=null){if(a==null){if(!s)return null;if(s.errors)a=s.matches;else if(i.length===0&&!s.initialized&&s.matches.length>0)a=s.matches;else return null}let c=a,f=s?.errors;if(f!=null){let h=c.findIndex(g=>g.route.id&&f?.[g.route.id]!==void 0);$e(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,h+1))}let m=!1,p=-1;if(s)for(let h=0;h<c.length;h++){let g=c[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=h),g.route.id){let{loaderData:y,errors:v}=s,b=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||b){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((h,g,y)=>{let v,b=!1,w=null,E=null;s&&(v=f&&g.route.id?f[g.route.id]:void 0,w=g.route.errorElement||ux,m&&(p<0&&y===0?(yp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):p===y&&(b=!0,E=g.route.hydrateFallbackElement||null)));let N=i.concat(c.slice(0,y+1)),T=()=>{let j;return v?j=w:b?j=E:g.route.Component?j=R.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=h,R.createElement(fx,{match:g,routeContext:{outlet:h,matches:N,isDataRoute:s!=null},children:j})};return s&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?R.createElement(dx,{location:s.location,revalidation:s.revalidation,component:w,error:v,children:T(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):T()},null)}function Xu(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mx(a){let i=R.useContext(Bl);return $e(i,Xu(a)),i}function gx(a){let i=R.useContext(jr);return $e(i,Xu(a)),i}function px(a){let i=R.useContext(un);return $e(i,Xu(a)),i}function Ku(a){let i=px(a),s=i.matches[i.matches.length-1];return $e(s.route.id,`${a} can only be used on routes that contain a unique "id"`),s.route.id}function yx(){return Ku("useRouteId")}function vx(){let a=R.useContext(Zu),i=gx("useRouteError"),s=Ku("useRouteError");return a!==void 0?a:i.errors?.[s]}function bx(){let{router:a}=mx("useNavigate"),i=Ku("useNavigate"),s=R.useRef(!1);return gp(()=>{s.current=!0}),R.useCallback(async(c,f={})=>{Zt(s.current,mp),s.current&&(typeof c=="number"?a.navigate(c):await a.navigate(c,{fromRouteId:i,...f}))},[a,i])}var Lg={};function yp(a,i,s){!i&&!Lg[a]&&(Lg[a]=!0,Zt(!1,s))}R.memo(xx);function xx({routes:a,future:i,state:s}){return pp(a,void 0,s,i)}function wx({to:a,replace:i,state:s,relative:r}){$e(Ll(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=R.useContext(It);Zt(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=R.useContext(un),{pathname:m}=Xt(),p=Va(),h=Gu(a,Vu(f),m,r==="path"),g=JSON.stringify(h);return R.useEffect(()=>{p(JSON.parse(g),{replace:i,state:s,relative:r})},[p,g,r,i,s]),null}function Cn(a){$e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ex({basename:a="/",children:i=null,location:s,navigationType:r="POP",navigator:c,static:f=!1}){$e(!Ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=a.replace(/^\/*/,"/"),p=R.useMemo(()=>({basename:m,navigator:c,static:f,future:{}}),[m,c,f]);typeof s=="string"&&(s=zl(s));let{pathname:h="/",search:g="",hash:y="",state:v=null,key:b="default"}=s,w=R.useMemo(()=>{let E=kn(h,m);return E==null?null:{location:{pathname:E,search:g,hash:y,state:v,key:b},navigationType:r}},[m,h,g,y,v,b,r]);return Zt(w!=null,`<Router basename="${m}"> is not able to match the URL "${h}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:R.createElement(It.Provider,{value:p},R.createElement(Pi.Provider,{children:i,value:w}))}function Sx({children:a,location:i}){return ox(Du(a),i)}function Du(a,i=[]){let s=[];return R.Children.forEach(a,(r,c)=>{if(!R.isValidElement(r))return;let f=[...i,c];if(r.type===R.Fragment){s.push.apply(s,Du(r.props.children,f));return}$e(r.type===Cn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$e(!r.props.index||!r.props.children,"An index route cannot have child routes.");let m={id:r.props.id||f.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(m.children=Du(r.props.children,f)),s.push(m)}),s}var pr="get",yr="application/x-www-form-urlencoded";function Ar(a){return a!=null&&typeof a.tagName=="string"}function Nx(a){return Ar(a)&&a.tagName.toLowerCase()==="button"}function Tx(a){return Ar(a)&&a.tagName.toLowerCase()==="form"}function jx(a){return Ar(a)&&a.tagName.toLowerCase()==="input"}function Ax(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function Dx(a,i){return a.button===0&&(!i||i==="_self")&&!Ax(a)}function Cu(a=""){return new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((i,s)=>{let r=a[s];return i.concat(Array.isArray(r)?r.map(c=>[s,c]):[[s,r]])},[]))}function Cx(a,i){let s=Cu(a);return i&&i.forEach((r,c)=>{s.has(c)||i.getAll(c).forEach(f=>{s.append(c,f)})}),s}var mr=null;function Rx(){if(mr===null)try{new FormData(document.createElement("form"),0),mr=!1}catch{mr=!0}return mr}var _x=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function du(a){return a!=null&&!_x.has(a)?(Zt(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yr}"`),null):a}function Mx(a,i){let s,r,c,f,m;if(Tx(a)){let p=a.getAttribute("action");r=p?kn(p,i):null,s=a.getAttribute("method")||pr,c=du(a.getAttribute("enctype"))||yr,f=new FormData(a)}else if(Nx(a)||jx(a)&&(a.type==="submit"||a.type==="image")){let p=a.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=a.getAttribute("formaction")||p.getAttribute("action");if(r=h?kn(h,i):null,s=a.getAttribute("formmethod")||p.getAttribute("method")||pr,c=du(a.getAttribute("formenctype"))||du(p.getAttribute("enctype"))||yr,f=new FormData(p,a),!Rx()){let{name:g,type:y,value:v}=a;if(y==="image"){let b=g?`${g}.`:"";f.append(`${b}x`,"0"),f.append(`${b}y`,"0")}else g&&f.append(g,v)}}else{if(Ar(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=pr,r=null,c=yr,m=a}return f&&c==="text/plain"&&(m=f,f=void 0),{action:r,method:s.toLowerCase(),encType:c,formData:f,body:m}}function Qu(a,i){if(a===!1||a===null||typeof a>"u")throw new Error(i)}async function Ux(a,i){if(a.id in i)return i[a.id];try{let s=await import(a.module);return i[a.id]=s,s}catch(s){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ox(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function kx(a,i,s){let r=await Promise.all(a.map(async c=>{let f=i.routes[c.route.id];if(f){let m=await Ux(f,s);return m.links?m.links():[]}return[]}));return Hx(r.flat(1).filter(Ox).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Hg(a,i,s,r,c,f){let m=(h,g)=>s[g]?h.route.id!==s[g].route.id:!0,p=(h,g)=>s[g].pathname!==h.pathname||s[g].route.path?.endsWith("*")&&s[g].params["*"]!==h.params["*"];return f==="assets"?i.filter((h,g)=>m(h,g)||p(h,g)):f==="data"?i.filter((h,g)=>{let y=r.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(m(h,g)||p(h,g))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function zx(a,i,{includeHydrateFallback:s}={}){return Bx(a.map(r=>{let c=i.routes[r.route.id];if(!c)return[];let f=[c.module];return c.clientActionModule&&(f=f.concat(c.clientActionModule)),c.clientLoaderModule&&(f=f.concat(c.clientLoaderModule)),s&&c.hydrateFallbackModule&&(f=f.concat(c.hydrateFallbackModule)),c.imports&&(f=f.concat(c.imports)),f}).flat(1))}function Bx(a){return[...new Set(a)]}function Lx(a){let i={},s=Object.keys(a).sort();for(let r of s)i[r]=a[r];return i}function Hx(a,i){let s=new Set;return new Set(i),a.reduce((r,c)=>{let f=JSON.stringify(Lx(c));return s.has(f)||(s.add(f),r.push({key:f,link:c})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qx=new Set([100,101,204,205]);function $x(a,i){let s=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return s.pathname==="/"?s.pathname="_root.data":i&&kn(s.pathname,i)==="/"?s.pathname=`${i.replace(/\/$/,"")}/_root.data`:s.pathname=`${s.pathname.replace(/\/$/,"")}.data`,s}function vp(){let a=R.useContext(Bl);return Qu(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function Yx(){let a=R.useContext(jr);return Qu(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Ju=R.createContext(void 0);Ju.displayName="FrameworkContext";function bp(){let a=R.useContext(Ju);return Qu(a,"You must render this element inside a <HydratedRouter> element"),a}function Vx(a,i){let s=R.useContext(Ju),[r,c]=R.useState(!1),[f,m]=R.useState(!1),{onFocus:p,onBlur:h,onMouseEnter:g,onMouseLeave:y,onTouchStart:v}=i,b=R.useRef(null);R.useEffect(()=>{if(a==="render"&&m(!0),a==="viewport"){let N=j=>{j.forEach(_=>{m(_.isIntersecting)})},T=new IntersectionObserver(N,{threshold:.5});return b.current&&T.observe(b.current),()=>{T.disconnect()}}},[a]),R.useEffect(()=>{if(r){let N=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(N)}}},[r]);let w=()=>{c(!0)},E=()=>{c(!1),m(!1)};return s?a!=="intent"?[f,b,{}]:[f,b,{onFocus:Vi(p,w),onBlur:Vi(h,E),onMouseEnter:Vi(g,w),onMouseLeave:Vi(y,E),onTouchStart:Vi(v,w)}]:[!1,b,{}]}function Vi(a,i){return s=>{a&&a(s),s.defaultPrevented||i(s)}}function Gx({page:a,...i}){let{router:s}=vp(),r=R.useMemo(()=>cp(s.routes,a,s.basename),[s.routes,a,s.basename]);return r?R.createElement(Xx,{page:a,matches:r,...i}):null}function Zx(a){let{manifest:i,routeModules:s}=bp(),[r,c]=R.useState([]);return R.useEffect(()=>{let f=!1;return kx(a,i,s).then(m=>{f||c(m)}),()=>{f=!0}},[a,i,s]),r}function Xx({page:a,matches:i,...s}){let r=Xt(),{manifest:c,routeModules:f}=bp(),{basename:m}=vp(),{loaderData:p,matches:h}=Yx(),g=R.useMemo(()=>Hg(a,i,h,c,r,"data"),[a,i,h,c,r]),y=R.useMemo(()=>Hg(a,i,h,c,r,"assets"),[a,i,h,c,r]),v=R.useMemo(()=>{if(a===r.pathname+r.search+r.hash)return[];let E=new Set,N=!1;if(i.forEach(j=>{let _=c.routes[j.route.id];!_||!_.hasLoader||(!g.some(M=>M.route.id===j.route.id)&&j.route.id in p&&f[j.route.id]?.shouldRevalidate||_.hasClientLoader?N=!0:E.add(j.route.id))}),E.size===0)return[];let T=$x(a,m);return N&&E.size>0&&T.searchParams.set("_routes",i.filter(j=>E.has(j.route.id)).map(j=>j.route.id).join(",")),[T.pathname+T.search]},[m,p,r,c,g,i,a,f]),b=R.useMemo(()=>zx(y,c),[y,c]),w=Zx(y);return R.createElement(R.Fragment,null,v.map(E=>R.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...s})),b.map(E=>R.createElement("link",{key:E,rel:"modulepreload",href:E,...s})),w.map(({key:E,link:N})=>R.createElement("link",{key:E,...N})))}function Kx(...a){return i=>{a.forEach(s=>{typeof s=="function"?s(i):s!=null&&(s.current=i)})}}var xp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xp&&(window.__reactRouterVersion="7.6.3")}catch{}function Qx({basename:a,children:i,window:s}){let r=R.useRef();r.current==null&&(r.current=Ub({window:s,v5Compat:!0}));let c=r.current,[f,m]=R.useState({action:c.action,location:c.location}),p=R.useCallback(h=>{R.startTransition(()=>m(h))},[m]);return R.useLayoutEffect(()=>c.listen(p),[c,p]),R.createElement(Ex,{basename:a,children:i,location:f.location,navigationType:f.action,navigator:c})}var wp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,La=R.forwardRef(function({onClick:i,discover:s="render",prefetch:r="none",relative:c,reloadDocument:f,replace:m,state:p,target:h,to:g,preventScrollReset:y,viewTransition:v,...b},w){let{basename:E}=R.useContext(It),N=typeof g=="string"&&wp.test(g),T,j=!1;if(typeof g=="string"&&N&&(T=g,xp))try{let Q=new URL(window.location.href),J=g.startsWith("//")?new URL(Q.protocol+g):new URL(g),ne=kn(J.pathname,E);J.origin===Q.origin&&ne!=null?g=ne+J.search+J.hash:j=!0}catch{Zt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=sx(g,{relative:c}),[M,A,k]=Vx(r,b),O=Wx(g,{replace:m,state:p,target:h,preventScrollReset:y,relative:c,viewTransition:v});function B(Q){i&&i(Q),Q.defaultPrevented||O(Q)}let H=R.createElement("a",{...b,...k,href:T||_,onClick:j||f?i:B,ref:Kx(w,A),target:h,"data-discover":!N&&s==="render"?"true":void 0});return M&&!N?R.createElement(R.Fragment,null,H,R.createElement(Gx,{page:_})):H});La.displayName="Link";var Jx=R.forwardRef(function({"aria-current":i="page",caseSensitive:s=!1,className:r="",end:c=!1,style:f,to:m,viewTransition:p,children:h,...g},y){let v=Ii(m,{relative:g.relative}),b=Xt(),w=R.useContext(jr),{navigator:E,basename:N}=R.useContext(It),T=w!=null&&l1(v)&&p===!0,j=E.encodeLocation?E.encodeLocation(v).pathname:v.pathname,_=b.pathname,M=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(_=_.toLowerCase(),M=M?M.toLowerCase():null,j=j.toLowerCase()),M&&N&&(M=kn(M,N)||M);const A=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let k=_===j||!c&&_.startsWith(j)&&_.charAt(A)==="/",O=M!=null&&(M===j||!c&&M.startsWith(j)&&M.charAt(j.length)==="/"),B={isActive:k,isPending:O,isTransitioning:T},H=k?i:void 0,Q;typeof r=="function"?Q=r(B):Q=[r,k?"active":null,O?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let J=typeof f=="function"?f(B):f;return R.createElement(La,{...g,"aria-current":H,className:Q,ref:y,style:J,to:m,viewTransition:p},typeof h=="function"?h(B):h)});Jx.displayName="NavLink";var Px=R.forwardRef(({discover:a="render",fetcherKey:i,navigate:s,reloadDocument:r,replace:c,state:f,method:m=pr,action:p,onSubmit:h,relative:g,preventScrollReset:y,viewTransition:v,...b},w)=>{let E=n1(),N=a1(p,{relative:g}),T=m.toLowerCase()==="get"?"get":"post",j=typeof p=="string"&&wp.test(p),_=M=>{if(h&&h(M),M.defaultPrevented)return;M.preventDefault();let A=M.nativeEvent.submitter,k=A?.getAttribute("formmethod")||m;E(A||M.currentTarget,{fetcherKey:i,method:k,navigate:s,replace:c,state:f,relative:g,preventScrollReset:y,viewTransition:v})};return R.createElement("form",{ref:w,method:T,action:N,onSubmit:r?h:_,...b,"data-discover":!j&&a==="render"?"true":void 0})});Px.displayName="Form";function Ix(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ep(a){let i=R.useContext(Bl);return $e(i,Ix(a)),i}function Wx(a,{target:i,replace:s,state:r,preventScrollReset:c,relative:f,viewTransition:m}={}){let p=Va(),h=Xt(),g=Ii(a,{relative:f});return R.useCallback(y=>{if(Dx(y,i)){y.preventDefault();let v=s!==void 0?s:Ki(h)===Ki(g);p(a,{replace:v,state:r,preventScrollReset:c,relative:f,viewTransition:m})}},[h,p,g,s,r,i,a,c,f,m])}function Fx(a){Zt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let i=R.useRef(Cu(a)),s=R.useRef(!1),r=Xt(),c=R.useMemo(()=>Cx(r.search,s.current?null:i.current),[r.search]),f=Va(),m=R.useCallback((p,h)=>{const g=Cu(typeof p=="function"?p(c):p);s.current=!0,f("?"+g,h)},[f,c]);return[c,m]}var e1=0,t1=()=>`__${String(++e1)}__`;function n1(){let{router:a}=Ep("useSubmit"),{basename:i}=R.useContext(It),s=yx();return R.useCallback(async(r,c={})=>{let{action:f,method:m,encType:p,formData:h,body:g}=Mx(r,i);if(c.navigate===!1){let y=c.fetcherKey||t1();await a.fetch(y,s,c.action||f,{preventScrollReset:c.preventScrollReset,formData:h,body:g,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await a.navigate(c.action||f,{preventScrollReset:c.preventScrollReset,formData:h,body:g,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,i,s])}function a1(a,{relative:i}={}){let{basename:s}=R.useContext(It),r=R.useContext(un);$e(r,"useFormAction must be used inside a RouteContext");let[c]=r.matches.slice(-1),f={...Ii(a||".",{relative:i})},m=Xt();if(a==null){f.search=m.search;let p=new URLSearchParams(f.search),h=p.getAll("index");if(h.some(y=>y==="")){p.delete("index"),h.filter(v=>v).forEach(v=>p.append("index",v));let y=p.toString();f.search=y?`?${y}`:""}}return(!a||a===".")&&c.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(f.pathname=f.pathname==="/"?s:On([s,f.pathname])),Ki(f)}function l1(a,i={}){let s=R.useContext(hp);$e(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Ep("useViewTransitionState"),c=Ii(a,{relative:i.relative});if(!s.isTransitioning)return!1;let f=kn(s.currentLocation.pathname,r)||s.currentLocation.pathname,m=kn(s.nextLocation.pathname,r)||s.nextLocation.pathname;return br(c.pathname,m)!=null||br(c.pathname,f)!=null}[...qx];const Sp=R.createContext(null);function i1({children:a}){const[i,s]=R.useState(!1),[r,c]=R.useState(null),[f,m]=R.useState(null);R.useEffect(()=>{const v=localStorage.getItem("nostrcal_user");if(v)try{const b=JSON.parse(v);c(b),s(!0),console.log("Restored user from localStorage:",b)}catch(b){console.error("Failed to parse saved user data:",b),localStorage.removeItem("nostrcal_user")}},[]);const y={isLoggedIn:i,user:r,userProfile:f,login:v=>{console.log("AuthContext.login called with:",v),c(v),s(!0),localStorage.setItem("nostrcal_user",JSON.stringify(v)),console.log("User logged in successfully, isLoggedIn:",!0)},logout:()=>{console.log("Logging out..."),c(null),s(!1),localStorage.removeItem("nostrcal_user")},updateProfile:v=>{if(m(v),r){const b={...r,profile:v};c(b),localStorage.setItem("nostrcal_user",JSON.stringify(b))}}};return u.jsx(Sp.Provider,{value:y,children:a})}function Wt(){const a=R.useContext(Sp);if(!a)throw new Error("useAuth must be used within an AuthProvider");return a}function qg(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`Wrong positive integer: ${a}`)}function Np(a,...i){if(!(a instanceof Uint8Array))throw new Error("Expected Uint8Array");if(i.length>0&&!i.includes(a.length))throw new Error(`Expected Uint8Array of length ${i}, not of length=${a.length}`)}function s1(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");qg(a.outputLen),qg(a.blockLen)}function xr(a,i=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(i&&a.finished)throw new Error("Hash#digest() has already been called")}function r1(a,i){Np(a);const s=i.outputLen;if(a.length<s)throw new Error(`digestInto() expects output buffer of length at least ${s}`)}const fu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Tp=a=>a instanceof Uint8Array,hu=a=>new DataView(a.buffer,a.byteOffset,a.byteLength),ln=(a,i)=>a<<32-i|a>>>i,o1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!o1)throw new Error("Non little-endian hardware is not supported");function c1(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function Pu(a){if(typeof a=="string"&&(a=c1(a)),!Tp(a))throw new Error(`expected Uint8Array, got ${typeof a}`);return a}function u1(...a){const i=new Uint8Array(a.reduce((r,c)=>r+c.length,0));let s=0;return a.forEach(r=>{if(!Tp(r))throw new Error("Uint8Array expected");i.set(r,s),s+=r.length}),i}let jp=class{clone(){return this._cloneInto()}};function d1(a){const i=r=>a().update(Pu(r)).digest(),s=a();return i.outputLen=s.outputLen,i.blockLen=s.blockLen,i.create=()=>a(),i}function Ap(a=32){if(fu&&typeof fu.getRandomValues=="function")return fu.getRandomValues(new Uint8Array(a));throw new Error("crypto.getRandomValues must be defined")}function f1(a,i,s,r){if(typeof a.setBigUint64=="function")return a.setBigUint64(i,s,r);const c=BigInt(32),f=BigInt(4294967295),m=Number(s>>c&f),p=Number(s&f),h=r?4:0,g=r?0:4;a.setUint32(i+h,m,r),a.setUint32(i+g,p,r)}let h1=class extends jp{constructor(i,s,r,c){super(),this.blockLen=i,this.outputLen=s,this.padOffset=r,this.isLE=c,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(i),this.view=hu(this.buffer)}update(i){xr(this);const{view:s,buffer:r,blockLen:c}=this;i=Pu(i);const f=i.length;for(let m=0;m<f;){const p=Math.min(c-this.pos,f-m);if(p===c){const h=hu(i);for(;c<=f-m;m+=c)this.process(h,m);continue}r.set(i.subarray(m,m+p),this.pos),this.pos+=p,m+=p,this.pos===c&&(this.process(s,0),this.pos=0)}return this.length+=i.length,this.roundClean(),this}digestInto(i){xr(this),r1(i,this),this.finished=!0;const{buffer:s,view:r,blockLen:c,isLE:f}=this;let{pos:m}=this;s[m++]=128,this.buffer.subarray(m).fill(0),this.padOffset>c-m&&(this.process(r,0),m=0);for(let v=m;v<c;v++)s[v]=0;f1(r,c-8,BigInt(this.length*8),f),this.process(r,0);const p=hu(i),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const g=h/4,y=this.get();if(g>y.length)throw new Error("_sha2: outputLen bigger than state");for(let v=0;v<g;v++)p.setUint32(4*v,y[v],f)}digest(){const{buffer:i,outputLen:s}=this;this.digestInto(i);const r=i.slice(0,s);return this.destroy(),r}_cloneInto(i){i||(i=new this.constructor),i.set(...this.get());const{blockLen:s,buffer:r,length:c,finished:f,destroyed:m,pos:p}=this;return i.length=c,i.pos=p,i.finished=f,i.destroyed=m,c%s&&i.buffer.set(r),i}};const m1=(a,i,s)=>a&i^~a&s,g1=(a,i,s)=>a&i^a&s^i&s,p1=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),da=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),fa=new Uint32Array(64);let y1=class extends h1{constructor(){super(64,32,8,!1),this.A=da[0]|0,this.B=da[1]|0,this.C=da[2]|0,this.D=da[3]|0,this.E=da[4]|0,this.F=da[5]|0,this.G=da[6]|0,this.H=da[7]|0}get(){const{A:i,B:s,C:r,D:c,E:f,F:m,G:p,H:h}=this;return[i,s,r,c,f,m,p,h]}set(i,s,r,c,f,m,p,h){this.A=i|0,this.B=s|0,this.C=r|0,this.D=c|0,this.E=f|0,this.F=m|0,this.G=p|0,this.H=h|0}process(i,s){for(let v=0;v<16;v++,s+=4)fa[v]=i.getUint32(s,!1);for(let v=16;v<64;v++){const b=fa[v-15],w=fa[v-2],E=ln(b,7)^ln(b,18)^b>>>3,N=ln(w,17)^ln(w,19)^w>>>10;fa[v]=N+fa[v-7]+E+fa[v-16]|0}let{A:r,B:c,C:f,D:m,E:p,F:h,G:g,H:y}=this;for(let v=0;v<64;v++){const b=ln(p,6)^ln(p,11)^ln(p,25),w=y+b+m1(p,h,g)+p1[v]+fa[v]|0,N=(ln(r,2)^ln(r,13)^ln(r,22))+g1(r,c,f)|0;y=g,g=h,h=p,p=m+w|0,m=f,f=c,c=r,r=w+N|0}r=r+this.A|0,c=c+this.B|0,f=f+this.C|0,m=m+this.D|0,p=p+this.E|0,h=h+this.F|0,g=g+this.G|0,y=y+this.H|0,this.set(r,c,f,m,p,h,g,y)}roundClean(){fa.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Ru=d1(()=>new y1);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Dp=BigInt(0),Dr=BigInt(1),v1=BigInt(2),Cr=a=>a instanceof Uint8Array,b1=Array.from({length:256},(a,i)=>i.toString(16).padStart(2,"0"));function _l(a){if(!Cr(a))throw new Error("Uint8Array expected");let i="";for(let s=0;s<a.length;s++)i+=b1[a[s]];return i}function Cp(a){const i=a.toString(16);return i.length&1?`0${i}`:i}function Iu(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);return BigInt(a===""?"0":`0x${a}`)}function Ml(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const i=a.length;if(i%2)throw new Error("padded hex string expected, got unpadded hex of length "+i);const s=new Uint8Array(i/2);for(let r=0;r<s.length;r++){const c=r*2,f=a.slice(c,c+2),m=Number.parseInt(f,16);if(Number.isNaN(m)||m<0)throw new Error("Invalid byte sequence");s[r]=m}return s}function St(a){return Iu(_l(a))}function Wu(a){if(!Cr(a))throw new Error("Uint8Array expected");return Iu(_l(Uint8Array.from(a).reverse()))}function ya(a,i){return Ml(a.toString(16).padStart(i*2,"0"))}function Fu(a,i){return ya(a,i).reverse()}function x1(a){return Ml(Cp(a))}function ht(a,i,s){let r;if(typeof i=="string")try{r=Ml(i)}catch(f){throw new Error(`${a} must be valid hex string, got "${i}". Cause: ${f}`)}else if(Cr(i))r=Uint8Array.from(i);else throw new Error(`${a} must be hex string or Uint8Array`);const c=r.length;if(typeof s=="number"&&c!==s)throw new Error(`${a} expected ${s} bytes, got ${c}`);return r}function $a(...a){const i=new Uint8Array(a.reduce((r,c)=>r+c.length,0));let s=0;return a.forEach(r=>{if(!Cr(r))throw new Error("Uint8Array expected");i.set(r,s),s+=r.length}),i}function w1(a,i){if(a.length!==i.length)return!1;for(let s=0;s<a.length;s++)if(a[s]!==i[s])return!1;return!0}function E1(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function S1(a){let i;for(i=0;a>Dp;a>>=Dr,i+=1);return i}function N1(a,i){return a>>BigInt(i)&Dr}const T1=(a,i,s)=>a|(s?Dr:Dp)<<BigInt(i),ed=a=>(v1<<BigInt(a-1))-Dr,mu=a=>new Uint8Array(a),$g=a=>Uint8Array.from(a);function Rp(a,i,s){if(typeof a!="number"||a<2)throw new Error("hashLen must be a number");if(typeof i!="number"||i<2)throw new Error("qByteLen must be a number");if(typeof s!="function")throw new Error("hmacFn must be a function");let r=mu(a),c=mu(a),f=0;const m=()=>{r.fill(1),c.fill(0),f=0},p=(...v)=>s(c,r,...v),h=(v=mu())=>{c=p($g([0]),v),r=p(),v.length!==0&&(c=p($g([1]),v),r=p())},g=()=>{if(f++>=1e3)throw new Error("drbg: tried 1000 values");let v=0;const b=[];for(;v<i;){r=p();const w=r.slice();b.push(w),v+=r.length}return $a(...b)};return(v,b)=>{m(),h(v);let w;for(;!(w=b(g()));)h();return m(),w}}const j1={bigint:a=>typeof a=="bigint",function:a=>typeof a=="function",boolean:a=>typeof a=="boolean",string:a=>typeof a=="string",stringOrUint8Array:a=>typeof a=="string"||a instanceof Uint8Array,isSafeInteger:a=>Number.isSafeInteger(a),array:a=>Array.isArray(a),field:(a,i)=>i.Fp.isValid(a),hash:a=>typeof a=="function"&&Number.isSafeInteger(a.outputLen)};function Wi(a,i,s={}){const r=(c,f,m)=>{const p=j1[f];if(typeof p!="function")throw new Error(`Invalid validator "${f}", expected function`);const h=a[c];if(!(m&&h===void 0)&&!p(h,a))throw new Error(`Invalid param ${String(c)}=${h} (${typeof h}), expected ${f}`)};for(const[c,f]of Object.entries(i))r(c,f,!1);for(const[c,f]of Object.entries(s))r(c,f,!0);return a}const A1=Object.freeze(Object.defineProperty({__proto__:null,bitGet:N1,bitLen:S1,bitMask:ed,bitSet:T1,bytesToHex:_l,bytesToNumberBE:St,bytesToNumberLE:Wu,concatBytes:$a,createHmacDrbg:Rp,ensureBytes:ht,equalBytes:w1,hexToBytes:Ml,hexToNumber:Iu,numberToBytesBE:ya,numberToBytesLE:Fu,numberToHexUnpadded:Cp,numberToVarBytesBE:x1,utf8ToBytes:E1,validateObject:Wi},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const it=BigInt(0),Qe=BigInt(1),Ha=BigInt(2),D1=BigInt(3),_u=BigInt(4),Yg=BigInt(5),Vg=BigInt(8);BigInt(9);BigInt(16);function ct(a,i){const s=a%i;return s>=it?s:i+s}function C1(a,i,s){if(s<=it||i<it)throw new Error("Expected power/modulo > 0");if(s===Qe)return it;let r=Qe;for(;i>it;)i&Qe&&(r=r*a%s),a=a*a%s,i>>=Qe;return r}function Vt(a,i,s){let r=a;for(;i-- >it;)r*=r,r%=s;return r}function Mu(a,i){if(a===it||i<=it)throw new Error(`invert: expected positive integers, got n=${a} mod=${i}`);let s=ct(a,i),r=i,c=it,f=Qe;for(;s!==it;){const p=r/s,h=r%s,g=c-f*p;r=s,s=h,c=f,f=g}if(r!==Qe)throw new Error("invert: does not exist");return ct(c,i)}function R1(a){const i=(a-Qe)/Ha;let s,r,c;for(s=a-Qe,r=0;s%Ha===it;s/=Ha,r++);for(c=Ha;c<a&&C1(c,i,a)!==a-Qe;c++);if(r===1){const m=(a+Qe)/_u;return function(h,g){const y=h.pow(g,m);if(!h.eql(h.sqr(y),g))throw new Error("Cannot find square root");return y}}const f=(s+Qe)/Ha;return function(p,h){if(p.pow(h,i)===p.neg(p.ONE))throw new Error("Cannot find square root");let g=r,y=p.pow(p.mul(p.ONE,c),s),v=p.pow(h,f),b=p.pow(h,s);for(;!p.eql(b,p.ONE);){if(p.eql(b,p.ZERO))return p.ZERO;let w=1;for(let N=p.sqr(b);w<g&&!p.eql(N,p.ONE);w++)N=p.sqr(N);const E=p.pow(y,Qe<<BigInt(g-w-1));y=p.sqr(E),v=p.mul(v,E),b=p.mul(b,y),g=w}return v}}function _1(a){if(a%_u===D1){const i=(a+Qe)/_u;return function(r,c){const f=r.pow(c,i);if(!r.eql(r.sqr(f),c))throw new Error("Cannot find square root");return f}}if(a%Vg===Yg){const i=(a-Yg)/Vg;return function(r,c){const f=r.mul(c,Ha),m=r.pow(f,i),p=r.mul(c,m),h=r.mul(r.mul(p,Ha),m),g=r.mul(p,r.sub(h,r.ONE));if(!r.eql(r.sqr(g),c))throw new Error("Cannot find square root");return g}}return R1(a)}const M1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function U1(a){const i={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},s=M1.reduce((r,c)=>(r[c]="function",r),i);return Wi(a,s)}function O1(a,i,s){if(s<it)throw new Error("Expected power > 0");if(s===it)return a.ONE;if(s===Qe)return i;let r=a.ONE,c=i;for(;s>it;)s&Qe&&(r=a.mul(r,c)),c=a.sqr(c),s>>=Qe;return r}function k1(a,i){const s=new Array(i.length),r=i.reduce((f,m,p)=>a.is0(m)?f:(s[p]=f,a.mul(f,m)),a.ONE),c=a.inv(r);return i.reduceRight((f,m,p)=>a.is0(m)?f:(s[p]=a.mul(f,s[p]),a.mul(f,m)),c),s}function _p(a,i){const s=i!==void 0?i:a.toString(2).length,r=Math.ceil(s/8);return{nBitLength:s,nByteLength:r}}function z1(a,i,s=!1,r={}){if(a<=it)throw new Error(`Expected Field ORDER > 0, got ${a}`);const{nBitLength:c,nByteLength:f}=_p(a,i);if(f>2048)throw new Error("Field lengths over 2048 bytes are not supported");const m=_1(a),p=Object.freeze({ORDER:a,BITS:c,BYTES:f,MASK:ed(c),ZERO:it,ONE:Qe,create:h=>ct(h,a),isValid:h=>{if(typeof h!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof h}`);return it<=h&&h<a},is0:h=>h===it,isOdd:h=>(h&Qe)===Qe,neg:h=>ct(-h,a),eql:(h,g)=>h===g,sqr:h=>ct(h*h,a),add:(h,g)=>ct(h+g,a),sub:(h,g)=>ct(h-g,a),mul:(h,g)=>ct(h*g,a),pow:(h,g)=>O1(p,h,g),div:(h,g)=>ct(h*Mu(g,a),a),sqrN:h=>h*h,addN:(h,g)=>h+g,subN:(h,g)=>h-g,mulN:(h,g)=>h*g,inv:h=>Mu(h,a),sqrt:r.sqrt||(h=>m(p,h)),invertBatch:h=>k1(p,h),cmov:(h,g,y)=>y?g:h,toBytes:h=>s?Fu(h,f):ya(h,f),fromBytes:h=>{if(h.length!==f)throw new Error(`Fp.fromBytes: expected ${f}, got ${h.length}`);return s?Wu(h):St(h)}});return Object.freeze(p)}function Mp(a){if(typeof a!="bigint")throw new Error("field order must be bigint");const i=a.toString(2).length;return Math.ceil(i/8)}function Up(a){const i=Mp(a);return i+Math.ceil(i/2)}function B1(a,i,s=!1){const r=a.length,c=Mp(i),f=Up(i);if(r<16||r<f||r>1024)throw new Error(`expected ${f}-1024 bytes of input, got ${r}`);const m=s?St(a):Wu(a),p=ct(m,i-Qe)+Qe;return s?Fu(p,c):ya(p,c)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const L1=BigInt(0),gu=BigInt(1);function H1(a,i){const s=(c,f)=>{const m=f.negate();return c?m:f},r=c=>{const f=Math.ceil(i/c)+1,m=2**(c-1);return{windows:f,windowSize:m}};return{constTimeNegate:s,unsafeLadder(c,f){let m=a.ZERO,p=c;for(;f>L1;)f&gu&&(m=m.add(p)),p=p.double(),f>>=gu;return m},precomputeWindow(c,f){const{windows:m,windowSize:p}=r(f),h=[];let g=c,y=g;for(let v=0;v<m;v++){y=g,h.push(y);for(let b=1;b<p;b++)y=y.add(g),h.push(y);g=y.double()}return h},wNAF(c,f,m){const{windows:p,windowSize:h}=r(c);let g=a.ZERO,y=a.BASE;const v=BigInt(2**c-1),b=2**c,w=BigInt(c);for(let E=0;E<p;E++){const N=E*h;let T=Number(m&v);m>>=w,T>h&&(T-=b,m+=gu);const j=N,_=N+Math.abs(T)-1,M=E%2!==0,A=T<0;T===0?y=y.add(s(M,f[j])):g=g.add(s(A,f[_]))}return{p:g,f:y}},wNAFCached(c,f,m,p){const h=c._WINDOW_SIZE||1;let g=f.get(c);return g||(g=this.precomputeWindow(c,h),h!==1&&f.set(c,p(g))),this.wNAF(h,g,m)}}}function Op(a){return U1(a.Fp),Wi(a,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({..._p(a.n,a.nBitLength),...a,p:a.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function q1(a){const i=Op(a);Wi(i,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:s,Fp:r,a:c}=i;if(s){if(!r.eql(c,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof s!="object"||typeof s.beta!="bigint"||typeof s.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...i})}const{bytesToNumberBE:$1,hexToBytes:Y1}=A1,qa={Err:class extends Error{constructor(i=""){super(i)}},_parseInt(a){const{Err:i}=qa;if(a.length<2||a[0]!==2)throw new i("Invalid signature integer tag");const s=a[1],r=a.subarray(2,s+2);if(!s||r.length!==s)throw new i("Invalid signature integer: wrong length");if(r[0]&128)throw new i("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new i("Invalid signature integer: unnecessary leading zero");return{d:$1(r),l:a.subarray(s+2)}},toSig(a){const{Err:i}=qa,s=typeof a=="string"?Y1(a):a;if(!(s instanceof Uint8Array))throw new Error("ui8a expected");let r=s.length;if(r<2||s[0]!=48)throw new i("Invalid signature tag");if(s[1]!==r-2)throw new i("Invalid signature: incorrect length");const{d:c,l:f}=qa._parseInt(s.subarray(2)),{d:m,l:p}=qa._parseInt(f);if(p.length)throw new i("Invalid signature: left bytes after parsing");return{r:c,s:m}},hexFromSig(a){const i=g=>Number.parseInt(g[0],16)&8?"00"+g:g,s=g=>{const y=g.toString(16);return y.length&1?`0${y}`:y},r=i(s(a.s)),c=i(s(a.r)),f=r.length/2,m=c.length/2,p=s(f),h=s(m);return`30${s(m+f+4)}02${h}${c}02${p}${r}`}},Rn=BigInt(0),Gt=BigInt(1);BigInt(2);const Gg=BigInt(3);BigInt(4);function V1(a){const i=q1(a),{Fp:s}=i,r=i.toBytes||((E,N,T)=>{const j=N.toAffine();return $a(Uint8Array.from([4]),s.toBytes(j.x),s.toBytes(j.y))}),c=i.fromBytes||(E=>{const N=E.subarray(1),T=s.fromBytes(N.subarray(0,s.BYTES)),j=s.fromBytes(N.subarray(s.BYTES,2*s.BYTES));return{x:T,y:j}});function f(E){const{a:N,b:T}=i,j=s.sqr(E),_=s.mul(j,E);return s.add(s.add(_,s.mul(E,N)),T)}if(!s.eql(s.sqr(i.Gy),f(i.Gx)))throw new Error("bad generator point: equation left != right");function m(E){return typeof E=="bigint"&&Rn<E&&E<i.n}function p(E){if(!m(E))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function h(E){const{allowedPrivateKeyLengths:N,nByteLength:T,wrapPrivateKey:j,n:_}=i;if(N&&typeof E!="bigint"){if(E instanceof Uint8Array&&(E=_l(E)),typeof E!="string"||!N.includes(E.length))throw new Error("Invalid key");E=E.padStart(T*2,"0")}let M;try{M=typeof E=="bigint"?E:St(ht("private key",E,T))}catch{throw new Error(`private key must be ${T} bytes, hex or bigint, not ${typeof E}`)}return j&&(M=ct(M,_)),p(M),M}const g=new Map;function y(E){if(!(E instanceof v))throw new Error("ProjectivePoint expected")}class v{constructor(N,T,j){if(this.px=N,this.py=T,this.pz=j,N==null||!s.isValid(N))throw new Error("x required");if(T==null||!s.isValid(T))throw new Error("y required");if(j==null||!s.isValid(j))throw new Error("z required")}static fromAffine(N){const{x:T,y:j}=N||{};if(!N||!s.isValid(T)||!s.isValid(j))throw new Error("invalid affine point");if(N instanceof v)throw new Error("projective point not allowed");const _=M=>s.eql(M,s.ZERO);return _(T)&&_(j)?v.ZERO:new v(T,j,s.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(N){const T=s.invertBatch(N.map(j=>j.pz));return N.map((j,_)=>j.toAffine(T[_])).map(v.fromAffine)}static fromHex(N){const T=v.fromAffine(c(ht("pointHex",N)));return T.assertValidity(),T}static fromPrivateKey(N){return v.BASE.multiply(h(N))}_setWindowSize(N){this._WINDOW_SIZE=N,g.delete(this)}assertValidity(){if(this.is0()){if(i.allowInfinityPoint&&!s.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:N,y:T}=this.toAffine();if(!s.isValid(N)||!s.isValid(T))throw new Error("bad point: x or y not FE");const j=s.sqr(T),_=f(N);if(!s.eql(j,_))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:N}=this.toAffine();if(s.isOdd)return!s.isOdd(N);throw new Error("Field doesn't support isOdd")}equals(N){y(N);const{px:T,py:j,pz:_}=this,{px:M,py:A,pz:k}=N,O=s.eql(s.mul(T,k),s.mul(M,_)),B=s.eql(s.mul(j,k),s.mul(A,_));return O&&B}negate(){return new v(this.px,s.neg(this.py),this.pz)}double(){const{a:N,b:T}=i,j=s.mul(T,Gg),{px:_,py:M,pz:A}=this;let k=s.ZERO,O=s.ZERO,B=s.ZERO,H=s.mul(_,_),Q=s.mul(M,M),J=s.mul(A,A),ne=s.mul(_,M);return ne=s.add(ne,ne),B=s.mul(_,A),B=s.add(B,B),k=s.mul(N,B),O=s.mul(j,J),O=s.add(k,O),k=s.sub(Q,O),O=s.add(Q,O),O=s.mul(k,O),k=s.mul(ne,k),B=s.mul(j,B),J=s.mul(N,J),ne=s.sub(H,J),ne=s.mul(N,ne),ne=s.add(ne,B),B=s.add(H,H),H=s.add(B,H),H=s.add(H,J),H=s.mul(H,ne),O=s.add(O,H),J=s.mul(M,A),J=s.add(J,J),H=s.mul(J,ne),k=s.sub(k,H),B=s.mul(J,Q),B=s.add(B,B),B=s.add(B,B),new v(k,O,B)}add(N){y(N);const{px:T,py:j,pz:_}=this,{px:M,py:A,pz:k}=N;let O=s.ZERO,B=s.ZERO,H=s.ZERO;const Q=i.a,J=s.mul(i.b,Gg);let ne=s.mul(T,M),ce=s.mul(j,A),re=s.mul(_,k),Y=s.add(T,j),L=s.add(M,A);Y=s.mul(Y,L),L=s.add(ne,ce),Y=s.sub(Y,L),L=s.add(T,_);let D=s.add(M,k);return L=s.mul(L,D),D=s.add(ne,re),L=s.sub(L,D),D=s.add(j,_),O=s.add(A,k),D=s.mul(D,O),O=s.add(ce,re),D=s.sub(D,O),H=s.mul(Q,L),O=s.mul(J,re),H=s.add(O,H),O=s.sub(ce,H),H=s.add(ce,H),B=s.mul(O,H),ce=s.add(ne,ne),ce=s.add(ce,ne),re=s.mul(Q,re),L=s.mul(J,L),ce=s.add(ce,re),re=s.sub(ne,re),re=s.mul(Q,re),L=s.add(L,re),ne=s.mul(ce,L),B=s.add(B,ne),ne=s.mul(D,L),O=s.mul(Y,O),O=s.sub(O,ne),ne=s.mul(Y,ce),H=s.mul(D,H),H=s.add(H,ne),new v(O,B,H)}subtract(N){return this.add(N.negate())}is0(){return this.equals(v.ZERO)}wNAF(N){return w.wNAFCached(this,g,N,T=>{const j=s.invertBatch(T.map(_=>_.pz));return T.map((_,M)=>_.toAffine(j[M])).map(v.fromAffine)})}multiplyUnsafe(N){const T=v.ZERO;if(N===Rn)return T;if(p(N),N===Gt)return this;const{endo:j}=i;if(!j)return w.unsafeLadder(this,N);let{k1neg:_,k1:M,k2neg:A,k2:k}=j.splitScalar(N),O=T,B=T,H=this;for(;M>Rn||k>Rn;)M&Gt&&(O=O.add(H)),k&Gt&&(B=B.add(H)),H=H.double(),M>>=Gt,k>>=Gt;return _&&(O=O.negate()),A&&(B=B.negate()),B=new v(s.mul(B.px,j.beta),B.py,B.pz),O.add(B)}multiply(N){p(N);let T=N,j,_;const{endo:M}=i;if(M){const{k1neg:A,k1:k,k2neg:O,k2:B}=M.splitScalar(T);let{p:H,f:Q}=this.wNAF(k),{p:J,f:ne}=this.wNAF(B);H=w.constTimeNegate(A,H),J=w.constTimeNegate(O,J),J=new v(s.mul(J.px,M.beta),J.py,J.pz),j=H.add(J),_=Q.add(ne)}else{const{p:A,f:k}=this.wNAF(T);j=A,_=k}return v.normalizeZ([j,_])[0]}multiplyAndAddUnsafe(N,T,j){const _=v.BASE,M=(k,O)=>O===Rn||O===Gt||!k.equals(_)?k.multiplyUnsafe(O):k.multiply(O),A=M(this,T).add(M(N,j));return A.is0()?void 0:A}toAffine(N){const{px:T,py:j,pz:_}=this,M=this.is0();N==null&&(N=M?s.ONE:s.inv(_));const A=s.mul(T,N),k=s.mul(j,N),O=s.mul(_,N);if(M)return{x:s.ZERO,y:s.ZERO};if(!s.eql(O,s.ONE))throw new Error("invZ was invalid");return{x:A,y:k}}isTorsionFree(){const{h:N,isTorsionFree:T}=i;if(N===Gt)return!0;if(T)return T(v,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:N,clearCofactor:T}=i;return N===Gt?this:T?T(v,this):this.multiplyUnsafe(i.h)}toRawBytes(N=!0){return this.assertValidity(),r(v,this,N)}toHex(N=!0){return _l(this.toRawBytes(N))}}v.BASE=new v(i.Gx,i.Gy,s.ONE),v.ZERO=new v(s.ZERO,s.ONE,s.ZERO);const b=i.nBitLength,w=H1(v,i.endo?Math.ceil(b/2):b);return{CURVE:i,ProjectivePoint:v,normPrivateKeyToScalar:h,weierstrassEquation:f,isWithinCurveOrder:m}}function G1(a){const i=Op(a);return Wi(i,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...i})}function Z1(a){const i=G1(a),{Fp:s,n:r}=i,c=s.BYTES+1,f=2*s.BYTES+1;function m(L){return Rn<L&&L<s.ORDER}function p(L){return ct(L,r)}function h(L){return Mu(L,r)}const{ProjectivePoint:g,normPrivateKeyToScalar:y,weierstrassEquation:v,isWithinCurveOrder:b}=V1({...i,toBytes(L,D,$){const W=D.toAffine(),ae=s.toBytes(W.x),C=$a;return $?C(Uint8Array.from([D.hasEvenY()?2:3]),ae):C(Uint8Array.from([4]),ae,s.toBytes(W.y))},fromBytes(L){const D=L.length,$=L[0],W=L.subarray(1);if(D===c&&($===2||$===3)){const ae=St(W);if(!m(ae))throw new Error("Point is not on curve");const C=v(ae);let Z=s.sqrt(C);const ee=(Z&Gt)===Gt;return($&1)===1!==ee&&(Z=s.neg(Z)),{x:ae,y:Z}}else if(D===f&&$===4){const ae=s.fromBytes(W.subarray(0,s.BYTES)),C=s.fromBytes(W.subarray(s.BYTES,2*s.BYTES));return{x:ae,y:C}}else throw new Error(`Point of length ${D} was invalid. Expected ${c} compressed bytes or ${f} uncompressed bytes`)}}),w=L=>_l(ya(L,i.nByteLength));function E(L){const D=r>>Gt;return L>D}function N(L){return E(L)?p(-L):L}const T=(L,D,$)=>St(L.slice(D,$));class j{constructor(D,$,W){this.r=D,this.s=$,this.recovery=W,this.assertValidity()}static fromCompact(D){const $=i.nByteLength;return D=ht("compactSignature",D,$*2),new j(T(D,0,$),T(D,$,2*$))}static fromDER(D){const{r:$,s:W}=qa.toSig(ht("DER",D));return new j($,W)}assertValidity(){if(!b(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!b(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(D){return new j(this.r,this.s,D)}recoverPublicKey(D){const{r:$,s:W,recovery:ae}=this,C=B(ht("msgHash",D));if(ae==null||![0,1,2,3].includes(ae))throw new Error("recovery id invalid");const Z=ae===2||ae===3?$+i.n:$;if(Z>=s.ORDER)throw new Error("recovery id 2 or 3 invalid");const ee=(ae&1)===0?"02":"03",le=g.fromHex(ee+w(Z)),P=h(Z),oe=p(-C*P),ie=p(W*P),ue=g.BASE.multiplyAndAddUnsafe(le,oe,ie);if(!ue)throw new Error("point at infinify");return ue.assertValidity(),ue}hasHighS(){return E(this.s)}normalizeS(){return this.hasHighS()?new j(this.r,p(-this.s),this.recovery):this}toDERRawBytes(){return Ml(this.toDERHex())}toDERHex(){return qa.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ml(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}const _={isValidPrivateKey(L){try{return y(L),!0}catch{return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{const L=Up(i.n);return B1(i.randomBytes(L),i.n)},precompute(L=8,D=g.BASE){return D._setWindowSize(L),D.multiply(BigInt(3)),D}};function M(L,D=!0){return g.fromPrivateKey(L).toRawBytes(D)}function A(L){const D=L instanceof Uint8Array,$=typeof L=="string",W=(D||$)&&L.length;return D?W===c||W===f:$?W===2*c||W===2*f:L instanceof g}function k(L,D,$=!0){if(A(L))throw new Error("first arg must be private key");if(!A(D))throw new Error("second arg must be public key");return g.fromHex(D).multiply(y(L)).toRawBytes($)}const O=i.bits2int||function(L){const D=St(L),$=L.length*8-i.nBitLength;return $>0?D>>BigInt($):D},B=i.bits2int_modN||function(L){return p(O(L))},H=ed(i.nBitLength);function Q(L){if(typeof L!="bigint")throw new Error("bigint expected");if(!(Rn<=L&&L<H))throw new Error(`bigint expected < 2^${i.nBitLength}`);return ya(L,i.nByteLength)}function J(L,D,$=ne){if(["recovered","canonical"].some(Se=>Se in $))throw new Error("sign() legacy options not supported");const{hash:W,randomBytes:ae}=i;let{lowS:C,prehash:Z,extraEntropy:ee}=$;C==null&&(C=!0),L=ht("msgHash",L),Z&&(L=ht("prehashed msgHash",W(L)));const le=B(L),P=y(D),oe=[Q(P),Q(le)];if(ee!=null){const Se=ee===!0?ae(s.BYTES):ee;oe.push(ht("extraEntropy",Se))}const ie=$a(...oe),ue=le;function pe(Se){const ke=O(Se);if(!b(ke))return;const se=h(ke),Ee=g.BASE.multiply(ke).toAffine(),Ce=p(Ee.x);if(Ce===Rn)return;const Be=p(se*p(ue+Ce*P));if(Be===Rn)return;let et=(Ee.x===Ce?0:2)|Number(Ee.y&Gt),Ae=Be;return C&&E(Be)&&(Ae=N(Be),et^=1),new j(Ce,Ae,et)}return{seed:ie,k2sig:pe}}const ne={lowS:i.lowS,prehash:!1},ce={lowS:i.lowS,prehash:!1};function re(L,D,$=ne){const{seed:W,k2sig:ae}=J(L,D,$),C=i;return Rp(C.hash.outputLen,C.nByteLength,C.hmac)(W,ae)}g.BASE._setWindowSize(8);function Y(L,D,$,W=ce){const ae=L;if(D=ht("msgHash",D),$=ht("publicKey",$),"strict"in W)throw new Error("options.strict was renamed to lowS");const{lowS:C,prehash:Z}=W;let ee,le;try{if(typeof ae=="string"||ae instanceof Uint8Array)try{ee=j.fromDER(ae)}catch(Ee){if(!(Ee instanceof qa.Err))throw Ee;ee=j.fromCompact(ae)}else if(typeof ae=="object"&&typeof ae.r=="bigint"&&typeof ae.s=="bigint"){const{r:Ee,s:Ce}=ae;ee=new j(Ee,Ce)}else throw new Error("PARSE");le=g.fromHex($)}catch(Ee){if(Ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(C&&ee.hasHighS())return!1;Z&&(D=i.hash(D));const{r:P,s:oe}=ee,ie=B(D),ue=h(oe),pe=p(ie*ue),Se=p(P*ue),ke=g.BASE.multiplyAndAddUnsafe(le,pe,Se)?.toAffine();return ke?p(ke.x)===P:!1}return{CURVE:i,getPublicKey:M,getSharedSecret:k,sign:re,verify:Y,ProjectivePoint:g,Signature:j,utils:_}}let kp=class extends jp{constructor(i,s){super(),this.finished=!1,this.destroyed=!1,s1(i);const r=Pu(s);if(this.iHash=i.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const c=this.blockLen,f=new Uint8Array(c);f.set(r.length>c?i.create().update(r).digest():r);for(let m=0;m<f.length;m++)f[m]^=54;this.iHash.update(f),this.oHash=i.create();for(let m=0;m<f.length;m++)f[m]^=106;this.oHash.update(f),f.fill(0)}update(i){return xr(this),this.iHash.update(i),this}digestInto(i){xr(this),Np(i,this.outputLen),this.finished=!0,this.iHash.digestInto(i),this.oHash.update(i),this.oHash.digestInto(i),this.destroy()}digest(){const i=new Uint8Array(this.oHash.outputLen);return this.digestInto(i),i}_cloneInto(i){i||(i=Object.create(Object.getPrototypeOf(this),{}));const{oHash:s,iHash:r,finished:c,destroyed:f,blockLen:m,outputLen:p}=this;return i=i,i.finished=c,i.destroyed=f,i.blockLen=m,i.outputLen=p,i.oHash=s._cloneInto(i.oHash),i.iHash=r._cloneInto(i.iHash),i}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const zp=(a,i,s)=>new kp(a,i).update(s).digest();zp.create=(a,i)=>new kp(a,i);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function X1(a){return{hash:a,hmac:(i,...s)=>zp(a,i,u1(...s)),randomBytes:Ap}}function K1(a,i){const s=r=>Z1({...a,...X1(r)});return Object.freeze({...s(i),create:s})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Rr=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),wr=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Bp=BigInt(1),Er=BigInt(2),Zg=(a,i)=>(a+i/Er)/i;function Lp(a){const i=Rr,s=BigInt(3),r=BigInt(6),c=BigInt(11),f=BigInt(22),m=BigInt(23),p=BigInt(44),h=BigInt(88),g=a*a*a%i,y=g*g*a%i,v=Vt(y,s,i)*y%i,b=Vt(v,s,i)*y%i,w=Vt(b,Er,i)*g%i,E=Vt(w,c,i)*w%i,N=Vt(E,f,i)*E%i,T=Vt(N,p,i)*N%i,j=Vt(T,h,i)*T%i,_=Vt(j,p,i)*N%i,M=Vt(_,s,i)*y%i,A=Vt(M,m,i)*E%i,k=Vt(A,r,i)*g%i,O=Vt(k,Er,i);if(!Uu.eql(Uu.sqr(O),a))throw new Error("Cannot find square root");return O}const Uu=z1(Rr,void 0,void 0,{sqrt:Lp}),Hl=K1({a:BigInt(0),b:BigInt(7),Fp:Uu,n:wr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:a=>{const i=wr,s=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Bp*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),c=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),f=s,m=BigInt("0x100000000000000000000000000000000"),p=Zg(f*a,i),h=Zg(-r*a,i);let g=ct(a-p*s-h*c,i),y=ct(-p*r-h*f,i);const v=g>m,b=y>m;if(v&&(g=i-g),b&&(y=i-y),g>m||y>m)throw new Error("splitScalar: Endomorphism failed, k="+a);return{k1neg:v,k1:g,k2neg:b,k2:y}}}},Ru),_r=BigInt(0),Hp=a=>typeof a=="bigint"&&_r<a&&a<Rr,Q1=a=>typeof a=="bigint"&&_r<a&&a<wr,Xg={};function Sr(a,...i){let s=Xg[a];if(s===void 0){const r=Ru(Uint8Array.from(a,c=>c.charCodeAt(0)));s=$a(r,r),Xg[a]=s}return Ru($a(s,...i))}const td=a=>a.toRawBytes(!0).slice(1),Ou=a=>ya(a,32),pu=a=>ct(a,Rr),Qi=a=>ct(a,wr),nd=Hl.ProjectivePoint,J1=(a,i,s)=>nd.BASE.multiplyAndAddUnsafe(a,i,s);function ku(a){let i=Hl.utils.normPrivateKeyToScalar(a),s=nd.fromPrivateKey(i);return{scalar:s.hasEvenY()?i:Qi(-i),bytes:td(s)}}function qp(a){if(!Hp(a))throw new Error("bad x: need 0 < x < p");const i=pu(a*a),s=pu(i*a+BigInt(7));let r=Lp(s);r%Er!==_r&&(r=pu(-r));const c=new nd(a,r,Bp);return c.assertValidity(),c}function $p(...a){return Qi(St(Sr("BIP0340/challenge",...a)))}function P1(a){return ku(a).bytes}function I1(a,i,s=Ap(32)){const r=ht("message",a),{bytes:c,scalar:f}=ku(i),m=ht("auxRand",s,32),p=Ou(f^St(Sr("BIP0340/aux",m))),h=Sr("BIP0340/nonce",p,c,r),g=Qi(St(h));if(g===_r)throw new Error("sign failed: k is zero");const{bytes:y,scalar:v}=ku(g),b=$p(y,c,r),w=new Uint8Array(64);if(w.set(y,0),w.set(Ou(Qi(v+b*f)),32),!Yp(w,r,c))throw new Error("sign: Invalid signature produced");return w}function Yp(a,i,s){const r=ht("signature",a,64),c=ht("message",i),f=ht("publicKey",s,32);try{const m=qp(St(f)),p=St(r.subarray(0,32));if(!Hp(p))return!1;const h=St(r.subarray(32,64));if(!Q1(h))return!1;const g=$p(Ou(p),td(m),c),y=J1(m,h,Qi(-g));return!(!y||!y.hasEvenY()||y.toAffine().x!==p)}catch{return!1}}const Gi={getPublicKey:P1,sign:I1,verify:Yp,utils:{randomPrivateKey:Hl.utils.randomPrivateKey,lift_x:qp,pointToBytes:td,numberToBytesBE:ya,bytesToNumberBE:St,taggedHash:Sr,mod:ct}},yu=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ad=a=>a instanceof Uint8Array,vu=a=>new DataView(a.buffer,a.byteOffset,a.byteLength),sn=(a,i)=>a<<32-i|a>>>i,W1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!W1)throw new Error("Non little-endian hardware is not supported");const F1=Array.from({length:256},(a,i)=>i.toString(16).padStart(2,"0"));function mt(a){if(!ad(a))throw new Error("Uint8Array expected");let i="";for(let s=0;s<a.length;s++)i+=F1[a[s]];return i}function Ya(a){if(typeof a!="string")throw new Error("hex string expected, got "+typeof a);const i=a.length;if(i%2)throw new Error("padded hex string expected, got unpadded hex of length "+i);const s=new Uint8Array(i/2);for(let r=0;r<s.length;r++){const c=r*2,f=a.slice(c,c+2),m=Number.parseInt(f,16);if(Number.isNaN(m)||m<0)throw new Error("Invalid byte sequence");s[r]=m}return s}function ew(a){if(typeof a!="string")throw new Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function Ji(a){if(typeof a=="string"&&(a=ew(a)),!ad(a))throw new Error(`expected Uint8Array, got ${typeof a}`);return a}function Mr(...a){const i=new Uint8Array(a.reduce((r,c)=>r+c.length,0));let s=0;return a.forEach(r=>{if(!ad(r))throw new Error("Uint8Array expected");i.set(r,s),s+=r.length}),i}class Vp{clone(){return this._cloneInto()}}function Gp(a){const i=r=>a().update(Ji(r)).digest(),s=a();return i.outputLen=s.outputLen,i.blockLen=s.blockLen,i.create=()=>a(),i}function Zp(a=32){if(yu&&typeof yu.getRandomValues=="function")return yu.getRandomValues(new Uint8Array(a));throw new Error("crypto.getRandomValues must be defined")}function zu(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`Wrong positive integer: ${a}`)}function tw(a){if(typeof a!="boolean")throw new Error(`Expected boolean, not ${a}`)}function Xp(a,...i){if(!(a instanceof Uint8Array))throw new Error("Expected Uint8Array");if(i.length>0&&!i.includes(a.length))throw new Error(`Expected Uint8Array of length ${i}, not of length=${a.length}`)}function nw(a){if(typeof a!="function"||typeof a.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");zu(a.outputLen),zu(a.blockLen)}function aw(a,i=!0){if(a.destroyed)throw new Error("Hash instance has been destroyed");if(i&&a.finished)throw new Error("Hash#digest() has already been called")}function lw(a,i){Xp(a);const s=i.outputLen;if(a.length<s)throw new Error(`digestInto() expects output buffer of length at least ${s}`)}const rn={number:zu,bool:tw,bytes:Xp,hash:nw,exists:aw,output:lw};function iw(a,i,s,r){if(typeof a.setBigUint64=="function")return a.setBigUint64(i,s,r);const c=BigInt(32),f=BigInt(4294967295),m=Number(s>>c&f),p=Number(s&f),h=r?4:0,g=r?0:4;a.setUint32(i+h,m,r),a.setUint32(i+g,p,r)}class sw extends Vp{constructor(i,s,r,c){super(),this.blockLen=i,this.outputLen=s,this.padOffset=r,this.isLE=c,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(i),this.view=vu(this.buffer)}update(i){rn.exists(this);const{view:s,buffer:r,blockLen:c}=this;i=Ji(i);const f=i.length;for(let m=0;m<f;){const p=Math.min(c-this.pos,f-m);if(p===c){const h=vu(i);for(;c<=f-m;m+=c)this.process(h,m);continue}r.set(i.subarray(m,m+p),this.pos),this.pos+=p,m+=p,this.pos===c&&(this.process(s,0),this.pos=0)}return this.length+=i.length,this.roundClean(),this}digestInto(i){rn.exists(this),rn.output(i,this),this.finished=!0;const{buffer:s,view:r,blockLen:c,isLE:f}=this;let{pos:m}=this;s[m++]=128,this.buffer.subarray(m).fill(0),this.padOffset>c-m&&(this.process(r,0),m=0);for(let v=m;v<c;v++)s[v]=0;iw(r,c-8,BigInt(this.length*8),f),this.process(r,0);const p=vu(i),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const g=h/4,y=this.get();if(g>y.length)throw new Error("_sha2: outputLen bigger than state");for(let v=0;v<g;v++)p.setUint32(4*v,y[v],f)}digest(){const{buffer:i,outputLen:s}=this;this.digestInto(i);const r=i.slice(0,s);return this.destroy(),r}_cloneInto(i){i||(i=new this.constructor),i.set(...this.get());const{blockLen:s,buffer:r,length:c,finished:f,destroyed:m,pos:p}=this;return i.length=c,i.pos=p,i.finished=f,i.destroyed=m,c%s&&i.buffer.set(r),i}}const rw=(a,i,s)=>a&i^~a&s,ow=(a,i,s)=>a&i^a&s^i&s,cw=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ha=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ma=new Uint32Array(64);class Kp extends sw{constructor(){super(64,32,8,!1),this.A=ha[0]|0,this.B=ha[1]|0,this.C=ha[2]|0,this.D=ha[3]|0,this.E=ha[4]|0,this.F=ha[5]|0,this.G=ha[6]|0,this.H=ha[7]|0}get(){const{A:i,B:s,C:r,D:c,E:f,F:m,G:p,H:h}=this;return[i,s,r,c,f,m,p,h]}set(i,s,r,c,f,m,p,h){this.A=i|0,this.B=s|0,this.C=r|0,this.D=c|0,this.E=f|0,this.F=m|0,this.G=p|0,this.H=h|0}process(i,s){for(let v=0;v<16;v++,s+=4)ma[v]=i.getUint32(s,!1);for(let v=16;v<64;v++){const b=ma[v-15],w=ma[v-2],E=sn(b,7)^sn(b,18)^b>>>3,N=sn(w,17)^sn(w,19)^w>>>10;ma[v]=N+ma[v-7]+E+ma[v-16]|0}let{A:r,B:c,C:f,D:m,E:p,F:h,G:g,H:y}=this;for(let v=0;v<64;v++){const b=sn(p,6)^sn(p,11)^sn(p,25),w=y+b+rw(p,h,g)+cw[v]+ma[v]|0,N=(sn(r,2)^sn(r,13)^sn(r,22))+ow(r,c,f)|0;y=g,g=h,h=p,p=m+w|0,m=f,f=c,c=r,r=w+N|0}r=r+this.A|0,c=c+this.B|0,f=f+this.C|0,m=m+this.D|0,p=p+this.E|0,h=h+this.F|0,g=g+this.G|0,y=y+this.H|0,this.set(r,c,f,m,p,h,g,y)}roundClean(){ma.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class uw extends Kp{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const ql=Gp(()=>new Kp);Gp(()=>new uw);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function $l(a){if(!Number.isSafeInteger(a))throw new Error(`Wrong integer: ${a}`)}function Bn(...a){const i=(c,f)=>m=>c(f(m)),s=Array.from(a).reverse().reduce((c,f)=>c?i(c,f.encode):f.encode,void 0),r=a.reduce((c,f)=>c?i(c,f.decode):f.decode,void 0);return{encode:s,decode:r}}function Ln(a){return{encode:i=>{if(!Array.isArray(i)||i.length&&typeof i[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return i.map(s=>{if($l(s),s<0||s>=a.length)throw new Error(`Digit index outside alphabet: ${s} (alphabet: ${a.length})`);return a[s]})},decode:i=>{if(!Array.isArray(i)||i.length&&typeof i[0]!="string")throw new Error("alphabet.decode input should be array of strings");return i.map(s=>{if(typeof s!="string")throw new Error(`alphabet.decode: not string element=${s}`);const r=a.indexOf(s);if(r===-1)throw new Error(`Unknown letter: "${s}". Allowed: ${a}`);return r})}}}function Hn(a=""){if(typeof a!="string")throw new Error("join separator should be string");return{encode:i=>{if(!Array.isArray(i)||i.length&&typeof i[0]!="string")throw new Error("join.encode input should be array of strings");for(let s of i)if(typeof s!="string")throw new Error(`join.encode: non-string input=${s}`);return i.join(a)},decode:i=>{if(typeof i!="string")throw new Error("join.decode input should be string");return i.split(a)}}}function Ur(a,i="="){if($l(a),typeof i!="string")throw new Error("padding chr should be string");return{encode(s){if(!Array.isArray(s)||s.length&&typeof s[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of s)if(typeof r!="string")throw new Error(`padding.encode: non-string input=${r}`);for(;s.length*a%8;)s.push(i);return s},decode(s){if(!Array.isArray(s)||s.length&&typeof s[0]!="string")throw new Error("padding.encode input should be array of strings");for(let c of s)if(typeof c!="string")throw new Error(`padding.decode: non-string input=${c}`);let r=s.length;if(r*a%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&s[r-1]===i;r--)if(!((r-1)*a%8))throw new Error("Invalid padding: string has too much padding");return s.slice(0,r)}}}function Qp(a){if(typeof a!="function")throw new Error("normalize fn should be function");return{encode:i=>i,decode:i=>a(i)}}function Kg(a,i,s){if(i<2)throw new Error(`convertRadix: wrong from=${i}, base cannot be less than 2`);if(s<2)throw new Error(`convertRadix: wrong to=${s}, base cannot be less than 2`);if(!Array.isArray(a))throw new Error("convertRadix: data should be array");if(!a.length)return[];let r=0;const c=[],f=Array.from(a);for(f.forEach(m=>{if($l(m),m<0||m>=i)throw new Error(`Wrong integer: ${m}`)});;){let m=0,p=!0;for(let h=r;h<f.length;h++){const g=f[h],y=i*m+g;if(!Number.isSafeInteger(y)||i*m/i!==m||y-g!==i*m)throw new Error("convertRadix: carry overflow");if(m=y%s,f[h]=Math.floor(y/s),!Number.isSafeInteger(f[h])||f[h]*s+m!==y)throw new Error("convertRadix: carry overflow");if(p)f[h]?p=!1:r=h;else continue}if(c.push(m),p)break}for(let m=0;m<a.length-1&&a[m]===0;m++)c.push(0);return c.reverse()}const Jp=(a,i)=>i?Jp(i,a%i):a,Nr=(a,i)=>a+(i-Jp(a,i));function Bu(a,i,s,r){if(!Array.isArray(a))throw new Error("convertRadix2: data should be array");if(i<=0||i>32)throw new Error(`convertRadix2: wrong from=${i}`);if(s<=0||s>32)throw new Error(`convertRadix2: wrong to=${s}`);if(Nr(i,s)>32)throw new Error(`convertRadix2: carry overflow from=${i} to=${s} carryBits=${Nr(i,s)}`);let c=0,f=0;const m=2**s-1,p=[];for(const h of a){if($l(h),h>=2**i)throw new Error(`convertRadix2: invalid data word=${h} from=${i}`);if(c=c<<i|h,f+i>32)throw new Error(`convertRadix2: carry overflow pos=${f} from=${i}`);for(f+=i;f>=s;f-=s)p.push((c>>f-s&m)>>>0);c&=2**f-1}if(c=c<<s-f&m,!r&&f>=i)throw new Error("Excess padding");if(!r&&c)throw new Error(`Non-zero padding: ${c}`);return r&&f>0&&p.push(c>>>0),p}function dw(a){return $l(a),{encode:i=>{if(!(i instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Kg(Array.from(i),2**8,a)},decode:i=>{if(!Array.isArray(i)||i.length&&typeof i[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Kg(i,a,2**8))}}}function va(a,i=!1){if($l(a),a<=0||a>32)throw new Error("radix2: bits should be in (0..32]");if(Nr(8,a)>32||Nr(a,8)>32)throw new Error("radix2: carry overflow");return{encode:s=>{if(!(s instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Bu(Array.from(s),8,a,!i)},decode:s=>{if(!Array.isArray(s)||s.length&&typeof s[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Bu(s,a,8,i))}}}function Qg(a){if(typeof a!="function")throw new Error("unsafeWrapper fn should be function");return function(...i){try{return a.apply(null,i)}catch{}}}const fw=Bn(va(4),Ln("0123456789ABCDEF"),Hn("")),hw=Bn(va(5),Ln("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Ur(5),Hn(""));Bn(va(5),Ln("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Ur(5),Hn(""));Bn(va(5),Ln("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Hn(""),Qp(a=>a.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const zn=Bn(va(6),Ln("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Ur(6),Hn("")),mw=Bn(va(6),Ln("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Ur(6),Hn("")),ld=a=>Bn(dw(58),Ln(a),Hn("")),Lu=ld("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");ld("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");ld("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const Jg=[0,2,3,5,6,7,9,10,11],gw={encode(a){let i="";for(let s=0;s<a.length;s+=8){const r=a.subarray(s,s+8);i+=Lu.encode(r).padStart(Jg[r.length],"1")}return i},decode(a){let i=[];for(let s=0;s<a.length;s+=11){const r=a.slice(s,s+11),c=Jg.indexOf(r.length),f=Lu.decode(r);for(let m=0;m<f.length-c;m++)if(f[m]!==0)throw new Error("base58xmr: wrong padding");i=i.concat(Array.from(f.slice(f.length-c)))}return Uint8Array.from(i)}},Hu=Bn(Ln("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Hn("")),Pg=[996825010,642813549,513874426,1027748829,705979059];function Zi(a){const i=a>>25;let s=(a&33554431)<<5;for(let r=0;r<Pg.length;r++)(i>>r&1)===1&&(s^=Pg[r]);return s}function Ig(a,i,s=1){const r=a.length;let c=1;for(let f=0;f<r;f++){const m=a.charCodeAt(f);if(m<33||m>126)throw new Error(`Invalid prefix (${a})`);c=Zi(c)^m>>5}c=Zi(c);for(let f=0;f<r;f++)c=Zi(c)^a.charCodeAt(f)&31;for(let f of i)c=Zi(c)^f;for(let f=0;f<6;f++)c=Zi(c);return c^=s,Hu.encode(Bu([c%2**30],30,5,!1))}function Pp(a){const i=a==="bech32"?1:734539939,s=va(5),r=s.decode,c=s.encode,f=Qg(r);function m(y,v,b=90){if(typeof y!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof y}`);if(!Array.isArray(v)||v.length&&typeof v[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof v}`);const w=y.length+7+v.length;if(b!==!1&&w>b)throw new TypeError(`Length ${w} exceeds limit ${b}`);return y=y.toLowerCase(),`${y}1${Hu.encode(v)}${Ig(y,v,i)}`}function p(y,v=90){if(typeof y!="string")throw new Error(`bech32.decode input should be string, not ${typeof y}`);if(y.length<8||v!==!1&&y.length>v)throw new TypeError(`Wrong string length: ${y.length} (${y}). Expected (8..${v})`);const b=y.toLowerCase();if(y!==b&&y!==y.toUpperCase())throw new Error("String must be lowercase or uppercase");y=b;const w=y.lastIndexOf("1");if(w===0||w===-1)throw new Error('Letter "1" must be present between prefix and data only');const E=y.slice(0,w),N=y.slice(w+1);if(N.length<6)throw new Error("Data must be at least 6 characters long");const T=Hu.decode(N).slice(0,-6),j=Ig(E,T,i);if(!N.endsWith(j))throw new Error(`Invalid checksum in ${y}: expected "${j}"`);return{prefix:E,words:T}}const h=Qg(p);function g(y){const{prefix:v,words:b}=p(y,!1);return{prefix:v,words:b,bytes:r(b)}}return{encode:m,decode:p,decodeToBytes:g,decodeUnsafe:h,fromWords:r,fromWordsUnsafe:f,toWords:c}}const Ul=Pp("bech32");Pp("bech32m");const pw={encode:a=>new TextDecoder().decode(a),decode:a=>new TextEncoder().encode(a)},yw=Bn(va(4),Ln("0123456789abcdef"),Hn(""),Qp(a=>{if(typeof a!="string"||a.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof a} with length ${a.length}`);return a.toLowerCase()})),vw={utf8:pw,hex:yw,base16:fw,base32:hw,base64:zn,base64url:mw,base58:Lu,base58xmr:gw};`${Object.keys(vw).join(", ")}`;function bu(a){if(!Number.isSafeInteger(a)||a<0)throw new Error(`positive integer expected, not ${a}`)}function Wg(a){if(typeof a!="boolean")throw new Error(`boolean expected, not ${a}`)}function bw(a){return a instanceof Uint8Array||a!=null&&typeof a=="object"&&a.constructor.name==="Uint8Array"}function Mn(a,...i){if(!bw(a))throw new Error("Uint8Array expected");if(i.length>0&&!i.includes(a.length))throw new Error(`Uint8Array expected of length ${i}, not of length=${a.length}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const gt=a=>new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)),xw=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!xw)throw new Error("Non little-endian hardware is not supported");function ww(a,i){if(i==null||typeof i!="object")throw new Error("options must be defined");return Object.assign(a,i)}function Ew(a,i){if(a.length!==i.length)return!1;let s=0;for(let r=0;r<a.length;r++)s|=a[r]^i[r];return s===0}const Sw=(a,i)=>(Object.assign(i,a),i),pa=16,Nw=283;function id(a){return a<<1^Nw&-(a>>7)}function Rl(a,i){let s=0;for(;i>0;i>>=1)s^=a&-(i&1),a=id(a);return s}const qu=(()=>{let a=new Uint8Array(256);for(let s=0,r=1;s<256;s++,r^=id(r))a[s]=r;const i=new Uint8Array(256);i[0]=99;for(let s=0;s<255;s++){let r=a[255-s];r|=r<<8,i[a[s]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return i})(),Tw=qu.map((a,i)=>qu.indexOf(i)),jw=a=>a<<24|a>>>8,xu=a=>a<<8|a>>>24;function Ip(a,i){if(a.length!==256)throw new Error("Wrong sbox length");const s=new Uint32Array(256).map((g,y)=>i(a[y])),r=s.map(xu),c=r.map(xu),f=c.map(xu),m=new Uint32Array(256*256),p=new Uint32Array(256*256),h=new Uint16Array(256*256);for(let g=0;g<256;g++)for(let y=0;y<256;y++){const v=g*256+y;m[v]=s[g]^r[y],p[v]=c[g]^f[y],h[v]=a[g]<<8|a[y]}return{sbox:a,sbox2:h,T0:s,T1:r,T2:c,T3:f,T01:m,T23:p}}const sd=Ip(qu,a=>Rl(a,3)<<24|a<<16|a<<8|Rl(a,2)),Wp=Ip(Tw,a=>Rl(a,11)<<24|Rl(a,13)<<16|Rl(a,9)<<8|Rl(a,14)),Aw=(()=>{const a=new Uint8Array(16);for(let i=0,s=1;i<16;i++,s=id(s))a[i]=s;return a})();function Fp(a){Mn(a);const i=a.length;if(![16,24,32].includes(i))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${i}`);const{sbox2:s}=sd,r=gt(a),c=r.length,f=p=>on(s,p,p,p,p),m=new Uint32Array(i+28);m.set(r);for(let p=c;p<m.length;p++){let h=m[p-1];p%c===0?h=f(jw(h))^Aw[p/c-1]:c>6&&p%c===4&&(h=f(h)),m[p]=m[p-c]^h}return m}function Dw(a){const i=Fp(a),s=i.slice(),r=i.length,{sbox2:c}=sd,{T0:f,T1:m,T2:p,T3:h}=Wp;for(let g=0;g<r;g+=4)for(let y=0;y<4;y++)s[g+y]=i[r-g-4+y];i.fill(0);for(let g=4;g<r-4;g++){const y=s[g],v=on(c,y,y,y,y);s[g]=f[v&255]^m[v>>>8&255]^p[v>>>16&255]^h[v>>>24]}return s}function ga(a,i,s,r,c,f){return a[s<<8&65280|r>>>8&255]^i[c>>>8&65280|f>>>24&255]}function on(a,i,s,r,c){return a[i&255|s&65280]|a[r>>>16&255|c>>>16&65280]<<16}function Fg(a,i,s,r,c){const{sbox2:f,T01:m,T23:p}=sd;let h=0;i^=a[h++],s^=a[h++],r^=a[h++],c^=a[h++];const g=a.length/4-2;for(let E=0;E<g;E++){const N=a[h++]^ga(m,p,i,s,r,c),T=a[h++]^ga(m,p,s,r,c,i),j=a[h++]^ga(m,p,r,c,i,s),_=a[h++]^ga(m,p,c,i,s,r);i=N,s=T,r=j,c=_}const y=a[h++]^on(f,i,s,r,c),v=a[h++]^on(f,s,r,c,i),b=a[h++]^on(f,r,c,i,s),w=a[h++]^on(f,c,i,s,r);return{s0:y,s1:v,s2:b,s3:w}}function Cw(a,i,s,r,c){const{sbox2:f,T01:m,T23:p}=Wp;let h=0;i^=a[h++],s^=a[h++],r^=a[h++],c^=a[h++];const g=a.length/4-2;for(let E=0;E<g;E++){const N=a[h++]^ga(m,p,i,c,r,s),T=a[h++]^ga(m,p,s,i,c,r),j=a[h++]^ga(m,p,r,s,i,c),_=a[h++]^ga(m,p,c,r,s,i);i=N,s=T,r=j,c=_}const y=a[h++]^on(f,i,c,r,s),v=a[h++]^on(f,s,i,c,r),b=a[h++]^on(f,r,s,i,c),w=a[h++]^on(f,c,r,s,i);return{s0:y,s1:v,s2:b,s3:w}}function ey(a,i){if(!i)return new Uint8Array(a);if(Mn(i),i.length<a)throw new Error(`aes: wrong destination length, expected at least ${a}, got: ${i.length}`);return i}function Rw(a){if(Mn(a),a.length%pa!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${pa}`)}function _w(a,i,s){let r=a.length;const c=r%pa;if(!i&&c!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const f=gt(a);if(i){let h=pa-c;h||(h=pa),r=r+h}const m=ey(r,s),p=gt(m);return{b:f,o:p,out:m}}function Mw(a,i){if(!i)return a;const s=a.length;if(!s)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=a[s-1];if(r<=0||r>16)throw new Error(`aes/pcks5: wrong padding byte: ${r}`);const c=a.subarray(0,-r);for(let f=0;f<r;f++)if(a[s-f-1]!==r)throw new Error("aes/pcks5: wrong padding");return c}function Uw(a){const i=new Uint8Array(16),s=gt(i);i.set(a);const r=pa-a.length;for(let c=pa-r;c<pa;c++)i[c]=r;return s}const ty=Sw({blockSize:16,nonceLength:16},function(i,s,r={}){Mn(i),Mn(s,16);const c=!r.disablePadding;return{encrypt:(f,m)=>{const p=Fp(i),{b:h,o:g,out:y}=_w(f,c,m),v=gt(s);let b=v[0],w=v[1],E=v[2],N=v[3],T=0;for(;T+4<=h.length;)b^=h[T+0],w^=h[T+1],E^=h[T+2],N^=h[T+3],{s0:b,s1:w,s2:E,s3:N}=Fg(p,b,w,E,N),g[T++]=b,g[T++]=w,g[T++]=E,g[T++]=N;if(c){const j=Uw(f.subarray(T*4));b^=j[0],w^=j[1],E^=j[2],N^=j[3],{s0:b,s1:w,s2:E,s3:N}=Fg(p,b,w,E,N),g[T++]=b,g[T++]=w,g[T++]=E,g[T++]=N}return p.fill(0),y},decrypt:(f,m)=>{Rw(f);const p=Dw(i),h=gt(s),g=ey(f.length,m),y=gt(f),v=gt(g);let b=h[0],w=h[1],E=h[2],N=h[3];for(let T=0;T+4<=y.length;){const j=b,_=w,M=E,A=N;b=y[T+0],w=y[T+1],E=y[T+2],N=y[T+3];const{s0:k,s1:O,s2:B,s3:H}=Cw(p,b,w,E,N);v[T++]=k^j,v[T++]=O^_,v[T++]=B^M,v[T++]=H^A}return p.fill(0),Mw(g,c)}}}),ny=a=>Uint8Array.from(a.split("").map(i=>i.charCodeAt(0))),Ow=ny("expand 16-byte k"),kw=ny("expand 32-byte k"),zw=gt(Ow),ay=gt(kw);ay.slice();function je(a,i){return a<<i|a>>>32-i}function $u(a){return a.byteOffset%4===0}const gr=64,Bw=16,ly=2**32-1,ep=new Uint32Array;function Lw(a,i,s,r,c,f,m,p){const h=c.length,g=new Uint8Array(gr),y=gt(g),v=$u(c)&&$u(f),b=v?gt(c):ep,w=v?gt(f):ep;for(let E=0;E<h;m++){if(a(i,s,r,y,m,p),m>=ly)throw new Error("arx: counter overflow");const N=Math.min(gr,h-E);if(v&&N===gr){const T=E/4;if(E%4!==0)throw new Error("arx: invalid block position");for(let j=0,_;j<Bw;j++)_=T+j,w[_]=b[_]^y[j];E+=gr;continue}for(let T=0,j;T<N;T++)j=E+T,f[j]=c[j]^g[T];E+=N}}function Hw(a,i){const{allowShortKeys:s,extendNonceFn:r,counterLength:c,counterRight:f,rounds:m}=ww({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},i);if(typeof a!="function")throw new Error("core must be a function");return bu(c),bu(m),Wg(f),Wg(s),(p,h,g,y,v=0)=>{Mn(p),Mn(h),Mn(g);const b=g.length;if(y||(y=new Uint8Array(b)),Mn(y),bu(v),v<0||v>=ly)throw new Error("arx: counter overflow");if(y.length<b)throw new Error(`arx: output (${y.length}) is shorter than data (${b})`);const w=[];let E=p.length,N,T;if(E===32)N=p.slice(),w.push(N),T=ay;else if(E===16&&s)N=new Uint8Array(32),N.set(p),N.set(p,16),T=zw,w.push(N);else throw new Error(`arx: invalid 32-byte key, got length=${E}`);$u(h)||(h=h.slice(),w.push(h));const j=gt(N);if(r){if(h.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(T,j,gt(h.subarray(0,16)),j),h=h.subarray(16)}const _=16-c;if(_!==h.length)throw new Error(`arx: nonce must be ${_} or 16 bytes`);if(_!==12){const A=new Uint8Array(12);A.set(h,f?0:12-h.length),h=A,w.push(h)}const M=gt(h);for(Lw(a,T,j,M,g,y,v,m);w.length>0;)w.pop().fill(0);return y}}function qw(a,i,s,r,c,f=20){let m=a[0],p=a[1],h=a[2],g=a[3],y=i[0],v=i[1],b=i[2],w=i[3],E=i[4],N=i[5],T=i[6],j=i[7],_=c,M=s[0],A=s[1],k=s[2],O=m,B=p,H=h,Q=g,J=y,ne=v,ce=b,re=w,Y=E,L=N,D=T,$=j,W=_,ae=M,C=A,Z=k;for(let le=0;le<f;le+=2)O=O+J|0,W=je(W^O,16),Y=Y+W|0,J=je(J^Y,12),O=O+J|0,W=je(W^O,8),Y=Y+W|0,J=je(J^Y,7),B=B+ne|0,ae=je(ae^B,16),L=L+ae|0,ne=je(ne^L,12),B=B+ne|0,ae=je(ae^B,8),L=L+ae|0,ne=je(ne^L,7),H=H+ce|0,C=je(C^H,16),D=D+C|0,ce=je(ce^D,12),H=H+ce|0,C=je(C^H,8),D=D+C|0,ce=je(ce^D,7),Q=Q+re|0,Z=je(Z^Q,16),$=$+Z|0,re=je(re^$,12),Q=Q+re|0,Z=je(Z^Q,8),$=$+Z|0,re=je(re^$,7),O=O+ne|0,Z=je(Z^O,16),D=D+Z|0,ne=je(ne^D,12),O=O+ne|0,Z=je(Z^O,8),D=D+Z|0,ne=je(ne^D,7),B=B+ce|0,W=je(W^B,16),$=$+W|0,ce=je(ce^$,12),B=B+ce|0,W=je(W^B,8),$=$+W|0,ce=je(ce^$,7),H=H+re|0,ae=je(ae^H,16),Y=Y+ae|0,re=je(re^Y,12),H=H+re|0,ae=je(ae^H,8),Y=Y+ae|0,re=je(re^Y,7),Q=Q+J|0,C=je(C^Q,16),L=L+C|0,J=je(J^L,12),Q=Q+J|0,C=je(C^Q,8),L=L+C|0,J=je(J^L,7);let ee=0;r[ee++]=m+O|0,r[ee++]=p+B|0,r[ee++]=h+H|0,r[ee++]=g+Q|0,r[ee++]=y+J|0,r[ee++]=v+ne|0,r[ee++]=b+ce|0,r[ee++]=w+re|0,r[ee++]=E+Y|0,r[ee++]=N+L|0,r[ee++]=T+D|0,r[ee++]=j+$|0,r[ee++]=_+W|0,r[ee++]=M+ae|0,r[ee++]=A+C|0,r[ee++]=k+Z|0}const iy=Hw(qw,{counterRight:!1,counterLength:4,allowShortKeys:!1});class sy extends Vp{constructor(i,s){super(),this.finished=!1,this.destroyed=!1,rn.hash(i);const r=Ji(s);if(this.iHash=i.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const c=this.blockLen,f=new Uint8Array(c);f.set(r.length>c?i.create().update(r).digest():r);for(let m=0;m<f.length;m++)f[m]^=54;this.iHash.update(f),this.oHash=i.create();for(let m=0;m<f.length;m++)f[m]^=106;this.oHash.update(f),f.fill(0)}update(i){return rn.exists(this),this.iHash.update(i),this}digestInto(i){rn.exists(this),rn.bytes(i,this.outputLen),this.finished=!0,this.iHash.digestInto(i),this.oHash.update(i),this.oHash.digestInto(i),this.destroy()}digest(){const i=new Uint8Array(this.oHash.outputLen);return this.digestInto(i),i}_cloneInto(i){i||(i=Object.create(Object.getPrototypeOf(this),{}));const{oHash:s,iHash:r,finished:c,destroyed:f,blockLen:m,outputLen:p}=this;return i=i,i.finished=c,i.destroyed=f,i.blockLen=m,i.outputLen=p,i.oHash=s._cloneInto(i.oHash),i.iHash=r._cloneInto(i.iHash),i}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Or=(a,i,s)=>new sy(a,i).update(s).digest();Or.create=(a,i)=>new sy(a,i);function $w(a,i,s){return rn.hash(a),Or(a,Ji(s),Ji(i))}const wu=new Uint8Array([0]),tp=new Uint8Array;function Yw(a,i,s,r=32){if(rn.hash(a),rn.number(r),r>255*a.outputLen)throw new Error("Length should be <= 255*HashLen");const c=Math.ceil(r/a.outputLen);s===void 0&&(s=tp);const f=new Uint8Array(c*a.outputLen),m=Or.create(a,i),p=m._cloneInto(),h=new Uint8Array(m.outputLen);for(let g=0;g<c;g++)wu[0]=g+1,p.update(g===0?tp:h).update(s).update(wu).digestInto(h),f.set(h,a.outputLen*g),m._cloneInto(p);return m.destroy(),p.destroy(),h.fill(0),wu.fill(0),f.slice(0,r)}var Vw=Object.defineProperty,Ye=(a,i)=>{for(var s in i)Vw(a,s,{get:i[s],enumerable:!0})},Cl=Symbol("verified"),Gw=a=>a instanceof Object;function rd(a){if(!Gw(a)||typeof a.kind!="number"||typeof a.content!="string"||typeof a.created_at!="number"||typeof a.pubkey!="string"||!a.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(a.tags))return!1;for(let i=0;i<a.tags.length;i++){let s=a.tags[i];if(!Array.isArray(s))return!1;for(let r=0;r<s.length;r++)if(typeof s[r]!="string")return!1}return!0}var Zw={};Ye(Zw,{Queue:()=>Jw,QueueNode:()=>ry,binarySearch:()=>od,bytesToHex:()=>mt,hexToBytes:()=>Ya,insertEventIntoAscendingList:()=>Qw,insertEventIntoDescendingList:()=>Kw,normalizeURL:()=>Xw,utf8Decoder:()=>Un,utf8Encoder:()=>Pt});var Un=new TextDecoder("utf-8"),Pt=new TextEncoder;function Xw(a){try{a.indexOf("://")===-1&&(a="wss://"+a);let i=new URL(a);return i.pathname=i.pathname.replace(/\/+/g,"/"),i.pathname.endsWith("/")&&(i.pathname=i.pathname.slice(0,-1)),(i.port==="80"&&i.protocol==="ws:"||i.port==="443"&&i.protocol==="wss:")&&(i.port=""),i.searchParams.sort(),i.hash="",i.toString()}catch{throw new Error(`Invalid URL: ${a}`)}}function Kw(a,i){const[s,r]=od(a,c=>i.id===c.id?0:i.created_at===c.created_at?-1:c.created_at-i.created_at);return r||a.splice(s,0,i),a}function Qw(a,i){const[s,r]=od(a,c=>i.id===c.id?0:i.created_at===c.created_at?-1:i.created_at-c.created_at);return r||a.splice(s,0,i),a}function od(a,i){let s=0,r=a.length-1;for(;s<=r;){const c=Math.floor((s+r)/2),f=i(a[c]);if(f===0)return[c,!0];f<0?r=c-1:s=c+1}return[s,!1]}var ry=class{value;next=null;prev=null;constructor(a){this.value=a}},Jw=class{first;last;constructor(){this.first=null,this.last=null}enqueue(a){const i=new ry(a);return this.last?this.last===this.first?(this.last=i,this.last.prev=this.first,this.first.next=i):(i.prev=this.last,this.last.next=i,this.last=i):(this.first=i,this.last=i),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const i=this.first;return this.first=null,this.last=null,i.value}const a=this.first;return this.first=a.next,this.first&&(this.first.prev=null),a.value}},Pw=class{generateSecretKey(){return Gi.utils.randomPrivateKey()}getPublicKey(a){return mt(Gi.getPublicKey(a))}finalizeEvent(a,i){const s=a;return s.pubkey=mt(Gi.getPublicKey(i)),s.id=vr(s),s.sig=mt(Gi.sign(vr(s),i)),s[Cl]=!0,s}verifyEvent(a){if(typeof a[Cl]=="boolean")return a[Cl];const i=vr(a);if(i!==a.id)return a[Cl]=!1,!1;try{const s=Gi.verify(a.sig,i,a.pubkey);return a[Cl]=s,s}catch{return a[Cl]=!1,!1}}};function Iw(a){if(!rd(a))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,a.pubkey,a.created_at,a.kind,a.tags,a.content])}function vr(a){let i=ql(Pt.encode(Iw(a)));return mt(i)}var kr=new Pw,oy=kr.generateSecretKey,zr=kr.getPublicKey,dn=kr.finalizeEvent,cd=kr.verifyEvent,Ww={};Ye(Ww,{Application:()=>IE,BadgeAward:()=>sE,BadgeDefinition:()=>GE,BlockedRelaysList:()=>DE,BookmarkList:()=>TE,Bookmarksets:()=>$E,Calendar:()=>lS,CalendarEventRSVP:()=>iS,ChannelCreation:()=>my,ChannelHideMessage:()=>yy,ChannelMessage:()=>py,ChannelMetadata:()=>gy,ChannelMuteUser:()=>vy,ClassifiedListing:()=>eS,ClientAuth:()=>xy,CommunitiesList:()=>jE,CommunityDefinition:()=>oS,CommunityPostApproval:()=>mE,Contacts:()=>aE,CreateOrUpdateProduct:()=>KE,CreateOrUpdateStall:()=>XE,Curationsets:()=>YE,Date:()=>nS,DirectMessageRelaysList:()=>ME,DraftClassifiedListing:()=>tS,DraftLong:()=>JE,Emojisets:()=>PE,EncryptedDirectMessage:()=>lE,EventDeletion:()=>iE,FileMetadata:()=>oE,FileServerPreference:()=>UE,Followsets:()=>LE,GenericRepost:()=>md,Genericlists:()=>HE,GiftWrap:()=>by,HTTPAuth:()=>gd,Handlerinformation:()=>rS,Handlerrecommendation:()=>sS,Highlights:()=>wE,InterestsList:()=>RE,Interestsets:()=>ZE,JobFeedback:()=>yE,JobRequest:()=>gE,JobResult:()=>pE,Label:()=>hE,LightningPubRPC:()=>kE,LiveChatMessage:()=>cE,LiveEvent:()=>WE,LongFormArticle:()=>QE,Metadata:()=>tE,Mutelist:()=>EE,NWCWalletInfo:()=>OE,NWCWalletRequest:()=>wy,NWCWalletResponse:()=>zE,NostrConnect:()=>BE,OpenTimestamps:()=>rE,Pinlist:()=>SE,PrivateDirectMessage:()=>hy,ProblemTracker:()=>uE,ProfileBadges:()=>VE,PublicChatsList:()=>AE,Reaction:()=>hd,RecommendRelay:()=>nE,RelayList:()=>NE,Relaysets:()=>qE,Report:()=>dE,Reporting:()=>fE,Repost:()=>fd,Seal:()=>fy,SearchRelaysList:()=>CE,ShortTextNote:()=>dy,Time:()=>aS,UserEmojiList:()=>_E,UserStatuses:()=>FE,Zap:()=>xE,ZapGoal:()=>vE,ZapRequest:()=>bE,classifyKind:()=>Fw,isAddressableKind:()=>dd,isEphemeralKind:()=>uy,isKind:()=>eE,isRegularKind:()=>cy,isReplaceableKind:()=>ud});function cy(a){return 1e3<=a&&a<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(a)}function ud(a){return[0,3].includes(a)||1e4<=a&&a<2e4}function uy(a){return 2e4<=a&&a<3e4}function dd(a){return 3e4<=a&&a<4e4}function Fw(a){return cy(a)?"regular":ud(a)?"replaceable":uy(a)?"ephemeral":dd(a)?"parameterized":"unknown"}function eE(a,i){const s=i instanceof Array?i:[i];return rd(a)&&s.includes(a.kind)||!1}var tE=0,dy=1,nE=2,aE=3,lE=4,iE=5,fd=6,hd=7,sE=8,fy=13,hy=14,md=16,my=40,gy=41,py=42,yy=43,vy=44,rE=1040,by=1059,oE=1063,cE=1311,uE=1971,dE=1984,fE=1984,hE=1985,mE=4550,gE=5999,pE=6999,yE=7e3,vE=9041,bE=9734,xE=9735,wE=9802,EE=1e4,SE=10001,NE=10002,TE=10003,jE=10004,AE=10005,DE=10006,CE=10007,RE=10015,_E=10030,ME=10050,UE=10096,OE=13194,kE=21e3,xy=22242,wy=23194,zE=23195,BE=24133,gd=27235,LE=3e4,HE=30001,qE=30002,$E=30003,YE=30004,VE=30008,GE=30009,ZE=30015,XE=30017,KE=30018,QE=30023,JE=30024,PE=30030,IE=30078,WE=30311,FE=30315,eS=30402,tS=30403,nS=31922,aS=31923,lS=31924,iS=31925,sS=31989,rS=31990,oS=34550,cS={};Ye(cS,{getHex64:()=>pd,getInt:()=>Ey,getSubscriptionId:()=>uS,matchEventId:()=>dS,matchEventKind:()=>hS,matchEventPubkey:()=>fS});function pd(a,i){let s=i.length+3,r=a.indexOf(`"${i}":`)+s,c=a.slice(r).indexOf('"')+r+1;return a.slice(c,c+64)}function Ey(a,i){let s=i.length,r=a.indexOf(`"${i}":`)+s+3,c=a.slice(r),f=Math.min(c.indexOf(","),c.indexOf("}"));return parseInt(c.slice(0,f),10)}function uS(a){let i=a.slice(0,22).indexOf('"EVENT"');if(i===-1)return null;let s=a.slice(i+7+1).indexOf('"');if(s===-1)return null;let r=i+7+1+s,c=a.slice(r+1,80).indexOf('"');if(c===-1)return null;let f=r+1+c;return a.slice(r+1,f)}function dS(a,i){return i===pd(a,"id")}function fS(a,i){return i===pd(a,"pubkey")}function hS(a,i){return i===Ey(a,"kind")}var mS={};Ye(mS,{makeAuthEvent:()=>gS});function gS(a,i){return{kind:xy,created_at:Math.floor(Date.now()/1e3),tags:[["relay",a],["challenge",i]],content:""}}var pS;try{pS=WebSocket}catch{}var yS;try{yS=WebSocket}catch{}var Fe={};Ye(Fe,{BECH32_REGEX:()=>Sy,Bech32MaxSize:()=>yd,NostrTypeGuard:()=>vS,decode:()=>Br,decodeNostrURI:()=>xS,encodeBytes:()=>Hr,naddrEncode:()=>jS,neventEncode:()=>TS,noteEncode:()=>SS,nprofileEncode:()=>NS,npubEncode:()=>ES,nsecEncode:()=>wS});var vS={isNProfile:a=>/^nprofile1[a-z\d]+$/.test(a||""),isNEvent:a=>/^nevent1[a-z\d]+$/.test(a||""),isNAddr:a=>/^naddr1[a-z\d]+$/.test(a||""),isNSec:a=>/^nsec1[a-z\d]{58}$/.test(a||""),isNPub:a=>/^npub1[a-z\d]{58}$/.test(a||""),isNote:a=>/^note1[a-z\d]+$/.test(a||""),isNcryptsec:a=>/^ncryptsec1[a-z\d]+$/.test(a||"")},yd=5e3,Sy=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function bS(a){const i=new Uint8Array(4);return i[0]=a>>24&255,i[1]=a>>16&255,i[2]=a>>8&255,i[3]=a&255,i}function xS(a){try{return a.startsWith("nostr:")&&(a=a.substring(6)),Br(a)}catch{return{type:"invalid",data:null}}}function Br(a){let{prefix:i,words:s}=Ul.decode(a,yd),r=new Uint8Array(Ul.fromWords(s));switch(i){case"nprofile":{let c=Eu(r);if(!c[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(c[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:mt(c[0][0]),relays:c[1]?c[1].map(f=>Un.decode(f)):[]}}}case"nevent":{let c=Eu(r);if(!c[0]?.[0])throw new Error("missing TLV 0 for nevent");if(c[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(c[2]&&c[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(c[3]&&c[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:mt(c[0][0]),relays:c[1]?c[1].map(f=>Un.decode(f)):[],author:c[2]?.[0]?mt(c[2][0]):void 0,kind:c[3]?.[0]?parseInt(mt(c[3][0]),16):void 0}}}case"naddr":{let c=Eu(r);if(!c[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!c[2]?.[0])throw new Error("missing TLV 2 for naddr");if(c[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!c[3]?.[0])throw new Error("missing TLV 3 for naddr");if(c[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Un.decode(c[0][0]),pubkey:mt(c[2][0]),kind:parseInt(mt(c[3][0]),16),relays:c[1]?c[1].map(f=>Un.decode(f)):[]}}}case"nsec":return{type:i,data:r};case"npub":case"note":return{type:i,data:mt(r)};default:throw new Error(`unknown prefix ${i}`)}}function Eu(a){let i={},s=a;for(;s.length>0;){let r=s[0],c=s[1],f=s.slice(2,2+c);if(s=s.slice(2+c),f.length<c)throw new Error(`not enough data to read on TLV ${r}`);i[r]=i[r]||[],i[r].push(f)}return i}function wS(a){return Hr("nsec",a)}function ES(a){return Hr("npub",Ya(a))}function SS(a){return Hr("note",Ya(a))}function Lr(a,i){let s=Ul.toWords(i);return Ul.encode(a,s,yd)}function Hr(a,i){return Lr(a,i)}function NS(a){let i=vd({0:[Ya(a.pubkey)],1:(a.relays||[]).map(s=>Pt.encode(s))});return Lr("nprofile",i)}function TS(a){let i;a.kind!==void 0&&(i=bS(a.kind));let s=vd({0:[Ya(a.id)],1:(a.relays||[]).map(r=>Pt.encode(r)),2:a.author?[Ya(a.author)]:[],3:i?[new Uint8Array(i)]:[]});return Lr("nevent",s)}function jS(a){let i=new ArrayBuffer(4);new DataView(i).setUint32(0,a.kind,!1);let s=vd({0:[Pt.encode(a.identifier)],1:(a.relays||[]).map(r=>Pt.encode(r)),2:[Ya(a.pubkey)],3:[new Uint8Array(i)]});return Lr("naddr",s)}function vd(a){let i=[];return Object.entries(a).reverse().forEach(([s,r])=>{r.forEach(c=>{let f=new Uint8Array(c.length+2);f.set([parseInt(s)],0),f.set([c.length],1),f.set(c,2),i.push(f)})}),Mr(...i)}var AS={};Ye(AS,{decrypt:()=>DS,encrypt:()=>Ny});function Ny(a,i,s){const r=a instanceof Uint8Array?mt(a):a,c=Hl.getSharedSecret(r,"02"+i),f=Ty(c);let m=Uint8Array.from(Zp(16)),p=Pt.encode(s),h=ty(f,m).encrypt(p),g=zn.encode(new Uint8Array(h)),y=zn.encode(new Uint8Array(m.buffer));return`${g}?iv=${y}`}function DS(a,i,s){const r=a instanceof Uint8Array?mt(a):a;let[c,f]=s.split("?iv="),m=Hl.getSharedSecret(r,"02"+i),p=Ty(m),h=zn.decode(f),g=zn.decode(c),y=ty(p,h).decrypt(g);return Un.decode(y)}function Ty(a){return a.slice(1,33)}var CS={};Ye(CS,{NIP05_REGEX:()=>bd,isNip05:()=>RS,isValid:()=>US,queryProfile:()=>jy,searchDomain:()=>MS,useFetchImplementation:()=>_S});var bd=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,RS=a=>bd.test(a||""),qr;try{qr=fetch}catch{}function _S(a){qr=a}async function MS(a,i=""){try{const s=`https://${a}/.well-known/nostr.json?name=${i}`,r=await qr(s,{redirect:"manual"});if(r.status!==200)throw Error("Wrong response code");return(await r.json()).names}catch{return{}}}async function jy(a){const i=a.match(bd);if(!i)return null;const[,s="_",r]=i;try{const c=`https://${r}/.well-known/nostr.json?name=${s}`,f=await qr(c,{redirect:"manual"});if(f.status!==200)throw Error("Wrong response code");const m=await f.json(),p=m.names[s];return p?{pubkey:p,relays:m.relays?.[p]}:null}catch{return null}}async function US(a,i){const s=await jy(i);return s?s.pubkey===a:!1}var OS={};Ye(OS,{parse:()=>kS});function kS(a){const i={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let s,r;for(let c=a.tags.length-1;c>=0;c--){const f=a.tags[c];if(f[0]==="e"&&f[1]){const[m,p,h,g,y]=f,v={id:p,relays:h?[h]:[],author:y};if(g==="root"){i.root=v;continue}if(g==="reply"){i.reply=v;continue}if(g==="mention"){i.mentions.push(v);continue}s?r=v:s=v,i.mentions.push(v);continue}if(f[0]==="q"&&f[1]){const[m,p,h]=f;i.quotes.push({id:p,relays:h?[h]:[]})}if(f[0]==="p"&&f[1]){i.profiles.push({pubkey:f[1],relays:f[2]?[f[2]]:[]});continue}}return i.root||(i.root=r||s||i.reply),i.reply||(i.reply=s||i.root),[i.reply,i.root].forEach(c=>{if(!c)return;let f=i.mentions.indexOf(c);if(f!==-1&&i.mentions.splice(f,1),c.author){let m=i.profiles.find(p=>p.pubkey===c.author);m&&m.relays&&(c.relays||(c.relays=[]),m.relays.forEach(p=>{c.relays?.indexOf(p)===-1&&c.relays.push(p)}),m.relays=c.relays)}}),i.mentions.forEach(c=>{if(c.author){let f=i.profiles.find(m=>m.pubkey===c.author);f&&f.relays&&(c.relays||(c.relays=[]),f.relays.forEach(m=>{c.relays.indexOf(m)===-1&&c.relays.push(m)}),f.relays=c.relays)}}),i}var zS={};Ye(zS,{fetchRelayInformation:()=>LS,useFetchImplementation:()=>BS});var Ay;try{Ay=fetch}catch{}function BS(a){Ay=a}async function LS(a){return await(await fetch(a.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var HS={};Ye(HS,{fastEventHash:()=>Cy,getPow:()=>Dy,minePow:()=>qS});function Dy(a){let i=0;for(let s=0;s<64;s+=8){const r=parseInt(a.substring(s,s+8),16);if(r===0)i+=32;else{i+=Math.clz32(r);break}}return i}function qS(a,i){let s=0;const r=a,c=["nonce",s.toString(),i.toString()];for(r.tags.push(c);;){const f=Math.floor(new Date().getTime()/1e3);if(f!==r.created_at&&(s=0,r.created_at=f),c[1]=(++s).toString(),r.id=Cy(r),Dy(r.id)>=i)break}return r}function Cy(a){return mt(ql(Pt.encode(JSON.stringify([0,a.pubkey,a.created_at,a.kind,a.tags,a.content]))))}var $S={};Ye($S,{unwrapEvent:()=>FS,unwrapManyEvents:()=>e2,wrapEvent:()=>Yy,wrapManyEvents:()=>WS});var YS={};Ye(YS,{createRumor:()=>Ly,createSeal:()=>Hy,createWrap:()=>qy,unwrapEvent:()=>Nd,unwrapManyEvents:()=>$y,wrapEvent:()=>Tr,wrapManyEvents:()=>PS});var VS={};Ye(VS,{decrypt:()=>Sd,encrypt:()=>Ed,getConversationKey:()=>xd,v2:()=>QS});var Ry=1,_y=65535;function xd(a,i){const s=Hl.getSharedSecret(a,"02"+i).subarray(1,33);return $w(ql,s,"nip44-v2")}function My(a,i){const s=Yw(ql,a,i,76);return{chacha_key:s.subarray(0,32),chacha_nonce:s.subarray(32,44),hmac_key:s.subarray(44,76)}}function wd(a){if(!Number.isSafeInteger(a)||a<1)throw new Error("expected positive integer");if(a<=32)return 32;const i=1<<Math.floor(Math.log2(a-1))+1,s=i<=256?32:i/8;return s*(Math.floor((a-1)/s)+1)}function GS(a){if(!Number.isSafeInteger(a)||a<Ry||a>_y)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const i=new Uint8Array(2);return new DataView(i.buffer).setUint16(0,a,!1),i}function ZS(a){const i=Pt.encode(a),s=i.length,r=GS(s),c=new Uint8Array(wd(s)-s);return Mr(r,i,c)}function XS(a){const i=new DataView(a.buffer).getUint16(0),s=a.subarray(2,2+i);if(i<Ry||i>_y||s.length!==i||a.length!==2+wd(i))throw new Error("invalid padding");return Un.decode(s)}function Uy(a,i,s){if(s.length!==32)throw new Error("AAD associated data must be 32 bytes");const r=Mr(s,i);return Or(ql,a,r)}function KS(a){if(typeof a!="string")throw new Error("payload must be a valid string");const i=a.length;if(i<132||i>87472)throw new Error("invalid payload length: "+i);if(a[0]==="#")throw new Error("unknown encryption version");let s;try{s=zn.decode(a)}catch(f){throw new Error("invalid base64: "+f.message)}const r=s.length;if(r<99||r>65603)throw new Error("invalid data length: "+r);const c=s[0];if(c!==2)throw new Error("unknown encryption version "+c);return{nonce:s.subarray(1,33),ciphertext:s.subarray(33,-32),mac:s.subarray(-32)}}function Ed(a,i,s=Zp(32)){const{chacha_key:r,chacha_nonce:c,hmac_key:f}=My(i,s),m=ZS(a),p=iy(r,c,m),h=Uy(f,p,s);return zn.encode(Mr(new Uint8Array([2]),s,p,h))}function Sd(a,i){const{nonce:s,ciphertext:r,mac:c}=KS(a),{chacha_key:f,chacha_nonce:m,hmac_key:p}=My(i,s),h=Uy(p,r,s);if(!Ew(h,c))throw new Error("invalid MAC");const g=iy(f,m,r);return XS(g)}var QS={utils:{getConversationKey:xd,calcPaddedLen:wd},encrypt:Ed,decrypt:Sd},JS=2*24*60*60,Oy=()=>Math.round(Date.now()/1e3),ky=()=>Math.round(Oy()-Math.random()*JS),zy=(a,i)=>xd(a,i),By=(a,i,s)=>Ed(JSON.stringify(a),zy(i,s)),np=(a,i)=>JSON.parse(Sd(a.content,zy(i,a.pubkey)));function Ly(a,i){const s={created_at:Oy(),content:"",tags:[],...a,pubkey:zr(i)};return s.id=vr(s),s}function Hy(a,i,s){return dn({kind:fy,content:By(a,i,s),created_at:ky(),tags:[]},i)}function qy(a,i){const s=oy();return dn({kind:by,content:By(a,s,i),created_at:ky(),tags:[["p",i]]},s)}function Tr(a,i,s){const r=Ly(a,i),c=Hy(r,i,s);return qy(c,s)}function PS(a,i,s){if(!s||s.length===0)throw new Error("At least one recipient is required.");const r=zr(i),c=[Tr(a,i,r)];return s.forEach(f=>{c.push(Tr(a,i,f))}),c}function Nd(a,i){const s=np(a,i);return np(s,i)}function $y(a,i){let s=[];return a.forEach(r=>{s.push(Nd(r,i))}),s.sort((r,c)=>r.created_at-c.created_at),s}function IS(a,i,s,r){const c={created_at:Math.ceil(Date.now()/1e3),kind:hy,tags:[],content:i};return(Array.isArray(a)?a:[a]).forEach(({publicKey:m,relayUrl:p})=>{c.tags.push(p?["p",m,p]:["p",m])}),r&&c.tags.push(["e",r.eventId,r.relayUrl||"","reply"]),s&&c.tags.push(["subject",s]),c}function Yy(a,i,s,r,c){const f=IS(i,s,r,c);return Tr(f,a,i.publicKey)}function WS(a,i,s,r,c){if(!i||i.length===0)throw new Error("At least one recipient is required.");return[{publicKey:zr(a)},...i].map(m=>Yy(a,m,s,r,c))}var FS=Nd,e2=$y,t2={};Ye(t2,{finishRepostEvent:()=>n2,getRepostedEvent:()=>a2,getRepostedEventPointer:()=>Vy});function n2(a,i,s,r){let c;const f=[...a.tags??[],["e",i.id,s],["p",i.pubkey]];return i.kind===dy?c=fd:(c=md,f.push(["k",String(i.kind)])),dn({kind:c,tags:f,content:a.content===""||i.tags?.find(m=>m[0]==="-")?"":JSON.stringify(i),created_at:a.created_at},r)}function Vy(a){if(![fd,md].includes(a.kind))return;let i,s;for(let r=a.tags.length-1;r>=0&&(i===void 0||s===void 0);r--){const c=a.tags[r];c.length>=2&&(c[0]==="e"&&i===void 0?i=c:c[0]==="p"&&s===void 0&&(s=c))}if(i!==void 0)return{id:i[1],relays:[i[2],s?.[2]].filter(r=>typeof r=="string"),author:s?.[1]}}function a2(a,{skipVerification:i}={}){const s=Vy(a);if(s===void 0||a.content==="")return;let r;try{r=JSON.parse(a.content)}catch{return}if(r.id===s.id&&!(!i&&!cd(r)))return r}var l2={};Ye(l2,{NOSTR_URI_REGEX:()=>Td,parse:()=>s2,test:()=>i2});var Td=new RegExp(`nostr:(${Sy.source})`);function i2(a){return typeof a=="string"&&new RegExp(`^${Td.source}$`).test(a)}function s2(a){const i=a.match(new RegExp(`^${Td.source}$`));if(!i)throw new Error(`Invalid Nostr URI: ${a}`);return{uri:i[0],value:i[1],decoded:Br(i[1])}}var r2={};Ye(r2,{finishReactionEvent:()=>o2,getReactedEventPointer:()=>c2});function o2(a,i,s){const r=i.tags.filter(c=>c.length>=2&&(c[0]==="e"||c[0]==="p"));return dn({...a,kind:hd,tags:[...a.tags??[],...r,["e",i.id],["p",i.pubkey]],content:a.content??"+"},s)}function c2(a){if(a.kind!==hd)return;let i,s;for(let r=a.tags.length-1;r>=0&&(i===void 0||s===void 0);r--){const c=a.tags[r];c.length>=2&&(c[0]==="e"&&i===void 0?i=c:c[0]==="p"&&s===void 0&&(s=c))}if(!(i===void 0||s===void 0))return{id:i[1],relays:[i[2],s[2]].filter(r=>r!==void 0),author:s[1]}}var u2={};Ye(u2,{parse:()=>f2});var d2=/\W/m,ap=/\W |\W$|$|,| /m;function*f2(a){const i=a.length;let s=0,r=0;for(;r<i;){let c=a.indexOf(":",r);if(c===-1)break;if(a.substring(c-5,c)==="nostr"){const f=a.substring(c+60).match(d2),m=f?c+60+f.index:i;try{let p,{data:h,type:g}=Br(a.substring(c+1,m));switch(g){case"npub":p={pubkey:h};break;case"nsec":case"note":r=m+1;continue;default:p=h}s!==c-5&&(yield{type:"text",text:a.substring(s,c-5)}),yield{type:"reference",pointer:p},r=m,s=r;continue}catch{r=c+1;continue}}else if(a.substring(c-5,c)==="https"||a.substring(c-4,c)==="http"){const f=a.substring(c+4).match(ap),m=f?c+4+f.index:i,p=a[c-1]==="s"?5:4;try{let h=new URL(a.substring(c-p,m));if(h.hostname.indexOf(".")===-1)throw new Error("invalid url");if(s!==c-p&&(yield{type:"text",text:a.substring(s,c-p)}),h.pathname.endsWith(".png")||h.pathname.endsWith(".jpg")||h.pathname.endsWith(".jpeg")||h.pathname.endsWith(".gif")||h.pathname.endsWith(".webp")){yield{type:"image",url:h.toString()},r=m,s=r;continue}if(h.pathname.endsWith(".mp4")||h.pathname.endsWith(".avi")||h.pathname.endsWith(".webm")||h.pathname.endsWith(".mkv")){yield{type:"video",url:h.toString()},r=m,s=r;continue}if(h.pathname.endsWith(".mp3")||h.pathname.endsWith(".aac")||h.pathname.endsWith(".ogg")||h.pathname.endsWith(".opus")){yield{type:"audio",url:h.toString()},r=m,s=r;continue}yield{type:"url",url:h.toString()},r=m,s=r;continue}catch{r=m+1;continue}}else if(a.substring(c-3,c)==="wss"||a.substring(c-2,c)==="ws"){const f=a.substring(c+4).match(ap),m=f?c+4+f.index:i,p=a[c-1]==="s"?3:2;try{let h=new URL(a.substring(c-p,m));if(h.hostname.indexOf(".")===-1)throw new Error("invalid ws url");s!==c-p&&(yield{type:"text",text:a.substring(s,c-p)}),yield{type:"relay",url:h.toString()},r=m,s=r;continue}catch{r=m+1;continue}}else{r=c+1;continue}}s!==i&&(yield{type:"text",text:a.substring(s)})}var h2={};Ye(h2,{channelCreateEvent:()=>m2,channelHideMessageEvent:()=>y2,channelMessageEvent:()=>p2,channelMetadataEvent:()=>g2,channelMuteUserEvent:()=>v2});var m2=(a,i)=>{let s;if(typeof a.content=="object")s=JSON.stringify(a.content);else if(typeof a.content=="string")s=a.content;else return;return dn({kind:my,tags:[...a.tags??[]],content:s,created_at:a.created_at},i)},g2=(a,i)=>{let s;if(typeof a.content=="object")s=JSON.stringify(a.content);else if(typeof a.content=="string")s=a.content;else return;return dn({kind:gy,tags:[["e",a.channel_create_event_id],...a.tags??[]],content:s,created_at:a.created_at},i)},p2=(a,i)=>{const s=[["e",a.channel_create_event_id,a.relay_url,"root"]];return a.reply_to_channel_message_event_id&&s.push(["e",a.reply_to_channel_message_event_id,a.relay_url,"reply"]),dn({kind:py,tags:[...s,...a.tags??[]],content:a.content,created_at:a.created_at},i)},y2=(a,i)=>{let s;if(typeof a.content=="object")s=JSON.stringify(a.content);else if(typeof a.content=="string")s=a.content;else return;return dn({kind:yy,tags:[["e",a.channel_message_event_id],...a.tags??[]],content:s,created_at:a.created_at},i)},v2=(a,i)=>{let s;if(typeof a.content=="object")s=JSON.stringify(a.content);else if(typeof a.content=="string")s=a.content;else return;return dn({kind:vy,tags:[["p",a.pubkey_to_mute],...a.tags??[]],content:s,created_at:a.created_at},i)},b2={};Ye(b2,{EMOJI_SHORTCODE_REGEX:()=>Gy,matchAll:()=>x2,regex:()=>jd,replaceAll:()=>w2});var Gy=/:(\w+):/,jd=()=>new RegExp(`\\B${Gy.source}\\B`,"g");function*x2(a){const i=a.matchAll(jd());for(const s of i)try{const[r,c]=s;yield{shortcode:r,name:c,start:s.index,end:s.index+r.length}}catch{}}function w2(a,i){return a.replaceAll(jd(),(s,r)=>i({shortcode:s,name:r}))}var E2={};Ye(E2,{useFetchImplementation:()=>S2,validateGithub:()=>N2});var Ad;try{Ad=fetch}catch{}function S2(a){Ad=a}async function N2(a,i,s){try{return await(await Ad(`https://gist.github.com/${i}/${s}/raw`)).text()===`Verifying that I control the following Nostr public key: ${a}`}catch{return!1}}var T2={};Ye(T2,{makeNwcRequestEvent:()=>A2,parseConnectionString:()=>j2});function j2(a){const{pathname:i,searchParams:s}=new URL(a),r=i,c=s.get("relay"),f=s.get("secret");if(!r||!c||!f)throw new Error("invalid connection string");return{pubkey:r,relay:c,secret:f}}async function A2(a,i,s){const c=Ny(i,a,JSON.stringify({method:"pay_invoice",params:{invoice:s}})),f={kind:wy,created_at:Math.round(Date.now()/1e3),content:c,tags:[["p",a]]};return dn(f,i)}var D2={};Ye(D2,{normalizeIdentifier:()=>C2});function C2(a){return a=a.trim().toLowerCase(),a=a.normalize("NFKC"),Array.from(a).map(i=>new RegExp("\\p{Letter}","u").test(i)||new RegExp("\\p{Number}","u").test(i)?i:"-").join("")}var R2={};Ye(R2,{getSatoshisAmountFromBolt11:()=>z2,getZapEndpoint:()=>M2,makeZapReceipt:()=>k2,makeZapRequest:()=>U2,useFetchImplementation:()=>_2,validateZapRequest:()=>O2});var Dd;try{Dd=fetch}catch{}function _2(a){Dd=a}async function M2(a){try{let i="",{lud06:s,lud16:r}=JSON.parse(a.content);if(s){let{words:m}=Ul.decode(s,1e3),p=Ul.fromWords(m);i=Un.decode(p)}else if(r){let[m,p]=r.split("@");i=new URL(`/.well-known/lnurlp/${m}`,`https://${p}`).toString()}else return null;let f=await(await Dd(i)).json();if(f.allowsNostr&&f.nostrPubkey)return f.callback}catch{}return null}function U2({profile:a,event:i,amount:s,relays:r,comment:c=""}){if(!s)throw new Error("amount not given");if(!a)throw new Error("profile not given");let f={kind:9734,created_at:Math.round(Date.now()/1e3),content:c,tags:[["p",a],["amount",s.toString()],["relays",...r]]};if(i&&typeof i=="string"&&f.tags.push(["e",i]),i&&typeof i=="object"){if(ud(i.kind)){const m=["a",`${i.kind}:${i.pubkey}:`];f.tags.push(m)}else if(dd(i.kind)){let m=i.tags.find(([h,g])=>h==="d"&&g);if(!m)throw new Error("d tag not found or is empty");const p=["a",`${i.kind}:${i.pubkey}:${m[1]}`];f.tags.push(p)}}return f}function O2(a){let i;try{i=JSON.parse(a)}catch{return"Invalid zap request JSON."}if(!rd(i))return"Zap request is not a valid Nostr event.";if(!cd(i))return"Invalid signature on zap request.";let s=i.tags.find(([f,m])=>f==="p"&&m);if(!s)return"Zap request doesn't have a 'p' tag.";if(!s[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=i.tags.find(([f,m])=>f==="e"&&m);return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":i.tags.find(([f,m])=>f==="relays"&&m)?null:"Zap request doesn't have a 'relays' tag."}function k2({zapRequest:a,preimage:i,bolt11:s,paidAt:r}){let c=JSON.parse(a),f=c.tags.filter(([p])=>p==="e"||p==="p"||p==="a"),m={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...f,["P",c.pubkey],["bolt11",s],["description",a]]};return i&&m.tags.push(["preimage",i]),m}function z2(a){if(a.length<50)return 0;a=a.substring(0,50);const i=a.lastIndexOf("1");if(i===-1)return 0;const s=a.substring(0,i);if(!s.startsWith("lnbc"))return 0;const r=s.substring(4);if(r.length<1)return 0;const c=r[r.length-1],f=c.charCodeAt(0)-48,m=f>=0&&f<=9;let p=r.length-1;if(m&&p++,p<1)return 0;const h=parseInt(r.substring(0,p));switch(c){case"m":return h*1e5;case"u":return h*100;case"n":return h/10;case"p":return h/1e4;default:return h*1e8}}var B2={};Ye(B2,{getToken:()=>L2,hashPayload:()=>Cd,unpackEventFromToken:()=>Xy,validateEvent:()=>Wy,validateEventKind:()=>Qy,validateEventMethodTag:()=>Py,validateEventPayloadTag:()=>Iy,validateEventTimestamp:()=>Ky,validateEventUrlTag:()=>Jy,validateToken:()=>H2});var Zy="Nostr ";async function L2(a,i,s,r=!1,c){const f={kind:gd,tags:[["u",a],["method",i]],created_at:Math.round(new Date().getTime()/1e3),content:""};c&&f.tags.push(["payload",Cd(c)]);const m=await s(f);return(r?Zy:"")+zn.encode(Pt.encode(JSON.stringify(m)))}async function H2(a,i,s){const r=await Xy(a).catch(f=>{throw f});return await Wy(r,i,s).catch(f=>{throw f})}async function Xy(a){if(!a)throw new Error("Missing token");a=a.replace(Zy,"");const i=Un.decode(zn.decode(a));if(!i||i.length===0||!i.startsWith("{"))throw new Error("Invalid token");return JSON.parse(i)}function Ky(a){return a.created_at?Math.round(new Date().getTime()/1e3)-a.created_at<60:!1}function Qy(a){return a.kind===gd}function Jy(a,i){const s=a.tags.find(r=>r[0]==="u");return s?s.length>0&&s[1]===i:!1}function Py(a,i){const s=a.tags.find(r=>r[0]==="method");return s?s.length>0&&s[1].toLowerCase()===i.toLowerCase():!1}function Cd(a){const i=ql(Pt.encode(JSON.stringify(a)));return mt(i)}function Iy(a,i){const s=a.tags.find(c=>c[0]==="payload");if(!s)return!1;const r=Cd(i);return s.length>0&&s[1]===r}async function Wy(a,i,s,r){if(!cd(a))throw new Error("Invalid nostr event, signature invalid");if(!Qy(a))throw new Error("Invalid nostr event, kind invalid");if(!Ky(a))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!Jy(a,i))throw new Error("Invalid nostr event, url tag invalid");if(!Py(a,s))throw new Error("Invalid nostr event, method tag invalid");if(r&&typeof r=="object"&&Object.keys(r).length>0&&!Iy(a,r))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}class q2{constructor(i){this.url=i,this.ws=null,this.connected=!1,this.subscriptions=new Map,this.messageHandlers=new Map,this.reconnectAttempts=0,this.maxReconnectAttempts=10,this.reconnectDelay=15e3,this.reconnectTimer=null,this.queuedSubscriptions=new Map}async connect(){return new Promise((i,s)=>{try{this.ws=new WebSocket(this.url),this.ws.onopen=()=>{console.log(`Connected to relay: ${this.url}`),this.connected=!0,this.reconnectAttempts=0,this.reconnectDelay=15e3,this.resubscribeAll(),i()},this.ws.onmessage=r=>{try{const c=JSON.parse(r.data);this.handleMessage(c)}catch(c){console.error("Failed to parse message:",c)}},this.ws.onerror=r=>{console.error(`Relay error (${this.url}):`,r),s(r)},this.ws.onclose=()=>{console.log(`Disconnected from relay: ${this.url}`),this.connected=!1,this.scheduleReconnect()}}catch(r){s(r)}})}scheduleReconnect(){if(this.reconnectAttempts>=this.maxReconnectAttempts){console.error(`Max reconnection attempts reached for ${this.url}`);return}this.reconnectTimer&&clearTimeout(this.reconnectTimer);const i=Math.min(this.reconnectDelay*Math.pow(2,this.reconnectAttempts),3e4);this.reconnectTimer=setTimeout(async()=>{this.reconnectAttempts++,console.log(`Attempting to reconnect to ${this.url} (attempt ${this.reconnectAttempts})`);try{await this.connect()}catch(s){console.error(`Reconnection failed for ${this.url}:`,s),this.scheduleReconnect()}},i)}resubscribeAll(){this.queuedSubscriptions.forEach((i,s)=>{const{filters:r,onEvent:c,onEose:f}=i;this.subscribe(r,s,c,f)}),this.queuedSubscriptions.clear()}handleMessage(i){const[s,r,...c]=i;if(s==="EVENT"&&this.subscriptions.has(r)){const f=this.subscriptions.get(r);f&&c[0]&&f(c[0])}else if(s==="EOSE"&&this.messageHandlers.has(r)){const f=this.messageHandlers.get(r);f.onEose&&f.onEose()}}subscribe(i,s,r,c){if(!this.connected){console.warn(`Relay ${this.url} not connected, queuing subscription`),this.queuedSubscriptions.set(s,{filters:i,onEvent:r,onEose:c});return}this.subscriptions.set(s,r),this.messageHandlers.set(s,{onEvent:r,onEose:c});const f=["REQ",s,...i];try{this.ws.send(JSON.stringify(f))}catch(m){console.error(`Failed to send subscription to ${this.url}:`,m),this.connected=!1,this.queuedSubscriptions.set(s,{filters:i,onEvent:r,onEose:c}),this.scheduleReconnect()}}unsubscribe(i){if(!this.connected)return;this.subscriptions.delete(i),this.messageHandlers.delete(i);const s=["CLOSE",i];this.ws.send(JSON.stringify(s))}close(){this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.ws&&this.connected&&this.ws.close(),this.connected=!1,this.subscriptions.clear(),this.messageHandlers.clear(),this.queuedSubscriptions.clear()}}class $2{constructor(){this.relays=new Map,this.defaultRelays=["wss://relay.nostrcal.com","wss://filter.nostrcal.com","wss://relay.damus.io","wss://relay.nostr.band","wss://nos.lol","wss://relay.primal.net"],this.eventCache=new Map,this.profileCache=new Map,this.cacheTimeout=5*60*1e3}async connect(i=this.defaultRelays){const s=i.map(async r=>{try{const c=new q2(r);await c.connect(),this.relays.set(r,c)}catch(c){console.error(`Failed to connect to ${r}:`,c)}});await Promise.allSettled(s),console.log(`Connected to ${this.relays.size} relays`)}getConnectedRelayCount(){let i=0;return this.relays.forEach(s=>{s.connected&&i++}),i}getRelayStatus(){const i={};return this.relays.forEach((s,r)=>{i[r]={connected:s.connected,reconnectAttempts:s.reconnectAttempts}}),i}async updateRelays(i){this.relays.forEach(s=>{s.close()}),this.relays.clear(),await this.connect(i)}disconnect(){this.relays.forEach(i=>{i.close()}),this.relays.clear()}async getProfile(i){return new Promise(s=>{const r=[];let c=0;const f=this.relays.size;let m=i;i.startsWith("npub")&&(m=Fe.decode(i).data);const p="profile-"+Math.random().toString(36).substring(7),h={kinds:[0],authors:[m],limit:1};this.relays.forEach((g,y)=>{if(!g.connected){console.warn(`Skipping disconnected relay: ${y}`),c++,c===f&&s(r.length>0?r[0]:null);return}g.subscribe([h],p,v=>{if(v&&v.content)try{const b=JSON.parse(v.content);r.push({...b,relay:y,created_at:v.created_at})}catch(b){console.error("Failed to parse profile metadata:",b)}},()=>{if(c++,c===f)if(this.relays.forEach(v=>{v.unsubscribe(p)}),r.length>0){r.sort((b,w)=>w.created_at-b.created_at);const v=r[0];delete v.created_at,delete v.relay,s(v)}else s(null)})}),setTimeout(()=>{if(this.relays.forEach(g=>{g.unsubscribe(p)}),r.length>0){r.sort((y,v)=>v.created_at-y.created_at);const g=r[0];delete g.created_at,delete g.relay,s(g)}else s(null)},5e3)})}async getCalendars(i){return new Promise(s=>{const r=[];let c=0;const f=this.relays.size;let m=i;i.startsWith("npub")&&(m=Fe.decode(i).data);const p="calendars-"+Math.random().toString(36).substring(7),h={kinds:[31924],authors:[m]};this.relays.forEach((g,y)=>{if(!g.connected){if(console.warn(`Skipping disconnected relay: ${y}`),c++,c===f){this.relays.forEach(b=>{b.connected&&b.unsubscribe(p)});const v=r.reduce((b,w)=>{const E=b.find(N=>N.dTag===w.dTag);return!E||w.created_at>E.created_at?b.filter(N=>N.dTag!==w.dTag).concat(w):b},[]);v.sort((b,w)=>w.created_at-b.created_at),s(v)}return}g.subscribe([h],p,v=>{if(v)try{const b=v.tags.find(M=>M[0]==="d")?.[1],w=v.tags.find(M=>M[0]==="color")?.[1],E=v.tags.find(M=>M[0]==="title")?.[1];let N={},T=E||"Untitled Calendar",j="";if(v.content)try{N=JSON.parse(v.content),T=N.name||E||"Untitled Calendar",j=N.description||""}catch{v.content.length<100?T=v.content:j=v.content}const _={id:v.id,dTag:b||v.id,name:T,description:j,color:w||"#1a73e8",created_at:v.created_at,pubkey:v.pubkey,relay:y,rawEvent:v,eventReferences:v.tags.filter(M=>M[0]==="a").map(M=>M[1])};r.push(_)}catch(b){console.error("Failed to parse calendar data:",b)}},()=>{if(c++,c===f){this.relays.forEach(b=>{b.unsubscribe(p)});const v=r.reduce((b,w)=>{const E=b.find(N=>N.dTag===w.dTag);return!E||w.created_at>E.created_at?b.filter(N=>N.dTag!==w.dTag).concat(w):b},[]);v.sort((b,w)=>w.created_at-b.created_at),s(v)}})}),setTimeout(()=>{this.relays.forEach(y=>{y.unsubscribe(p)});const g=r.reduce((y,v)=>{const b=y.find(w=>w.dTag===v.dTag);return!b||v.created_at>b.created_at?y.filter(w=>w.dTag!==v.dTag).concat(v):y},[]);g.sort((y,v)=>v.created_at-y.created_at),s(g)},5e3)})}async createCalendar(i,s,r,c){return new Promise((f,m)=>{try{const p=Math.random().toString(36).substring(2,15),h={kind:31924,created_at:Math.floor(Date.now()/1e3),tags:[["d",p],["color",r],["title",i]],content:JSON.stringify({name:i,description:s})};console.log("Would create calendar event:",h),f({...h,dTag:p,name:i,description:s,color:r})}catch(p){m(p)}})}async createEvent(i){return new Promise((s,r)=>{try{const{kind:c,title:f,description:m,summary:p,image:h,start:g,end:y,location:v,geohash:b,hashtags:w,startTimezone:E,endTimezone:N}=i,j=[["d",Math.random().toString(36).substring(2,15)],["title",f]];c===31922?(j.push(["start",g]),y&&y!==g&&j.push(["end",y])):c===31923&&(j.push(["start",g]),y&&y!==g&&j.push(["end",y]),E&&j.push(["start_tzid",E]),N?j.push(["end_tzid",N]):E&&j.push(["end_tzid",E])),p&&j.push(["summary",p]),h&&j.push(["image",h]),v&&j.push(["location",v]),b&&j.push(["g",b]),w&&w.split(",").map(A=>A.trim().replace(/^#/,"")).filter(Boolean).forEach(A=>j.push(["t",A]));const _={kind:c,created_at:Math.floor(Date.now()/1e3),tags:j,content:m||""};console.log("Created event structure:",_),console.log("Event tags:",j),console.log("Event content:",m||""),s(_)}catch(c){r(c)}})}async publishEvent(i){const s=[];this.relays.forEach((f,m)=>{f.connected&&s.push(new Promise((p,h)=>{const g=["EVENT",i];f.ws.send(JSON.stringify(g)),setTimeout(()=>{p({relay:m,success:!0})},1e3)}))});const c=(await Promise.allSettled(s)).filter(f=>f.status==="fulfilled").length;return console.log(`Published event to ${c}/${this.relays.size} relays`),{successful:c,total:this.relays.size}}async getEvents(i,s=[31922,31923]){console.log("nostrPool.getEvents called with pubkey:",i,"kinds:",s);const r=`${i}-${s.join(",")}`,c=this.eventCache.get(r);return c&&Date.now()-c.timestamp<this.cacheTimeout?(console.log("Returning cached events for:",r),c.events):new Promise(f=>{const m=[];let p=0;const h=this.relays.size;let g=!1,y=i;i.startsWith("npub")&&(y=Fe.decode(i).data),console.log("Querying events with hex pubkey:",y,"kinds:",s);const v="events-"+Math.random().toString(36).substring(7),b={kinds:s,authors:[y]},w=()=>{g||p>=Math.min(2,this.relays.size)&&m.length>0&&(g=!0,console.log("Early resolve with",m.length,"events from",p,"relays"),this.eventCache.set(r,{events:[...m],timestamp:Date.now()}),f(m))};this.relays.forEach((E,N)=>{E.subscribe([b],v,T=>{if(T){console.log("Received event from relay:",N,"Kind:",T.kind,"Event:",T);try{const j=T.tags.find(re=>re[0]==="title")?.[1],_=T.tags.find(re=>re[0]==="name")?.[1],M=T.tags.find(re=>re[0]==="summary")?.[1],A=T.tags.find(re=>re[0]==="start")?.[1],k=T.tags.find(re=>re[0]==="end")?.[1],O=T.tags.find(re=>re[0]==="location")?.[1],B=T.tags.find(re=>re[0]==="start_tzid")?.[1],H=T.tags.find(re=>re[0]==="end_tzid")?.[1];let Q={},J=j||_||"Untitled Event",ne=M||"";if(T.content)try{Q=JSON.parse(T.content),J=Q.title||j||Q.name||_||"Untitled Event",ne=Q.summary||M||Q.description||""}catch{ne=T.content}const ce={id:T.id,kind:T.kind,title:J,description:ne,start:A,end:k,location:O,startTimezone:B,endTimezone:H,allDay:T.kind===31922,created_at:T.created_at,pubkey:T.pubkey,relay:N,rawEvent:T};m.push(ce),w()}catch(j){console.error("Failed to parse event data:",j)}}},()=>{if(p++,w(),p===h&&!g){this.relays.forEach(j=>{j.unsubscribe(v)});const T=m.reduce((j,_)=>{const M=j.find(A=>A.id===_.id);return!M||_.created_at>M.created_at?j.filter(A=>A.id!==_.id).concat(_):j},[]);T.sort((j,_)=>_.created_at-j.created_at),this.eventCache.set(r,{events:T,timestamp:Date.now()}),f(T)}})}),setTimeout(()=>{if(g)return;this.relays.forEach(N=>{N.unsubscribe(v)});const E=m.reduce((N,T)=>{const j=N.find(_=>_.id===T.id);return!j||T.created_at>j.created_at?N.filter(_=>_.id!==T.id).concat(T):N},[]);E.sort((N,T)=>T.created_at-N.created_at),this.eventCache.set(r,{events:E,timestamp:Date.now()}),f(E)},5e3)})}async getAllUserEvents(i){console.log("nostrPool.getAllUserEvents called with pubkey:",i);const s=`all-${i}`,r=this.eventCache.get(s);if(r&&Date.now()-r.timestamp<this.cacheTimeout)return console.log("Returning cached all events for:",s),r.events;try{let c=i;i.startsWith("npub")&&(c=Fe.decode(i).data);const[f,m,p]=await Promise.all([this.getEvents(c,[31922]),this.getEvents(c,[31923]),this.getRSVPs(c)]),h={dayEvents:f,timeEvents:m,rsvpEvents:p};return this.eventCache.set(s,{events:h,timestamp:Date.now()}),h}catch(c){return console.error("Failed to load all user events:",c),{dayEvents:[],timeEvents:[],rsvpEvents:[]}}}async getRSVPs(i){return console.log("nostrPool.getRSVPs called with pubkey:",i),new Promise(s=>{const r=[],c=new Set;let f=0;const m=this.relays.size;let p=i;i.startsWith("npub")&&(p=Fe.decode(i).data),console.log("Querying RSVPs with hex pubkey:",p);const h="rsvps-"+Math.random().toString(36).substring(7),g={kinds:[31925],authors:[p]};this.relays.forEach((y,v)=>{y.subscribe([g],h,b=>{if(b)try{const w=b.tags.find(N=>N[0]==="e")?.[1],E=b.tags.find(N=>N[0]==="status")?.[1];E==="accepted"&&w&&(c.add(w),r.push({id:b.id,originalEventId:w,status:E,created_at:b.created_at,pubkey:b.pubkey,relay:v}))}catch(w){console.error("Failed to parse RSVP data:",w)}},()=>{f++,f===m&&(this.relays.forEach(b=>{b.unsubscribe(h)}),c.size>0?this.getEventsByIds(Array.from(c)).then(b=>{const w=b.map(E=>{const N=r.find(T=>T.originalEventId===E.id);return{...E,rsvpId:N?.id,rsvpEventId:N?.id,isRSVP:!0}});s(w)}):s([]))})}),setTimeout(()=>{this.relays.forEach(y=>{y.unsubscribe(h)}),c.size>0?this.getEventsByIds(Array.from(c)).then(y=>{const v=y.map(b=>{const w=r.find(E=>E.originalEventId===b.id);return{...b,rsvpId:w?.id,rsvpEventId:w?.id,isRSVP:!0}});s(v)}):s([])},5e3)})}async getEventsByIds(i){return console.log("nostrPool.getEventsByIds called with eventIds:",i),new Promise(s=>{const r=[];let c=0;const f=this.relays.size,m="events-by-id-"+Math.random().toString(36).substring(7),p={ids:i};this.relays.forEach((h,g)=>{h.subscribe([p],m,y=>{if(y){console.log("Received original event for RSVP from relay:",g,"Kind:",y.kind,"Event:",y);try{const v=y.tags.find(Q=>Q[0]==="name")?.[1],b=y.tags.find(Q=>Q[0]==="title")?.[1],w=y.tags.find(Q=>Q[0]==="summary")?.[1],E=y.tags.find(Q=>Q[0]==="start")?.[1],N=y.tags.find(Q=>Q[0]==="end")?.[1],T=y.tags.find(Q=>Q[0]==="location")?.[1],j=y.tags.find(Q=>Q[0]==="start_tzid")?.[1],_=y.tags.find(Q=>Q[0]==="end_tzid")?.[1];let M={},A=b||v||"Untitled Event",k=w||"",O=E,B=N;if(E&&!isNaN(E)&&(O=new Date(parseInt(E)*1e3).toISOString()),N&&!isNaN(N)&&(B=new Date(parseInt(N)*1e3).toISOString()),y.content)try{M=JSON.parse(y.content),A=M.name||b||v||"Untitled Event",k=M.summary||w||M.description||""}catch{y.content&&!b&&!v&&(k=y.content)}const H={id:y.id,kind:y.kind,title:A,description:k,start:O,end:B,location:T,startTimezone:j,endTimezone:_,allDay:y.kind===31922,created_at:y.created_at,pubkey:y.pubkey,relay:g,rawEvent:y,isRSVP:!0};r.push(H)}catch(v){console.error("Failed to parse original event data:",v)}}},()=>{if(c++,c===f){this.relays.forEach(v=>{v.unsubscribe(m)});const y=r.reduce((v,b)=>{const w=v.find(E=>E.id===b.id);return!w||b.created_at>w.created_at?v.filter(E=>E.id!==b.id).concat(b):v},[]);y.sort((v,b)=>b.created_at-v.created_at),console.log("Resolved original events for RSVPs:",y),s(y)}})}),setTimeout(()=>{this.relays.forEach(g=>{g.unsubscribe(m)});const h=r.reduce((g,y)=>{const v=g.find(b=>b.id===y.id);return!v||y.created_at>v.created_at?g.filter(b=>b.id!==y.id).concat(y):g},[]);h.sort((g,y)=>y.created_at-g.created_at),console.log("Resolved original events for RSVPs (timeout):",h),s(h)},5e3)})}async getEventsByReferences(i){return new Promise(s=>{const r=[];let c=0;const f=this.relays.size,m="ref-events-"+Math.random().toString(36).substring(7),p=i.map(h=>{const[g,y,v]=h.split(":");return{kinds:[parseInt(g)],authors:[y],"#d":v?[v]:void 0}}).filter(h=>h["#d"]);if(p.length===0){s([]);return}this.relays.forEach((h,g)=>{h.subscribe(p,m,y=>{if(y)try{const v=y.tags.find(B=>B[0]==="title")?.[1],b=y.tags.find(B=>B[0]==="name")?.[1],w=y.tags.find(B=>B[0]==="summary")?.[1],E=y.tags.find(B=>B[0]==="start")?.[1],N=y.tags.find(B=>B[0]==="end")?.[1],T=y.tags.find(B=>B[0]==="location")?.[1],j=y.tags.find(B=>B[0]==="start_tzid")?.[1],_=y.tags.find(B=>B[0]==="end_tzid")?.[1];let M={},A=v||b||"Untitled Event",k=w||"";if(y.content)try{M=JSON.parse(y.content),A=M.title||v||M.name||b||"Untitled Event",k=M.summary||w||M.description||""}catch{k=y.content}const O={id:y.id,kind:y.kind,title:A,description:k,start:E,end:N,location:T,startTimezone:j,endTimezone:_,allDay:y.kind===31922,created_at:y.created_at,pubkey:y.pubkey,relay:g,rawEvent:y,isRSVP:!0};r.push(O)}catch(v){console.error("Failed to parse referenced event data:",v)}},()=>{if(c++,c===f){this.relays.forEach(v=>{v.unsubscribe(m)});const y=r.reduce((v,b)=>{const w=v.find(E=>E.id===b.id);return!w||b.created_at>w.created_at?v.filter(E=>E.id!==b.id).concat(b):v},[]);y.sort((v,b)=>b.created_at-v.created_at),s(y)}})}),setTimeout(()=>{this.relays.forEach(g=>{g.unsubscribe(m)});const h=r.reduce((g,y)=>{const v=g.find(b=>b.id===y.id);return!v||y.created_at>v.created_at?g.filter(b=>b.id!==y.id).concat(y):g},[]);h.sort((g,y)=>y.created_at-g.created_at),s(h)},5e3)})}async getAvailabilityTemplates(i){return new Promise(s=>{const r=[];let c=0;const f=this.relays.size;let m=i;i.startsWith("npub")&&(m=Fe.decode(i).data);const p="availability-"+Math.random().toString(36).substring(7),h={kinds:[31926],authors:[m]};this.relays.forEach((g,y)=>{g.subscribe([h],p,v=>{if(v)try{const b=v.tags.find($=>$[0]==="d")?.[1],w=v.tags.find($=>$[0]==="a")?.[1],E=v.tags.find($=>$[0]==="title")?.[1]||"Untitled Template",N=v.content||"",T=v.tags.find($=>$[0]==="duration")?.[1]||"PT30M",j=v.tags.find($=>$[0]==="interval")?.[1]||T,_=v.tags.find($=>$[0]==="tzid")?.[1]||"UTC",M=v.tags.find($=>$[0]==="amount_sats")?.[1]||"0",A=v.tags.find($=>$[0]==="buffer_before")?.[1]||"PT0S",k=v.tags.find($=>$[0]==="buffer_after")?.[1]||"PT0S",O=v.tags.find($=>$[0]==="min_notice")?.[1]||"PT0S",B=v.tags.find($=>$[0]==="max_advance")?.[1]||"P30D",H=v.tags.find($=>$[0]==="max_advance_business")?.[1]||"false",Q=this.parseDuration(T),J=this.parseDuration(j),ne=this.parseDuration(A),ce=this.parseDuration(k),re=this.parseDuration(O),Y=this.parseAdvancePeriod(B),L=this.parseAvailabilityTags(v.tags),D={id:b,calendarRef:w,title:E,description:N,duration:Q,interval:J,timezone:_,zapAmount:parseInt(M),bufferBefore:ne,bufferAfter:ce,minNotice:re,maxAdvance:Y,maxAdvanceBusiness:H==="true",availability:L,event:v};r.push(D)}catch(b){console.error("Failed to parse availability template:",b)}},()=>{if(c++,c===f){this.relays.forEach(b=>{b.unsubscribe(p)});const v=r.reduce((b,w)=>{const E=b.find(N=>N.id===w.id);return!E||w.event.created_at>E.event.created_at?b.filter(N=>N.id!==w.id).concat(w):b},[]);v.sort((b,w)=>w.event.created_at-b.event.created_at),s(v)}})}),setTimeout(()=>{this.relays.forEach(y=>{y.unsubscribe(p)});const g=r.reduce((y,v)=>{const b=y.find(w=>w.id===v.id);return!b||v.event.created_at>b.event.created_at?y.filter(w=>w.id!==v.id).concat(v):y},[]);g.sort((y,v)=>v.event.created_at-y.event.created_at),s(g)},5e3)})}async deleteAvailabilityTemplate(i){const s={kind:5,created_at:Math.floor(Date.now()/1e3),tags:[["a",`31926:${this.getCurrentPubkey()}:${i}`],["k","31926"]],content:`Deleted availability template: ${i}`};return this.publishEvent(s)}parseDuration(i){if(!i)return 0;if(i.includes("S")){const s=parseInt(i.match(/PT(\d+)S/)?.[1]||"0");return Math.floor(s/60)}return i.includes("M")?parseInt(i.match(/PT(\d+)M/)?.[1]||"0"):i.includes("H")?parseInt(i.match(/PT(\d+)H/)?.[1]||"0")*60:0}parseAdvancePeriod(i){return i?parseInt(i.match(/P(\d+)D/)?.[1]||"30"):30}parseAvailabilityTags(i){const s={SU:{enabled:!1,start:"09:00",end:"17:00"},MO:{enabled:!1,start:"09:00",end:"17:00"},TU:{enabled:!1,start:"09:00",end:"17:00"},WE:{enabled:!1,start:"09:00",end:"17:00"},TH:{enabled:!1,start:"09:00",end:"17:00"},FR:{enabled:!1,start:"09:00",end:"17:00"},SA:{enabled:!1,start:"09:00",end:"17:00"}};return i.filter(c=>c[0]==="sch").forEach(c=>{const[,f,m,p]=c;s[f]&&(s[f]={enabled:!0,start:m||"09:00",end:p||"17:00"})}),s}async getAvailabilityTemplate(i){return new Promise(s=>{let r=null,c=0;const f=this.relays.size,m="single-template-"+Math.random().toString(36).substring(7),p={kinds:[31926],"#d":[i],limit:10};this.relays.forEach((h,g)=>{h.subscribe([p],m,y=>{if(y&&!r)try{const v=y.tags.find(D=>D[0]==="d")?.[1],b=y.tags.find(D=>D[0]==="a")?.[1],w=y.tags.find(D=>D[0]==="title")?.[1]||"Untitled Template",E=y.content||"",N=y.tags.find(D=>D[0]==="duration")?.[1]||"PT30M",T=y.tags.find(D=>D[0]==="interval")?.[1]||N,j=y.tags.find(D=>D[0]==="tzid")?.[1]||"UTC",_=y.tags.find(D=>D[0]==="amount_sats")?.[1]||"0",M=y.tags.find(D=>D[0]==="buffer_before")?.[1]||"PT0S",A=y.tags.find(D=>D[0]==="buffer_after")?.[1]||"PT0S",k=y.tags.find(D=>D[0]==="min_notice")?.[1]||"PT0S",O=y.tags.find(D=>D[0]==="max_advance")?.[1]||"P30D",B=y.tags.find(D=>D[0]==="max_advance_business")?.[1]||"false",H=y.tags.find(D=>D[0]==="location")?.[1]||"Online Meeting",Q=this.parseDuration(N),J=this.parseDuration(T),ne=this.parseDuration(M),ce=this.parseDuration(A),re=this.parseDuration(k),Y=this.parseAdvancePeriod(O),L=this.parseAvailabilityTags(y.tags);r={identifier:v,ownerPubkey:y.pubkey,calendarRef:b,title:w,description:E,duration:Q,interval:J,timezone:j,zapAmount:parseInt(_),bufferBefore:ne,bufferAfter:ce,minNotice:re,maxAdvanceDays:Y===0?null:Y,maxAdvanceBusiness:B==="true",location:H,weeklyAvailability:L,event:y}}catch(v){console.error("Failed to parse availability template:",v)}},()=>{c++,c===f&&(this.relays.forEach(y=>{y.unsubscribe(m)}),s(r))})}),setTimeout(()=>{this.relays.forEach(h=>{h.unsubscribe(m)}),s(r)},1e4)})}async getBusyTimes(i,s){return new Promise(r=>{const c=new Map;let f=0;const m=this.relays.size,p=Math.floor(Date.now()/1e3),h=p+90*24*60*60,g={kinds:[31922,31923,31925],authors:[i],since:p-30*24*60*60,until:h,limit:200},y="busy-times-"+Math.random().toString(36).substring(7);this.relays.forEach((v,b)=>{v.subscribe([g],y,w=>{w&&this.processBusyEvent(w,c,i)},()=>{f++,f===m&&(this.relays.forEach(w=>{w.unsubscribe(y)}),r(Array.from(c.entries())))})}),setTimeout(()=>{this.relays.forEach(v=>{v.unsubscribe(y)}),r(Array.from(c.entries()))},1e4)})}processBusyEvent(i,s,r){try{const c=i.tags.find(w=>w[0]==="start"),f=i.tags.find(w=>w[0]==="end"),m=i.tags.filter(w=>w[0]==="p").map(w=>w[1]),p=i.tags.find(w=>w[0]==="title")?.[1]||"Busy";if(!c||!f||!(i.pubkey===r||m.includes(r)))return;let g=!1,y="";if(i.kind===31922||i.kind===31923)i.pubkey===r?(g=!0,y="owner calendar event"):m.includes(r)&&(g=!1,y="pending booking request");else if(i.kind===31925){const w=i.tags.find(N=>N[0]==="status")?.[1],E=i.tags.find(N=>N[0]==="fb")?.[1];w==="accepted"&&E==="busy"&&(g=!0,y="accepted RSVP")}if(!g)return;let v,b;if(i.kind===31923){const w=parseInt(c[1]),E=parseInt(f[1]);if(isNaN(w)||isNaN(E))return;v=new Date(w*1e3),b=new Date(E*1e3)}else i.kind===31922&&(v=new Date(c[1]+"T00:00:00"),b=new Date(f[1]+"T23:59:59"));if(v&&b&&!isNaN(v.getTime())&&!isNaN(b.getTime())){const w=v.toISOString().split("T")[0];s.has(w)||s.set(w,[]);const E={start:v,end:b,eventId:i.id,title:p,kind:i.kind,reason:y};s.get(w).push(E)}}catch(c){console.error("Error processing busy event:",c)}}getCurrentPubkey(){return window.nostr?.getPublicKey?.()||""}disconnect(){this.relays.forEach(i=>{i.close()}),this.relays.clear()}async getOwnerEvents(i){return console.log("nostrPool.getOwnerEvents called with pubkey:",i),new Promise(s=>{const r=[];let c=0;const f=this.relays.size,m="owner-events-"+Math.random().toString(36).substring(7),p={kinds:[31923],authors:[i]};this.relays.forEach((h,g)=>{h.subscribe([p],m,y=>{if(y)try{const v=y.tags.find(T=>T[0]==="title")?.[1],b=y.tags.find(T=>T[0]==="start")?.[1],w=y.tags.find(T=>T[0]==="end")?.[1],E=y.tags.find(T=>T[0]==="location")?.[1],N={id:y.id,kind:y.kind,title:v||"Untitled Event",description:y.content||"",startTime:parseInt(b)*1e3,endTime:w?parseInt(w)*1e3:parseInt(b)*1e3+60*60*1e3,location:E,isAllDay:!1,created_at:y.created_at,event:y};r.push(N)}catch(v){console.error("Error processing owner event:",v)}},()=>{if(c++,c>=f){const y=r.reduce((v,b)=>{const w=v.find(E=>E.id===b.id);return!w||b.created_at>w.created_at?v.filter(E=>E.id!==b.id).concat(b):v},[]);s(y)}})}),setTimeout(()=>{this.relays.forEach(g=>{g.unsubscribe(m)});const h=r.reduce((g,y)=>{const v=g.find(b=>b.id===y.id);return!v||y.created_at>v.created_at?g.filter(b=>b.id!==y.id).concat(y):g},[]);s(h)},5e3)})}async getDateBasedEvents(i){return console.log("nostrPool.getDateBasedEvents called with pubkey:",i),new Promise(s=>{const r=[];let c=0;const f=this.relays.size,m="date-events-"+Math.random().toString(36).substring(7),p={kinds:[31922],authors:[i]};this.relays.forEach((h,g)=>{h.subscribe([p],m,y=>{if(y)try{const v=y.tags.find(_=>_[0]==="title")?.[1],b=y.tags.find(_=>_[0]==="start")?.[1],w=y.tags.find(_=>_[0]==="end")?.[1],E=y.tags.find(_=>_[0]==="location")?.[1],N=new Date(b+"T00:00:00").getTime(),T=w?new Date(w+"T23:59:59").getTime():new Date(b+"T23:59:59").getTime(),j={id:y.id,kind:y.kind,title:v||"Untitled Event",description:y.content||"",startTime:N,endTime:T,location:E,isAllDay:!0,created_at:y.created_at,event:y};r.push(j)}catch(v){console.error("Error processing date-based event:",v)}},()=>{if(c++,c>=f){const y=r.reduce((v,b)=>{const w=v.find(E=>E.id===b.id);return!w||b.created_at>w.created_at?v.filter(E=>E.id!==b.id).concat(b):v},[]);s(y)}})}),setTimeout(()=>{this.relays.forEach(g=>{g.unsubscribe(m)});const h=r.reduce((g,y)=>{const v=g.find(b=>b.id===y.id);return!v||y.created_at>v.created_at?g.filter(b=>b.id!==y.id).concat(y):g},[]);s(h)},5e3)})}async getBookingRequests(i){return console.log("nostrPool.getBookingRequests called with pubkey:",i),new Promise(s=>{const r=[];let c=0;const f=this.relays.size,m="booking-requests-"+Math.random().toString(36).substring(7),p={kinds:[31923],"#p":[i]};this.relays.forEach((h,g)=>{h.subscribe([p],m,y=>{if(y&&y.pubkey!==i)try{const v=y.tags.find(j=>j[0]==="d")?.[1],b=y.tags.find(j=>j[0]==="title")?.[1],w=y.tags.find(j=>j[0]==="start")?.[1],E=y.tags.find(j=>j[0]==="end")?.[1],N=y.tags.find(j=>j[0]==="a")?.[1],T={id:y.id,dTag:v,templateRef:N,bookerPubkey:y.pubkey,ownerPubkey:i,title:b||"Meeting Request",description:y.content||"",startTime:parseInt(w)*1e3,endTime:E?parseInt(E)*1e3:parseInt(w)*1e3+30*60*1e3,status:"pending",createdAt:y.created_at,event:y};r.push(T)}catch(v){console.error("Error processing booking request:",v)}},()=>{if(c++,c>=f){const y=r.reduce((v,b)=>{const w=v.find(E=>E.id===b.id);return!w||b.created_at>w.created_at?v.filter(E=>E.id!==b.id).concat(b):v},[]);s(y)}})}),setTimeout(()=>{this.relays.forEach(g=>{g.unsubscribe(m)});const h=r.reduce((g,y)=>{const v=g.find(b=>b.id===y.id);return!v||y.created_at>v.created_at?g.filter(b=>b.id!==y.id).concat(y):g},[]);s(h)},5e3)})}async getRSVPEvents(i){return console.log("nostrPool.getRSVPEvents called with pubkey:",i),new Promise(s=>{const r=[];let c=0;const f=this.relays.size*2,m="rsvp-incoming-"+Math.random().toString(36).substring(7),p="rsvp-outgoing-"+Math.random().toString(36).substring(7),h={kinds:[31925],"#p":[i]},g={kinds:[31925],authors:[i]},y=v=>{try{const b=v.tags.find(T=>T[0]==="d")?.[1],w=v.tags.find(T=>T[0]==="status")?.[1],E=v.tags.find(T=>T[0]==="a")?.[1],N={id:v.id,dTag:b,status:w||"unknown",relatedRequest:E,fromPubkey:v.pubkey,createdAt:v.created_at,event:v};r.push(N)}catch(b){console.error("Error processing RSVP event:",b)}};this.relays.forEach((v,b)=>{v.subscribe([h],m,y,()=>{c++,c>=f&&s(r)}),v.subscribe([g],p,y,()=>{c++,c>=f&&s(r)})}),setTimeout(()=>{this.relays.forEach(b=>{b.unsubscribe(m),b.unsubscribe(p)});const v=r.reduce((b,w)=>{const E=b.find(N=>N.id===w.id);return!E||w.created_at>E.created_at?b.filter(N=>N.id!==w.id).concat(w):b},[]);s(v)},5e3)})}async respondToBooking(i,s){return console.log("nostrPool.respondToBooking called with requestId:",i,"status:",s),new Promise(r=>{console.log("Would create RSVP event for request:",i,"with status:",s),r({success:!0})})}async deleteEvent(i,s){return console.log("nostrPool.deleteEvent called with eventId:",i,"eventKind:",s),new Promise(r=>{console.log("Would create deletion event for:",i,"kind:",s),r({success:!0})})}}const _n=new $2,Su=["wss://relay.nostrcal.com","wss://filter.nostrcal.com","wss://relay.damus.io","wss://relay.nostr.band","wss://nos.lol","wss://relay.primal.net"],lp="nostrcal_relay_settings";function Fy(){const[a,i]=R.useState(Su),[s,r]=R.useState(!0);R.useEffect(()=>{try{const m=localStorage.getItem(lp);if(m){const p=JSON.parse(m);Array.isArray(p)&&p.length>0&&i(p)}}catch(m){console.error("Failed to load relay settings:",m)}finally{r(!1)}},[]);const c=m=>{try{i(m),localStorage.setItem(lp,JSON.stringify(m))}catch(p){console.error("Failed to save relay settings:",p)}};return{selectedRelays:a,updateRelays:c,resetToDefaults:()=>{c(Su)},isLoading:s,defaultRelays:Su}}const e0=R.createContext(null);function Y2({children:a}){const[i,s]=R.useState(!1),[r,c]=R.useState("disconnected"),[f,m]=R.useState(0),{selectedRelays:p,isLoading:h}=Fy();R.useEffect(()=>{if(h)return;(async()=>{try{c("connecting"),await _n.connect(p);const b=_n.getConnectedRelayCount();m(b),s(b>0),c(b>0?"connected":"failed"),console.log("Connected to Nostr relays")}catch(b){console.error("Failed to connect to relays:",b),c("failed")}})();const v=setInterval(()=>{const b=_n.getConnectedRelayCount();m(b),s(b>0),c(b===0?"disconnected":"connected")},15e3);return()=>{clearInterval(v),_n.disconnect(),s(!1),c("disconnected")}},[p,h]);const g={pool:_n,isConnected:i,connectionStatus:r,connectedRelayCount:f};return u.jsx(e0.Provider,{value:g,children:a})}function Ut(){const a=R.useContext(e0);if(!a)throw new Error("useNostr must be used within a NostrProvider");return a}function V2(a){const[i,s]=R.useState(null),[r,c]=R.useState(!0),{pool:f,isConnected:m}=Ut();return R.useEffect(()=>{if(!a||!m){a||c(!1);return}let p=!1;return(async()=>{try{c(!0),console.log("Fetching profile for:",a);let g=a;a.startsWith("npub")&&(g=Fe.decode(a).data);const y=await f.getProfile(g);!p&&y?(console.log("Got profile from relays:",y),s({...y,pubkey:g,npub:a.startsWith("npub")?a:Fe.npubEncode(g)})):p||(console.log("No profile found on relays, using fallback"),s({name:"Nostr User",display_name:"Nostr User",pubkey:g,npub:a.startsWith("npub")?a:Fe.npubEncode(g)}))}catch(g){console.error("Failed to fetch profile:",g),p||s({name:"Nostr User",display_name:"Nostr User",pubkey:a,npub:a.startsWith("npub")?a:Fe.npubEncode(a)})}finally{p||c(!1)}})(),()=>{p=!0}},[a,m,f]),{profile:i,loading:r}}const Et=cn.forwardRef(({className:a,variant:i="default",size:s="default",...r},c)=>{const f=()=>{let m=["btn"];if(m.push(`btn-${i}`),m.push(`btn-${s}-size`),a){const p=a.split(" ").map(h=>h==="w-full"?"btn-full":h==="rounded-full"?"btn-rounded":h==="py-6"?"btn-py-6":h).filter(Boolean);m=m.concat(p)}return m.join(" ")};return u.jsx("button",{className:f(),ref:c,...r})});Et.displayName="Button";const Ol=cn.forwardRef(({className:a,type:i,...s},r)=>u.jsx("input",{type:i,className:`input ${a||""}`,ref:r,...s}));Ol.displayName="Input";const Rd=({open:a,onOpenChange:i,children:s})=>a?u.jsx("div",{className:"dialog-overlay",onClick:r=>{r.target===r.currentTarget&&i(!1)},children:s}):null,$r=cn.forwardRef(({className:a,children:i,...s},r)=>u.jsx("div",{ref:r,className:`dialog-content ${a||""}`,...s,children:i}));$r.displayName="DialogContent";const _d=({className:a,...i})=>u.jsx("div",{className:`dialog-header ${a||""}`,...i}),Yr=cn.forwardRef(({className:a,...i},s)=>u.jsx("h2",{ref:s,className:`dialog-title ${a||""}`,...i}));Yr.displayName="DialogTitle";const Vr=cn.forwardRef(({className:a,...i},s)=>u.jsx("p",{ref:s,className:`dialog-description ${a||""}`,...i}));Vr.displayName="DialogDescription";const G2=({defaultValue:a,className:i,children:s})=>{const[r,c]=cn.useState(a);return u.jsx("div",{className:`tabs ${i||""}`,children:cn.Children.map(s,f=>cn.cloneElement(f,{activeTab:r,setActiveTab:c}))})},Z2=({className:a,children:i,activeTab:s,setActiveTab:r})=>u.jsx("div",{className:`tabs-list ${a||""}`,children:cn.Children.map(i,c=>cn.cloneElement(c,{activeTab:s,setActiveTab:r}))}),Nu=({value:a,className:i,children:s,activeTab:r,setActiveTab:c})=>u.jsx("button",{type:"button",className:`tabs-trigger ${i||""}`,"data-state":r===a?"active":"inactive",onClick:f=>{f.preventDefault(),f.stopPropagation(),c(a)},children:s}),Tu=({value:a,className:i,children:s,activeTab:r})=>u.jsx("div",{className:`tabs-content ${i||""}`,"data-state":r===a?"active":"inactive",children:s});function t0(){const{login:a}=Wt();return{extension:async()=>{try{if(console.log("Checking for nostr extension..."),!window.nostr)throw new Error("Nostr extension not found");console.log("Getting public key from extension...");const c=await window.nostr.getPublicKey();console.log("Got pubkey:",c);const f={id:c,pubkey:Fe.npubEncode(c),name:"Nostr User",loginMethod:"extension"};console.log("Logging in with userData:",f),a(f),console.log("Login function called")}catch(c){throw console.error("Extension login failed:",c),c}},nsec:c=>{try{const{type:f,data:m}=Fe.decode(c);if(f!=="nsec")throw new Error("Invalid nsec key");const p=zr(m),h={id:p,pubkey:Fe.npubEncode(p),privateKey:c,name:"Nostr User",loginMethod:"nsec"};a(h)}catch(f){throw console.error("Nsec login failed:",f),f}},bunker:c=>{try{const m=new URL(c).hostname,p={id:m,pubkey:Fe.npubEncode(m),bunkerUri:c,name:"Nostr User",loginMethod:"bunker"};a(p)}catch(f){throw console.error("Bunker login failed:",f),f}}}}const X2=({isOpen:a,onClose:i})=>{const[s,r]=R.useState("generate"),[c,f]=R.useState(!1),[m,p]=R.useState(""),h=t0(),g=()=>{f(!0);try{const w=oy();p(Fe.nsecEncode(w)),r("download")}catch(w){console.error("Failed to generate key:",w),alert("Failed to generate key. Please try again.")}finally{f(!1)}},y=()=>{const w=new Blob([m],{type:"text/plain"}),E=globalThis.URL.createObjectURL(w),N=document.createElement("a");N.href=E,N.download="nsec.txt",document.body.appendChild(N),N.click(),globalThis.URL.revokeObjectURL(E),document.body.removeChild(N),console.log("Key downloaded successfully")},v=()=>{try{h.nsec(m),r("done"),i(),console.log("Account created and logged in successfully")}catch(w){console.error("Failed to login with generated key:",w),alert("Failed to complete signup. Please try again.")}},b=()=>{r("generate"),p(""),i()};return u.jsx(Rd,{open:a,onOpenChange:b,children:u.jsxs($r,{children:[u.jsxs(_d,{children:[u.jsxs(Yr,{children:[s==="generate"&&"Create Your Account",s==="download"&&"Download Your Key",s==="done"&&"Setting Up Your Account"]}),u.jsxs(Vr,{children:[s==="generate"&&"Generate a secure key for your account",s==="download"&&"Keep your key safe - you'll need it to log in",s==="done"&&"Finalizing your account setup"]})]}),u.jsxs("div",{className:"dialog-body space-y-6",children:[s==="generate"&&u.jsxs("div",{className:"text-center space-y-6",children:[u.jsx("div",{className:"p-4 rounded-lg bg-gray-50",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:u.jsx("div",{style:{fontSize:"64px",color:"#3b82f6"},children:""})}),u.jsx("p",{className:"text-sm text-gray-600",children:"We'll generate a secure key for your account. You'll need this key to log in later."}),u.jsx(Et,{className:"w-full rounded-full py-6",onClick:g,disabled:c,children:c?"Generating key...":"Generate my key"})]}),s==="download"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{style:{padding:"16px",borderRadius:"8px",border:"1px solid #d1d5db",backgroundColor:"#f9fafb",overflowX:"auto",fontFamily:'Monaco, Menlo, "Ubuntu Mono", monospace',fontSize:"12px",wordBreak:"break-all"},children:m}),u.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[u.jsx("p",{style:{fontWeight:"500",color:"#ef4444"},children:"Important:"}),u.jsxs("ul",{style:{listStyle:"disc",paddingLeft:"20px"},className:"space-y-2",children:[u.jsx("li",{children:"This is your only way to access your account"}),u.jsx("li",{children:"Store it somewhere safe"}),u.jsx("li",{children:"Never share this key with anyone"})]})]}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[u.jsxs(Et,{variant:"outline",className:"w-full",onClick:y,children:[u.jsx("span",{style:{marginRight:"8px"},children:""}),"Download Key"]}),u.jsx(Et,{className:"w-full rounded-full py-6",onClick:v,children:"I've saved my key, continue"})]})]}),s==="done"&&u.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"32px 0"},children:u.jsx("div",{style:{width:"48px",height:"48px",border:"2px solid #3b82f6",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}})})]})]})})},n0=({isOpen:a,onClose:i})=>{const[s,r]=R.useState(!1),[c,f]=R.useState(""),[m,p]=R.useState(""),[h,g]=R.useState(!1),y=R.useRef(null),v=t0(),b=async()=>{console.log("Starting extension login..."),r(!0);try{await v.extension(),console.log("Extension login successful"),i()}catch(T){console.error("Extension login failed:",T),alert("Extension login failed: "+T.message)}finally{r(!1)}},w=()=>{if(c.trim()){r(!0);try{v.nsec(c),i()}catch(T){console.error("Nsec login failed:",T),alert("Nsec login failed: "+T.message)}finally{r(!1)}}},E=()=>{if(!(!m.trim()||!m.startsWith("bunker://"))){r(!0);try{v.bunker(m),i()}catch(T){console.error("Bunker login failed:",T),alert("Bunker login failed: "+T.message)}finally{r(!1)}}},N=T=>{const j=T.target.files?.[0];if(!j)return;const _=new FileReader;_.onload=M=>{const A=M.target?.result;f(A.trim())},_.readAsText(j)};return u.jsxs(Rd,{open:a,onOpenChange:i,children:[u.jsxs($r,{children:[u.jsxs(_d,{children:[u.jsx(Yr,{children:"Connect with Nostr"}),u.jsx(Vr,{children:"Choose your preferred method to connect your Nostr account"})]}),u.jsxs("div",{className:"dialog-body space-y-6",children:[u.jsxs(G2,{defaultValue:typeof window<"u"&&"nostr"in window?"extension":"key",className:"w-full tabs-vertical",style:{marginBottom:"8px"},children:[u.jsxs(Z2,{className:"mb-6",children:[u.jsx(Nu,{value:"extension",children:"Extension"}),u.jsx(Nu,{value:"key",children:"Nsec"}),u.jsx(Nu,{value:"bunker",children:"Bunker"})]}),u.jsx(Tu,{value:"extension",className:"space-y-4",children:u.jsxs("div",{className:"text-center p-4 rounded-lg bg-gray-50",children:[u.jsx("div",{style:{fontSize:"48px",marginBottom:"12px"},children:""}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Connect with one click using your browser extension"}),u.jsx(Et,{type:"button",className:"w-full rounded-full py-6",onClick:T=>{T.preventDefault(),T.stopPropagation(),b()},disabled:s,children:s?"Connecting...":"Connect with Extension"})]})}),u.jsx(Tu,{value:"key",className:"space-y-4",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{htmlFor:"nsec",className:"text-sm font-medium",children:"Enter your nsec key"}),u.jsx(Ol,{type:"password",id:"nsec",value:c,onChange:T=>f(T.target.value),placeholder:"nsec1..."})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-sm mb-2",children:"Or upload a key file"}),u.jsx("input",{type:"file",accept:".txt",className:"hidden",ref:y,onChange:N}),u.jsx(Et,{type:"button",variant:"outline",className:"w-full",onClick:T=>{T.preventDefault(),T.stopPropagation(),y.current?.click()},children:" Upload Nsec File"})]}),u.jsx(Et,{type:"button",className:"w-full rounded-full py-6 mt-4",onClick:T=>{T.preventDefault(),T.stopPropagation(),w()},disabled:s||!c.trim(),children:s?"Connecting...":"Connect with Nsec"})]})}),u.jsxs(Tu,{value:"bunker",className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{htmlFor:"bunkerUri",className:"text-sm font-medium",children:"Bunker URI"}),u.jsx(Ol,{id:"bunkerUri",value:m,onChange:T=>p(T.target.value),placeholder:"bunker://"}),m&&!m.startsWith("bunker://")&&u.jsx("p",{className:"text-red-500 text-xs",children:"URI must start with bunker://"})]}),u.jsx(Et,{type:"button",className:"w-full rounded-full py-6",onClick:T=>{T.preventDefault(),T.stopPropagation(),E()},disabled:s||!m.trim()||!m.startsWith("bunker://"),children:s?"Connecting...":"Connect with Bunker"})]})]}),u.jsx("div",{className:"text-center text-sm",style:{marginTop:"16px"},children:u.jsxs("p",{className:"text-gray-600",children:["Don't have a Nostr account?"," ",u.jsx("button",{onClick:()=>{i(),g(!0)},style:{color:"#3b82f6",textDecoration:"none",fontWeight:"500",background:"none",border:"none",cursor:"pointer"},onMouseOver:T=>T.target.style.textDecoration="underline",onMouseOut:T=>T.target.style.textDecoration="none",children:"Sign up"})]})})]})]}),u.jsx(X2,{isOpen:h,onClose:()=>g(!1)})]})};function K2(){const{user:a,logout:i}=Wt(),{connectionStatus:s}=Ut(),{profile:r,loading:c}=V2(a?.id),[f,m]=R.useState(!1),[p,h]=R.useState(!1),g=R.useRef(null);R.useEffect(()=>{const w=E=>{g.current&&!g.current.contains(E.target)&&m(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const y=()=>{m(!1),i()},v=()=>r?.name?r.name:r?.display_name?r.display_name:a?.name?a.name:"Nostr User",b=()=>v().charAt(0).toUpperCase();return u.jsxs("div",{className:"user-menu",ref:g,children:[u.jsxs("button",{className:"user-menu-trigger",onClick:()=>m(!f),title:v(),children:[c?u.jsx("div",{className:"user-avatar loading",children:u.jsx("span",{className:"loading-spinner",children:""})}):r?.picture?u.jsx("img",{src:r.picture,alt:v(),className:"user-avatar-img",onError:w=>{w.target.style.display="none",w.target.nextSibling.style.display="flex"}}):null,u.jsx("div",{className:"user-avatar-fallback",style:{display:r?.picture&&!c?"none":"flex"},children:b()})]}),f&&u.jsxs("div",{className:"user-menu-dropdown",children:[u.jsxs("div",{className:"user-menu-header",children:[u.jsx("div",{className:"user-menu-avatar",children:r?.picture?u.jsx("img",{src:r.picture,alt:v()}):u.jsx("div",{className:"user-menu-avatar-fallback",children:b()})}),u.jsxs("div",{className:"user-menu-info",children:[u.jsx("div",{className:"user-menu-name",children:v()}),r?.nip05&&u.jsx("div",{className:"user-menu-nip05",children:r.nip05}),u.jsxs("div",{className:"user-menu-pubkey",title:a?.pubkey,children:[a?.pubkey?.slice(0,8),"...",a?.pubkey?.slice(-8)]})]})]}),u.jsx("div",{className:"user-menu-divider"}),u.jsxs("div",{className:"user-menu-status",children:[u.jsxs("span",{className:`status-indicator ${s}`,children:[s==="connected"&&"",s==="connecting"&&"",s==="failed"&&"",s==="disconnected"&&""]}),u.jsxs("span",{className:"status-text",children:[s==="connected"&&"Connected to relays",s==="connecting"&&"Connecting to relays...",s==="failed"&&"Failed to connect",s==="disconnected"&&"Disconnected"]})]}),u.jsx("div",{className:"user-menu-divider"}),u.jsxs("button",{className:"user-menu-item",onClick:()=>m(!1),children:[u.jsx("span",{className:"user-menu-icon",children:""}),"View Profile"]}),u.jsxs("button",{className:"user-menu-item",onClick:()=>{m(!1),h(!0)},children:[u.jsx("span",{className:"user-menu-icon",children:""}),"Switch Account"]}),u.jsx("div",{className:"user-menu-divider"}),u.jsxs("button",{className:"user-menu-item logout",onClick:y,children:[u.jsx("span",{className:"user-menu-icon",children:""}),"Log Out"]})]}),u.jsx(n0,{isOpen:p,onClose:()=>h(!1)})]})}function Q2({isOpen:a,onClose:i}){return Va(),R.useEffect(()=>{const s=r=>{a&&!r.target.closest(".menu-sidebar")&&!r.target.closest(".menu-btn")&&i()};return document.addEventListener("click",s),()=>document.removeEventListener("click",s)},[a,i]),R.useEffect(()=>{const s=r=>{r.key==="Escape"&&a&&i()};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[a,i]),u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`menu-sidebar-overlay ${a?"active":""}`,onClick:i}),u.jsx("nav",{className:`menu-sidebar ${a?"open":""}`,children:u.jsxs("div",{className:"menu-sidebar-content",children:[u.jsxs("div",{className:"menu-sidebar-section",children:[u.jsx("h3",{className:"menu-sidebar-title",children:"Calendar"}),u.jsxs("ul",{className:"menu-sidebar-list",children:[u.jsx("li",{children:u.jsxs(La,{to:"/",className:"menu-sidebar-link",onClick:i,children:[u.jsx("span",{className:"menu-icon",children:""}),"Calendar View"]})}),u.jsx("li",{children:u.jsxs(La,{to:"/new-event",className:"menu-sidebar-link",onClick:i,children:[u.jsx("span",{className:"menu-icon",children:""}),"Create Public Event"]})})]})]}),u.jsxs("div",{className:"menu-sidebar-section",children:[u.jsx("h3",{className:"menu-sidebar-title",children:"Scheduling"}),u.jsxs("ul",{className:"menu-sidebar-list",children:[u.jsx("li",{children:u.jsxs(La,{to:"/event-slots",className:"menu-sidebar-link",onClick:i,children:[u.jsx("span",{className:"menu-icon",children:""}),"Event Slots"]})}),u.jsx("li",{children:u.jsxs(La,{to:"/bookings",className:"menu-sidebar-link",onClick:i,children:[u.jsx("span",{className:"menu-icon",children:""}),"Bookings"]})})]})]}),u.jsxs("div",{className:"menu-sidebar-section",children:[u.jsx("h3",{className:"menu-sidebar-title",children:"Settings"}),u.jsx("ul",{className:"menu-sidebar-list",children:u.jsx("li",{children:u.jsxs(La,{to:"/settings",className:"menu-sidebar-link",onClick:i,children:[u.jsx("span",{className:"menu-icon",children:""}),"Preferences"]})})})]})]})})]})}function J2({isOpen:a,onClose:i}){const[s,r]=R.useState(""),[c,f]=R.useState(!1),[m,p]=R.useState(""),[h,g]=R.useState("1000"),y="nostrcal@sats.love";R.useEffect(()=>{const E=()=>{f(!!window.webln)};a&&(E(),setTimeout(E,100))},[a]);const v=E=>{E.target===E.currentTarget&&i()},b=async()=>{try{await navigator.clipboard.writeText(y),r("Copied!"),setTimeout(()=>r(""),2e3)}catch(E){console.error("Failed to copy lightning address:",E),r("Failed to copy"),setTimeout(()=>r(""),2e3)}},w=async()=>{const E=parseInt(h);if(!E||E<1){p("Please enter a valid amount"),setTimeout(()=>p(""),2e3);return}try{p("Connecting to Alby..."),await window.webln.enable(),p("Creating payment request...");const[N,T]=y.split("@"),_=await(await fetch(`https://${T}/.well-known/lnurlp/${N}`)).json();if(!_.callback)throw new Error("Invalid lightning address");p("Requesting invoice...");const A=await(await fetch(`${_.callback}?amount=${E*1e3}`)).json();if(A.status==="ERROR")throw new Error(A.reason||"Failed to create invoice");if(!A.pr)throw new Error(`Failed to get payment request. Response: ${JSON.stringify(A)}`);p("Processing payment...");const k=await window.webln.sendPayment(A.pr);k&&k.preimage?(p(` Payment of ${E} sats sent! Thank you for supporting Nostrcal! `),setTimeout(()=>{p(""),i()},3e3)):(p("Payment cancelled"),setTimeout(()=>p(""),2e3))}catch(N){console.error("Payment failed:",N),N.message.includes("User rejected")||N.message.includes("cancelled")?p("Payment cancelled"):p("Payment failed. Please try copying the address instead."),setTimeout(()=>p(""),3e3)}};return a?u.jsx("div",{className:"modal-overlay",onClick:v,children:u.jsxs("div",{className:"donation-modal",children:[u.jsx("div",{className:"modal-header",children:u.jsx("button",{className:"close-btn",onClick:i,children:""})}),u.jsxs("div",{className:"modal-content",children:[u.jsx("div",{className:"donation-icon",children:""}),u.jsx("h2",{className:"donation-title",children:"Support Nostrcal"}),u.jsxs("div",{className:"donation-message",children:[u.jsxs("p",{children:["Nostrcal is an ",u.jsx("strong",{children:"open source"})," project developed by volunteers who believe in building the future of decentralized calendar applications."]}),u.jsxs("p",{children:["This project is developed ",u.jsx("strong",{children:"for free"})," and made available to everyone in the Nostr ecosystem. If you find it useful, consider supporting our development efforts with a lightning donation."]}),u.jsx("p",{children:"Every sat helps us maintain and improve Nostrcal for the entire community! "})]}),u.jsxs("div",{className:"lightning-section",children:[u.jsx("h3",{children:"Lightning Address"}),u.jsxs("div",{className:"lightning-address-container",children:[u.jsxs("div",{className:"lightning-address",onClick:b,title:"Click to copy",children:[u.jsx("span",{className:"lightning-icon",children:""}),u.jsx("span",{className:"address-text",children:y}),u.jsx("span",{className:"copy-icon",children:""})]}),s&&u.jsx("div",{className:"copy-status",children:s})]}),c&&u.jsxs("div",{className:"alby-section",children:[u.jsxs("div",{className:"alby-detected",children:[u.jsx("span",{className:"alby-icon",children:""}),u.jsx("span",{children:"Alby detected! Enter amount and pay directly."})]}),u.jsxs("div",{className:"amount-input-section",children:[u.jsx("input",{id:"amount-input",type:"number",className:"amount-input",value:h,onChange:E=>g(E.target.value.replace(/[^0-9]/g,"")),placeholder:"Amount (sats)",min:"1"}),u.jsxs("button",{className:"btn-primary lightning-btn inline-pay-btn",onClick:w,disabled:!!m,children:[u.jsx("span",{children:""}),"Pay with Alby"]})]})]})]}),!c&&u.jsxs("div",{className:"donation-actions",children:[u.jsxs("button",{className:"btn-primary lightning-btn",onClick:()=>window.open(`lightning:${y}`,"_blank"),children:[u.jsx("span",{children:""}),"Open in Wallet"]}),u.jsxs("button",{className:"btn-secondary copy-btn",onClick:b,children:[u.jsx("span",{children:""}),"Copy Address"]})]}),m&&u.jsx("div",{className:`payment-status ${m.includes("sent")?"success":m.includes("failed")||m.includes("cancelled")?"error":"info"}`,children:m}),u.jsx("div",{className:"thank-you",children:u.jsx("p",{children:"Thank you for supporting open source development! "})})]})]})}):null}const a0=R.createContext(null);function P2({children:a}){const[i,s]=R.useState(new Date),[r,c]=R.useState(new Date),[f,m]=R.useState("week"),M={currentDate:i,miniCalendarDate:r,view:f,navigateNext:()=>{s(A=>{const k=new Date(A);return f==="week"?k.setDate(k.getDate()+7):f==="month"?k.setMonth(k.getMonth()+1):f==="day"&&k.setDate(k.getDate()+1),k})},navigatePrevious:()=>{s(A=>{const k=new Date(A);return f==="week"?k.setDate(k.getDate()-7):f==="month"?k.setMonth(k.getMonth()-1):f==="day"&&k.setDate(k.getDate()-1),k})},navigateToToday:()=>{const A=new Date;s(A),c(A)},navigateToDate:A=>{s(new Date(A))},navigateMiniCalendarNext:()=>{c(A=>{const k=new Date(A);return k.setMonth(k.getMonth()+1),k})},navigateMiniCalendarPrevious:()=>{c(A=>{const k=new Date(A);return k.setMonth(k.getMonth()-1),k})},setCalendarView:A=>{m(A)},getFormattedMonth:()=>i.toLocaleDateString("en-US",{month:"long",year:"numeric"}),getWeekDates:()=>{const A=new Date(i),k=A.getDay(),O=A.getDate()-k;A.setDate(O);const B=[];for(let H=0;H<7;H++){const Q=new Date(A);Q.setDate(A.getDate()+H),B.push(Q)}return B},getMiniCalendarDates:()=>{const A=r.getFullYear(),k=r.getMonth(),O=new Date(A,k,1),B=new Date(A,k+1,0),H=O.getDay(),Q=B.getDate(),J=[];for(let ne=0;ne<H;ne++)J.push(null);for(let ne=1;ne<=Q;ne++)J.push(new Date(A,k,ne));return J},getMiniCalendarMonthName:()=>r.toLocaleDateString("en-US",{month:"long",year:"numeric"}),isToday:A=>{const k=new Date;return A.toDateString()===k.toDateString()}};return u.jsx(a0.Provider,{value:M,children:a})}function Md(){const a=R.useContext(a0);if(!a)throw new Error("useCalendar must be used within a CalendarProvider");return a}function I2(){const[a,i]=R.useState(0),[s,r]=R.useState(!0),{pool:c,isConnected:f}=Ut(),{user:m}=Wt();R.useEffect(()=>{if(m?.id&&f&&c){p();const g=setInterval(p,3e4);return()=>clearInterval(g)}},[m?.id,f,c]);const p=async()=>{try{r(!0);const g=await c.getBookingRequests(m.id),y=await c.getRSVPEvents(m.id),v=g.filter(b=>{const w=y.filter(T=>T.relatedRequest===`31923:${b.bookerPubkey}:${b.dTag}`||T.event?.tags?.some(j=>j[0]==="e"&&j[1]===b.id));return w.sort((T,j)=>j.createdAt-T.createdAt),(w[0]?.status||"pending")==="pending"});i(v.length)}catch(g){console.error("Failed to load pending bookings count:",g),i(0)}finally{r(!1)}};return{pendingCount:a,loading:s,refreshPendingCount:()=>{m?.id&&f&&c&&p()}}}function kl(){const[a,i]=R.useState(!1),[s,r]=R.useState(!1),c=Va(),f=Xt(),{pendingCount:m}=I2(),{getFormattedMonth:p,navigateNext:h,navigatePrevious:g,navigateToToday:y,view:v,setCalendarView:b}=Md(),w=f.pathname==="/",E=()=>{i(!a)},N=()=>{i(!1)},T=()=>{r(!0)},j=()=>{r(!1)},_=()=>{c("/bookings",{state:{activeTab:"pending"}})},M=k=>{b(k.target.value)},A=()=>p();return u.jsxs(u.Fragment,{children:[u.jsxs("header",{className:"header",children:[u.jsxs("div",{className:"header-left",children:[u.jsx("button",{className:"menu-btn",onClick:E,"aria-label":"Toggle menu",children:""}),u.jsxs("div",{className:"logo",onClick:()=>c("/"),style:{cursor:"pointer"},children:[u.jsx("span",{className:"logo-icon",children:""}),u.jsx("span",{className:"logo-text",children:"nostrcal"})]})]}),u.jsx("div",{className:"header-center",children:w&&u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"today-btn",onClick:y,children:"Today"}),u.jsxs("div",{className:"nav-arrows",children:[u.jsx("button",{className:"nav-arrow",onClick:g,children:""}),u.jsx("button",{className:"nav-arrow",onClick:h,children:""})]}),u.jsx("span",{className:"current-month",children:A()})]})}),u.jsxs("div",{className:"header-right",children:[u.jsx("button",{className:"icon-btn",onClick:T,title:"Support Nostrcal",children:""}),u.jsxs("button",{className:"icon-btn notification-btn",onClick:_,title:"Bookings",children:["",m>0&&u.jsx("span",{className:"notification-badge",children:m>99?"99+":m})]}),w&&u.jsxs("select",{className:"view-selector",value:v,onChange:M,children:[u.jsx("option",{value:"day",children:"Day"}),u.jsx("option",{value:"week",children:"Week"}),u.jsx("option",{value:"month",children:"Month"})]}),u.jsx(K2,{})]})]}),u.jsx(Q2,{isOpen:a,onClose:N}),u.jsx(J2,{isOpen:s,onClose:j})]})}function W2(){const{user:a}=Wt(),{isConnected:i}=Ut(),[s,r]=R.useState([]),[c,f]=R.useState([]),[m,p]=R.useState([]),[h,g]=R.useState(!1),[y,v]=R.useState(null),b=async()=>{if(!(!a?.pubkey||!i))try{g(!0);const T=await _n.getEvents(a.pubkey,[31922]);r(T)}catch(T){console.error("Failed to load day events:",T),v(T.message)}finally{g(!1)}},w=async()=>{if(!(!a?.pubkey||!i))try{g(!0);const T=await _n.getEvents(a.pubkey,[31923]);f(T)}catch(T){console.error("Failed to load time events:",T),v(T.message)}finally{g(!1)}},E=async()=>{if(!(!a?.pubkey||!i))try{g(!0);const T=await _n.getRSVPs(a.pubkey);p(T)}catch(T){console.error("Failed to load RSVP events:",T),v(T.message)}finally{g(!1)}},N=async()=>{if(!(!a?.pubkey||!i))try{g(!0);const T=a.id||a.pubkey,{dayEvents:j,timeEvents:_,rsvpEvents:M}=await _n.getAllUserEvents(T);r(j),f(_),p(M)}catch(T){console.error("Failed to load events:",T),v(T.message)}finally{g(!1)}};return R.useEffect(()=>{i&&a?.pubkey&&N()},[i,a?.pubkey]),{dayEvents:s,timeEvents:c,rsvpEvents:m,loading:h,error:y,loadDayEvents:b,loadTimeEvents:w,loadRSVPEvents:E,loadAllEvents:N}}function Yl(){const[a,i]=R.useState([]),[s,r]=R.useState(!0),[c,f]=R.useState(null),{pool:m,isConnected:p}=Ut(),{user:h}=Wt();return R.useEffect(()=>{if(!h?.id||!p){h?.id||r(!1);return}(async()=>{try{r(!0),f(null),console.log("Fetching calendars for user:",h.id);const w=await m.getCalendars(h.id);console.log("Found calendars:",w),i(w)}catch(w){console.error("Failed to fetch calendars:",w),f(w.message)}finally{r(!1)}})()},[h?.id,p,m]),{calendars:a,loading:s,error:c,createCalendar:async(b,w="",E="#1a73e8")=>{try{f(null),console.log("Creating calendar:",{name:b,description:w,color:E});const N={id:"mock-"+Date.now(),dTag:Math.random().toString(36).substring(2,15),name:b,description:w,color:E,created_at:Math.floor(Date.now()/1e3),pubkey:h.id,relay:"local"};return i(T=>[N,...T]),N}catch(N){throw console.error("Failed to create calendar:",N),f(N.message),N}},deleteCalendar:async b=>{try{f(null),console.log("Deleting calendar:",b),i(w=>w.filter(E=>E.id!==b))}catch(w){throw console.error("Failed to delete calendar:",w),f(w.message),w}},updateCalendar:async(b,w)=>{try{f(null),console.log("Updating calendar:",b,w),i(E=>E.map(N=>N.id===b?{...N,...w}:N))}catch(E){throw console.error("Failed to update calendar:",E),f(E.message),E}},refetch:()=>{h?.id&&p&&(async()=>{try{r(!0);const w=await m.getCalendars(h.id);i(w)}catch(w){f(w.message)}finally{r(!1)}})()}}}const l0=R.createContext();function F2({children:a}){const{dayEvents:i,timeEvents:s,rsvpEvents:r,loading:c,error:f}=W2(),{calendars:m}=Yl(),[p,h]=R.useState({dayEvents:!0,timeEvents:!0,rsvps:!0}),[g,y]=R.useState(new Set),[v,b]=R.useState([]);R.useEffect(()=>{m.length>0&&y(new Set(m.map(A=>A.id)))},[m]);const w=()=>{const A=new Date,k=new Date(A);k.setDate(k.getDate()+1);const O=[{id:"mock-1",kind:31922,title:"Test Day Event",description:"This is a test all-day event",start:A.toISOString().split("T")[0],allDay:!0,color:"#4285f4"},{id:"mock-2",kind:31923,title:"Test Time Event",description:"This is a test timed event",start:new Date(A.getFullYear(),A.getMonth(),A.getDate(),14,0).toISOString(),end:new Date(A.getFullYear(),A.getMonth(),A.getDate(),15,0).toISOString(),allDay:!1,color:"#34a853"},{id:"mock-3",kind:31922,title:"Tomorrow Event",description:"Event for tomorrow",start:k.toISOString().split("T")[0],allDay:!0,color:"#4285f4"},{id:"mock-4",kind:31923,title:"Timezone Test Event",description:"Event with timezone information",start:Math.floor(new Date(A.getFullYear(),A.getMonth(),A.getDate(),16,0).getTime()/1e3).toString(),end:Math.floor(new Date(A.getFullYear(),A.getMonth(),A.getDate(),17,30).getTime()/1e3).toString(),startTimezone:"America/New_York",endTimezone:"America/New_York",allDay:!1,color:"#ff9900"},{id:"mock-5",kind:31923,title:"Cross-timezone Meeting",description:"Meeting spanning multiple time zones",start:Math.floor(new Date(A.getFullYear(),A.getMonth(),A.getDate(),10,0).getTime()/1e3).toString(),end:Math.floor(new Date(A.getFullYear(),A.getMonth(),A.getDate(),12,0).getTime()/1e3).toString(),startTimezone:"America/Los_Angeles",endTimezone:"America/New_York",allDay:!1,color:"#9c27b0"}];b(O),console.log("Added mock events with timezone support:",O)},E=A=>{h(k=>({...k,[A]:!k[A]}))},N=A=>{y(k=>{const O=new Set(k);return O.has(A)?O.delete(A):O.add(A),O})},T=A=>m.some(k=>{if(!g.has(k.id)||!k.eventReferences||k.eventReferences.length===0)return!1;const O=A.rawEvent?.tags?.find(H=>H[0]==="d")?.[1];if(!O)return!1;const B=`${A.kind}:${A.pubkey}:${O}`;return k.eventReferences.includes(B)}),j=A=>m.some(k=>{if(!k.eventReferences||k.eventReferences.length===0)return!1;const O=A.rawEvent?.tags?.find(H=>H[0]==="d")?.[1];if(!O)return!1;const B=`${A.kind}:${A.pubkey}:${O}`;return k.eventReferences.includes(B)}),M={dayEvents:i,timeEvents:s,rsvpEvents:r,loading:c,error:f,eventFilters:p,toggleEventFilter:E,getFilteredEvents:()=>{const A=[],k=new Set;v.length>0&&A.push(...v.filter(B=>!!(B.kind===31922&&p.dayEvents||B.kind===31923&&p.timeEvents)));const O=(B,H,Q)=>{if(k.has(B.id))return;const J=T(B),ne=j(B);if(J){const ce=B.rawEvent?.tags?.find(re=>re[0]==="d")?.[1];if(ce){const re=`${B.kind}:${B.pubkey}:${ce}`,Y=m.find(L=>g.has(L.id)&&L.eventReferences?.includes(re));if(Y){A.push({...B,color:Y.color,source:"calendar"}),k.add(B.id);return}}}ne||(A.push({...B,color:H,source:Q}),k.add(B.id))};return p.dayEvents&&i.forEach(B=>O(B,"#4285f4","dayEvents")),p.timeEvents&&s.forEach(B=>O(B,"#34a853","timeEvents")),p.rsvps&&r.forEach(B=>O(B,"#ea4335","rsvps")),A},addMockEvents:w,visibleCalendars:g,toggleCalendarVisibility:N};return u.jsx(l0.Provider,{value:M,children:a})}function Ud(){const a=R.useContext(l0);if(!a)throw new Error("useEventsContext must be used within an EventsProvider");return a}function eN(){const{navigateMiniCalendarNext:a,navigateMiniCalendarPrevious:i,getMiniCalendarDates:s,getMiniCalendarMonthName:r,navigateToDate:c,isToday:f}=Md(),{getFilteredEvents:m}=Ud(),p=["S","M","T","W","T","F","S"],h=s(),g=r(),y=b=>{b&&c(b)},v=b=>{if(!b)return!1;const w=b.toISOString().split("T")[0];return m().some(N=>{if(!N.start)return!1;try{let T;return N.start.includes("T")?T=new Date(N.start).toISOString().split("T")[0]:N.start.includes("-")?T=N.start:T=new Date(parseInt(N.start)*1e3).toISOString().split("T")[0],T===w}catch{return!1}})};return u.jsxs("div",{className:"mini-calendar",children:[u.jsxs("div",{className:"mini-calendar-header",children:[u.jsx("span",{children:g}),u.jsxs("div",{className:"mini-calendar-nav",children:[u.jsx("button",{onClick:i,children:""}),u.jsx("button",{onClick:a,children:""})]})]}),u.jsxs("div",{className:"mini-calendar-grid",children:[p.map((b,w)=>u.jsx("div",{className:"mini-calendar-day-header",children:b},w)),h.map((b,w)=>u.jsx("div",{className:`mini-calendar-date ${b&&f(b)?"today":""} ${b?"clickable":""} ${b&&v(b)?"has-events":""}`,onClick:()=>y(b),children:b?b.getDate():""},w))]})]})}const tN=["#1a73e8","#34a853","#ea4335","#fbbc04","#9c27b0","#ff6d00","#795548","#607d8b","#e91e63","#00bcd4","#4caf50","#ff9800","#673ab7","#3f51b5","#009688"];function nN({isOpen:a,onClose:i,onCreateCalendar:s}){const[r,c]=R.useState(""),[f,m]=R.useState(""),[p,h]=R.useState("#1a73e8"),[g,y]=R.useState(!1),v=async w=>{if(w.preventDefault(),!!r.trim()){y(!0);try{await s(r.trim(),f.trim(),p),c(""),m(""),h("#1a73e8"),i()}catch(E){console.error("Failed to create calendar:",E),alert("Failed to create calendar. Please try again.")}finally{y(!1)}}},b=()=>{g||(c(""),m(""),h("#1a73e8"),i())};return u.jsx(Rd,{open:a,onOpenChange:b,children:u.jsxs($r,{className:"sm:max-w-md",children:[u.jsxs(_d,{children:[u.jsx(Yr,{children:"Create New Calendar"}),u.jsx(Vr,{children:"Create a new calendar to organize your events"})]}),u.jsxs("form",{onSubmit:v,className:"calendar-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"calendar-name",className:"form-label",children:"Calendar Name *"}),u.jsx(Ol,{id:"calendar-name",type:"text",value:r,onChange:w=>c(w.target.value),placeholder:"Enter calendar name",required:!0,disabled:g})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"calendar-description",className:"form-label",children:"Description"}),u.jsx(Ol,{id:"calendar-description",type:"text",value:f,onChange:w=>m(w.target.value),placeholder:"Enter calendar description (optional)",disabled:g})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Color"}),u.jsx("div",{className:"color-picker",children:tN.map(w=>u.jsx("button",{type:"button",className:`color-option ${p===w?"selected":""}`,style:{backgroundColor:w},onClick:()=>h(w),disabled:g,title:w},w))})]}),u.jsxs("div",{className:"form-actions",children:[u.jsx(Et,{type:"button",variant:"outline",onClick:b,disabled:g,children:"Cancel"}),u.jsx(Et,{type:"submit",disabled:!r.trim()||g,children:g?"Creating...":"Create Calendar"})]})]})]})})}function aN(){const{calendars:a,loading:i,createCalendar:s}=Yl(),{dayEvents:r,timeEvents:c,rsvpEvents:f,eventFilters:m,toggleEventFilter:p,addMockEvents:h,visibleCalendars:g,toggleCalendarVisibility:y}=Ud(),[v,b]=R.useState(!1),w=N=>{y(N)},E=async(N,T,j)=>{const _=await s(N,T,j);y(_.id)};return u.jsxs("div",{className:"calendar-list",children:[u.jsxs("div",{className:"calendar-section",children:[u.jsxs("div",{className:"calendar-section-header",children:[u.jsx("h3",{className:"calendar-section-title",children:"My calendars"}),u.jsx("button",{className:"add-calendar-btn",onClick:()=>b(!0),title:"Create new calendar",children:"+"})]}),i?u.jsx("div",{className:"calendar-loading",children:"Loading calendars..."}):a.length===0?u.jsxs("div",{className:"calendar-empty",children:[u.jsx("p",{children:"No calendars found"}),u.jsx("button",{className:"create-first-calendar-btn",onClick:()=>b(!0),children:"Create your first calendar"})]}):a.map(N=>u.jsxs("div",{className:"calendar-item",children:[u.jsx("input",{type:"checkbox",checked:g.has(N.id),onChange:()=>w(N.id),style:{accentColor:N.color}}),u.jsx("div",{className:"calendar-color",style:{backgroundColor:N.color}}),u.jsx("span",{className:"calendar-name",title:N.description,children:N.name})]},N.id))]}),u.jsxs("div",{className:"calendar-section",children:[u.jsx("h3",{className:"calendar-section-title",children:"Event Types"}),u.jsxs("div",{className:"calendar-item",children:[u.jsx("input",{type:"checkbox",id:"day-events",checked:m.dayEvents,onChange:()=>p("dayEvents"),style:{accentColor:"#4285f4"}}),u.jsx("div",{className:"calendar-color",style:{backgroundColor:"#4285f4"}}),u.jsxs("span",{className:"calendar-name",children:["Day Events ",r.length>0&&`(${r.length})`]})]}),u.jsxs("div",{className:"calendar-item",children:[u.jsx("input",{type:"checkbox",id:"time-events",checked:m.timeEvents,onChange:()=>p("timeEvents"),style:{accentColor:"#34a853"}}),u.jsx("div",{className:"calendar-color",style:{backgroundColor:"#34a853"}}),u.jsxs("span",{className:"calendar-name",children:["Time Events ",c.length>0&&`(${c.length})`]})]}),u.jsxs("div",{className:"calendar-item",children:[u.jsx("input",{type:"checkbox",id:"rsvps",checked:m.rsvps,onChange:()=>p("rsvps"),style:{accentColor:"#ea4335"}}),u.jsx("div",{className:"calendar-color",style:{backgroundColor:"#ea4335"}}),u.jsxs("span",{className:"calendar-name",children:["RSVPs ",f.length>0&&`(${f.length})`]})]})]}),u.jsx(nN,{isOpen:v,onClose:()=>b(!1),onCreateCalendar:E})]})}function lN({isOpen:a,onClose:i,onEventCreated:s}){const r=Va(),{user:c}=Wt(),{pool:f}=Ut(),{calendars:m}=Yl(),[p,h]=R.useState(""),[g,y]=R.useState(""),[v,b]=R.useState(""),[w,E]=R.useState(""),[N,T]=R.useState(""),[j,_]=R.useState(()=>{const se=Intl.DateTimeFormat().resolvedOptions().timeZone;return{"America/New_York":"America/New_York","America/Chicago":"America/Chicago","America/Denver":"America/Denver","America/Los_Angeles":"America/Los_Angeles","America/Phoenix":"America/Denver","America/Detroit":"America/New_York","America/Toronto":"America/New_York","America/Vancouver":"America/Los_Angeles","Europe/London":"Europe/London","Europe/Paris":"Europe/Paris","Europe/Berlin":"Europe/Berlin","Europe/Rome":"Europe/Rome","Europe/Madrid":"Europe/Paris","Europe/Amsterdam":"Europe/Paris","Asia/Tokyo":"Asia/Tokyo","Asia/Shanghai":"Asia/Shanghai","Asia/Seoul":"Asia/Seoul","Asia/Singapore":"Asia/Singapore","Asia/Kolkata":"Asia/Kolkata","Asia/Dubai":"Asia/Dubai","Australia/Sydney":"Australia/Sydney","Australia/Melbourne":"Australia/Sydney","Pacific/Honolulu":"Pacific/Honolulu","Pacific/Auckland":"Pacific/Auckland"}[se]||se}),[M,A]=R.useState(""),[k,O]=R.useState(""),[B,H]=R.useState(""),[Q,J]=R.useState(""),[ne,ce]=R.useState(""),[re,Y]=R.useState(""),[L,D]=R.useState(""),[$,W]=R.useState(""),[ae,C]=R.useState(new Set),[Z,ee]=R.useState(!1),[le,P]=R.useState(!1);R.useEffect(()=>{if(a){const se=new Date,Ee=new Date(se.getTime()+30*6e4),Ce=new Date(Ee.getTime()+60*6e4);y(Ee.toISOString().split("T")[0]),b(Ee.toTimeString().slice(0,5)),E(Ce.toISOString().split("T")[0]),T(Ce.toTimeString().slice(0,5))}},[a]);const oe=se=>{se.target===se.currentTarget&&i()},ie=se=>{C(Ee=>{const Ce=new Set(Ee);return Ce.has(se)?Ce.delete(se):Ce.add(se),Ce})},ue=async()=>{if(!p.trim()){alert("Please enter a title for the event");return}if(!window.nostr){alert("Nostr extension not available");return}try{P(!0);const se={kind:Z?31922:31923,title:p.trim(),description:k.trim(),summary:B.trim(),image:Q.trim(),location:M.trim(),geohash:$.trim(),hashtags:L.trim(),startTimezone:j,endTimezone:j};if(Z)se.start=g,se.end=w||g,console.log("All-day event debug:",{startDate:g,endDate:w,finalStart:se.start,finalEnd:se.end});else{const et=new Date(`${g}T${v}`),Ae=new Date(`${w}T${N}`);se.start=Math.floor(et.getTime()/1e3).toString(),se.end=Math.floor(Ae.getTime()/1e3).toString(),console.log("Time conversion debug:",{startDate:g,startTime:v,endDate:w,endTime:N,startDateTime:et.toISOString(),endDateTime:Ae.toISOString(),startUnix:se.start,endUnix:se.end,timezone:j})}console.log("Creating event with data:",se);const Ee=await f.createEvent(se);console.log("Generated event:",Ee),ne.trim()&&ne.split(",").map(Ae=>Ae.trim()).filter(Boolean).forEach(Ae=>{(Ae.startsWith("npub")||Ae.length===64)&&Ee.tags.push(["p",Ae])}),re.trim()&&re.split(",").map(Ae=>Ae.trim()).filter(Boolean).forEach(Ae=>{Ae.startsWith("http")&&Ee.tags.push(["r",Ae])}),L.trim()&&L.split(",").map(Ae=>Ae.trim().replace(/^#/,"")).filter(Boolean).forEach(Ae=>{Ee.tags.push(["t",Ae])}),console.log("Event before signing:",Ee);const Ce=await window.nostr.signEvent(Ee);console.log("Event after signing:",Ce);const Be=await f.publishEvent(Ce);console.log("Publish result:",Be),ae.size>0&&await pe(Ce,ae),alert("Event created successfully!"),s&&s(Ce),i(),Se()}catch(se){console.error("Failed to create event:",se),alert("Failed to create event: "+se.message)}finally{P(!1)}},pe=async(se,Ee)=>{for(const Ce of Ee)try{const Be=m.find(qn=>qn.id===Ce);if(!Be)continue;const et=`${se.kind}:${se.pubkey}:${se.tags.find(qn=>qn[0]==="d")?.[1]}`,Ae={kind:31924,created_at:Math.floor(Date.now()/1e3),tags:[["d",Be.dTag],["title",Be.name],["color",Be.color],["a",et]],content:JSON.stringify({name:Be.name,description:Be.description||""})},He=await window.nostr.signEvent(Ae);await f.publishEvent(He),console.log(`Updated calendar ${Be.name} with new event`)}catch(Be){console.error(`Failed to update calendar ${Ce}:`,Be)}},Se=()=>{h(""),A(""),O(""),H(""),J(""),ce(""),Y(""),D(""),W(""),C(new Set),ee(!1)},ke=()=>{const se={title:p,description:k,location:M,startDate:g,startTime:v,endDate:w,endTime:N,timezone:j,eventType:Z?"all-day":"timed",calendarId:ae.size>0?Array.from(ae)[0]:"",summary:B,image:Q,guests:ne,references:re,hashtags:L,geohash:$,selectedCalendars:Array.from(ae)};r("/new-event",{state:{prefillData:se}}),i()};return a?u.jsx("div",{className:"modal-overlay",onClick:oe,children:u.jsxs("div",{className:"event-creation-modal",children:[u.jsx("div",{className:"modal-header",children:u.jsx("button",{className:"close-btn",onClick:i,children:""})}),u.jsxs("div",{className:"modal-content",children:[u.jsx("div",{className:"form-group title-group",children:u.jsx("input",{type:"text",placeholder:"Add title",className:"title-input",value:p,onChange:se=>h(se.target.value)})}),u.jsxs("div",{className:"form-group datetime-group",children:[u.jsx("div",{className:"datetime-icon",children:""}),u.jsxs("div",{className:"datetime-content",children:[u.jsx("div",{className:"datetime-controls",children:u.jsxs("label",{className:"all-day-toggle",children:[u.jsx("input",{type:"checkbox",checked:Z,onChange:se=>ee(se.target.checked)}),"All day"]})}),u.jsxs("div",{className:"datetime-inputs",children:[u.jsxs("div",{className:"datetime-row",children:[u.jsx("input",{type:"date",value:g,onChange:se=>y(se.target.value)}),!Z&&u.jsx("input",{type:"time",value:v,onChange:se=>b(se.target.value)}),!Z&&u.jsxs("select",{className:"timezone-select",value:j,onChange:se=>_(se.target.value),children:[u.jsx("option",{value:"Pacific/Niue",children:"UTC-11 (Niue)"}),u.jsx("option",{value:"Pacific/Honolulu",children:"UTC-10 (Hawaii)"}),u.jsx("option",{value:"Pacific/Marquesas",children:"UTC-9:30 (Marquesas)"}),u.jsx("option",{value:"America/Anchorage",children:"UTC-9 (Alaska)"}),u.jsx("option",{value:"America/Los_Angeles",children:"UTC-8 (Los Angeles)"}),u.jsx("option",{value:"America/Denver",children:"UTC-7 (Denver)"}),u.jsx("option",{value:"America/Chicago",children:"UTC-6 (Chicago)"}),u.jsx("option",{value:"America/New_York",children:"UTC-5 (New York)"}),u.jsx("option",{value:"America/Halifax",children:"UTC-4 (Halifax)"}),u.jsx("option",{value:"America/St_Johns",children:"UTC-3:30 (Newfoundland)"}),u.jsx("option",{value:"America/Sao_Paulo",children:"UTC-3 (So Paulo)"}),u.jsx("option",{value:"America/Noronha",children:"UTC-2 (Fernando de Noronha)"}),u.jsx("option",{value:"Atlantic/Azores",children:"UTC-1 (Azores)"}),u.jsx("option",{value:"UTC",children:"UTC+0 (UTC)"}),u.jsx("option",{value:"Europe/London",children:"UTC+0 (London)"}),u.jsx("option",{value:"Europe/Paris",children:"UTC+1 (Paris)"}),u.jsx("option",{value:"Europe/Berlin",children:"UTC+1 (Berlin)"}),u.jsx("option",{value:"Europe/Rome",children:"UTC+1 (Rome)"}),u.jsx("option",{value:"Europe/Athens",children:"UTC+2 (Athens)"}),u.jsx("option",{value:"Europe/Helsinki",children:"UTC+2 (Helsinki)"}),u.jsx("option",{value:"Africa/Cairo",children:"UTC+2 (Cairo)"}),u.jsx("option",{value:"Europe/Moscow",children:"UTC+3 (Moscow)"}),u.jsx("option",{value:"Africa/Nairobi",children:"UTC+3 (Nairobi)"}),u.jsx("option",{value:"Asia/Dubai",children:"UTC+4 (Dubai)"}),u.jsx("option",{value:"Asia/Kabul",children:"UTC+4:30 (Kabul)"}),u.jsx("option",{value:"Asia/Karachi",children:"UTC+5 (Karachi)"}),u.jsx("option",{value:"Asia/Kolkata",children:"UTC+5:30 (Mumbai)"}),u.jsx("option",{value:"Asia/Kathmandu",children:"UTC+5:45 (Kathmandu)"}),u.jsx("option",{value:"Asia/Dhaka",children:"UTC+6 (Dhaka)"}),u.jsx("option",{value:"Asia/Yangon",children:"UTC+6:30 (Yangon)"}),u.jsx("option",{value:"Asia/Bangkok",children:"UTC+7 (Bangkok)"}),u.jsx("option",{value:"Asia/Shanghai",children:"UTC+8 (Shanghai)"}),u.jsx("option",{value:"Asia/Singapore",children:"UTC+8 (Singapore)"}),u.jsx("option",{value:"Australia/Eucla",children:"UTC+8:45 (Eucla)"}),u.jsx("option",{value:"Asia/Tokyo",children:"UTC+9 (Tokyo)"}),u.jsx("option",{value:"Asia/Seoul",children:"UTC+9 (Seoul)"}),u.jsx("option",{value:"Australia/Adelaide",children:"UTC+9:30 (Adelaide)"}),u.jsx("option",{value:"Australia/Sydney",children:"UTC+10 (Sydney)"}),u.jsx("option",{value:"Australia/Lord_Howe",children:"UTC+10:30 (Lord Howe)"}),u.jsx("option",{value:"Pacific/Noumea",children:"UTC+11 (Noumea)"}),u.jsx("option",{value:"Pacific/Norfolk",children:"UTC+11:30 (Norfolk)"}),u.jsx("option",{value:"Pacific/Auckland",children:"UTC+12 (Auckland)"}),u.jsx("option",{value:"Pacific/Chatham",children:"UTC+12:45 (Chatham)"}),u.jsx("option",{value:"Pacific/Tongatapu",children:"UTC+13 (Tongatapu)"}),u.jsx("option",{value:"Pacific/Kiritimati",children:"UTC+14 (Kiritimati)"})]})]}),u.jsxs("div",{className:"datetime-row",children:[u.jsx("input",{type:"date",value:w,onChange:se=>E(se.target.value)}),!Z&&u.jsx("input",{type:"time",value:N,onChange:se=>T(se.target.value)})]})]})]})]}),u.jsxs("div",{className:"form-group action-group",children:[u.jsx("div",{className:"action-icon",children:""}),u.jsx("input",{type:"text",placeholder:"Brief summary (Optional)",value:B,onChange:se=>H(se.target.value)})]}),u.jsxs("div",{className:"form-group action-group",children:[u.jsx("div",{className:"action-icon",children:""}),u.jsx("input",{type:"text",placeholder:"Add guests - comma-separated pubkeys (Optional)",value:ne,onChange:se=>ce(se.target.value)})]}),u.jsxs("div",{className:"form-group action-group",children:[u.jsx("div",{className:"action-icon",children:""}),u.jsx("input",{type:"text",placeholder:"Add location (Optional)",value:M,onChange:se=>A(se.target.value)})]}),u.jsxs("div",{className:"form-group action-group",children:[u.jsx("div",{className:"action-icon",children:"#"}),u.jsx("input",{type:"text",placeholder:"Add hashtags - comma-separated (Optional)",value:L,onChange:se=>D(se.target.value)})]}),u.jsxs("div",{className:"form-group action-group",children:[u.jsx("div",{className:"action-icon",children:""}),u.jsx("input",{type:"text",placeholder:"Add image URL (Optional)",value:Q,onChange:se=>J(se.target.value)})]}),u.jsxs("div",{className:"form-group action-group",children:[u.jsx("div",{className:"action-icon",children:""}),u.jsx("input",{type:"text",placeholder:"Add references - comma-separated URLs (Optional)",value:re,onChange:se=>Y(se.target.value)})]}),u.jsxs("div",{className:"form-group action-group",children:[u.jsx("div",{className:"action-icon",children:""}),u.jsx("input",{type:"text",placeholder:"Add geohash (Optional)",value:$,onChange:se=>W(se.target.value)})]}),u.jsx("div",{className:"form-group",children:u.jsx("textarea",{placeholder:"Add description (Optional)",value:k,onChange:se=>O(se.target.value),rows:"3"})}),m.length>0&&u.jsxs("div",{className:"form-group calendar-assignment",children:[u.jsx("h4",{children:"Add to calendars:"}),u.jsx("div",{className:"calendar-options",children:m.map(se=>u.jsxs("label",{className:"calendar-option",children:[u.jsx("input",{type:"checkbox",checked:ae.has(se.id),onChange:()=>ie(se.id)}),u.jsx("div",{className:"calendar-color",style:{backgroundColor:se.color}}),u.jsx("span",{className:"calendar-name",children:se.name})]},se.id))})]}),u.jsxs("div",{className:"modal-actions",children:[u.jsx("button",{className:"more-options-btn",onClick:ke,children:"More options"}),u.jsx("button",{className:"save-btn",onClick:ue,disabled:le,children:le?"Saving...":"Save"})]})]})]})}):null}function iN(){const[a,i]=R.useState(!1),s=r=>{console.log("New event created:",r)};return u.jsxs("aside",{className:"sidebar",children:[u.jsxs("button",{className:"create-btn",onClick:()=>i(!0),children:[u.jsx("span",{className:"create-icon",children:"+"}),u.jsx("span",{children:"Create"})]}),u.jsx(eN,{}),u.jsx(aN,{}),u.jsx(lN,{isOpen:a,onClose:()=>i(!1),onEventCreated:s})]})}function ip({event:a,isOpen:i,onClose:s}){const[r,c]=R.useState(!1),[f,m]=R.useState(null),[p,h]=R.useState(""),{pool:g}=Ut(),{calendars:y}=Yl();R.useEffect(()=>{a&&a.pubkey&&g&&g.getProfile(a.pubkey).then(_=>{m(_)}).catch(_=>{console.error("Failed to fetch organizer profile:",_)})},[a,g]);const v=()=>{if(!a||!y)return null;const _=a.rawEvent?.tags?.find(A=>A[0]==="d")?.[1];if(!_)return null;const M=`${a.kind}:${a.pubkey}:${_}`;return y.find(A=>A.eventReferences?.includes(M))},b=async()=>{const _=v();if(!_||!a||!window.nostr){alert("Unable to remove event from calendar");return}if(window.confirm(`Remove "${a.title||"this event"}" from calendar "${_.name}"?

This will update the calendar to no longer reference this event.`))try{const A=a.rawEvent?.tags?.find(J=>J[0]==="d")?.[1];if(!A)throw new Error("Event does not have a d tag");const k=`${a.kind}:${a.pubkey}:${A}`,O=_.eventReferences?.filter(J=>J!==k)||[],B={kind:31924,created_at:Math.floor(Date.now()/1e3),tags:[["d",_.dTag],["title",_.name],["color",_.color],...O.map(J=>["a",J])],content:JSON.stringify({name:_.name,description:_.description||""})},H=await window.nostr.signEvent(B);if(!g||!g.relays)throw new Error("Nostr pool not available");const Q=[];g.relays.forEach((J,ne)=>{J.connected&&Q.push(new Promise((ce,re)=>{const Y=["EVENT",H];J.ws.send(JSON.stringify(Y)),setTimeout(()=>{ce()},1e3)}))}),await Promise.allSettled(Q),alert(`Event removed from calendar "${_.name}"`),s()}catch(A){console.error("Failed to remove event from calendar:",A),alert("Failed to remove event from calendar: "+A.message)}};if(!i||!a)return null;const w=async()=>{if(a&&a.pubkey)try{const _=Fe.npubEncode(a.pubkey);await navigator.clipboard.writeText(_),h("Copied!"),setTimeout(()=>h(""),2e3)}catch(_){console.error("Failed to copy npub:",_),h("Failed to copy"),setTimeout(()=>h(""),2e3)}},E=async()=>{if(!a||!window.nostr){alert("Nostr extension not available");return}const _=a.isRSVP?"remove your RSVP for":"delete";if(window.confirm(`Are you sure you want to ${_} "${a.title||"this event"}"?

This will publish a deletion event (NIP-09) to the relays. This action cannot be undone.`))try{let A=a.id,k=a.kind,O="Deleted event";a.isRSVP&&a.rsvpEventId&&(A=a.rsvpEventId,k=31925,O="Deleted RSVP");const B={kind:5,content:O,tags:[["e",A],["k",k.toString()]],created_at:Math.floor(Date.now()/1e3)},H=await window.nostr.signEvent(B);if(!g||!g.relays)throw new Error("Nostr pool not available");const Q=[];g.relays.forEach((ne,ce)=>{ne.connected&&Q.push(new Promise((re,Y)=>{const L=["EVENT",H];ne.ws.send(JSON.stringify(L)),setTimeout(()=>{re()},1e3)}))}),await Promise.allSettled(Q);const J=a.isRSVP?"RSVP removal published to relays":"Delete event published to relays";alert(J),s()}catch(A){console.error("Failed to delete event:",A),alert("Failed to delete event: "+A.message)}},N=(_,M,A,k)=>{if(!_)return"No time specified";try{let O,B=!1;if(_.includes("T"))O=new Date(_);else if(_.includes("-")&&_.includes(":"))O=new Date(_);else if(_.includes("-")&&_.length===10)O=new Date(_+"T00:00:00"),B=!0;else if(!isNaN(_))O=new Date(parseInt(_)*1e3);else return _;const H={weekday:"long",year:"numeric",month:"long",day:"numeric"};B||(H.hour="numeric",H.minute="2-digit",A&&(H.timeZone=A));let Q=O.toLocaleDateString("en-US",H);if(M&&M!==_){let J;if(M.includes("T"))J=new Date(M);else if(M.includes("-")&&M.includes(":"))J=new Date(M);else if(M.includes("-")&&M.length===10)J=new Date(M+"T00:00:00");else if(!isNaN(M))J=new Date(parseInt(M)*1e3);else return Q;const ne=B?{year:"numeric",month:"long",day:"numeric"}:{hour:"numeric",minute:"2-digit"};!B&&k&&(ne.timeZone=k);const ce=J.toLocaleDateString("en-US",ne);Q+=` - ${ce}`}return Q}catch{return _}},T=_=>{_.target===_.currentTarget&&s()},j=()=>{c(!r)};return u.jsx("div",{className:"modal-overlay",onClick:T,children:u.jsxs("div",{className:"event-modal",children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("button",{className:"close-btn",onClick:s,children:""}),u.jsxs("div",{className:"options-container",children:[u.jsx("button",{className:"options-btn",onClick:j,children:""}),r&&u.jsxs("div",{className:"options-menu",children:[u.jsx("button",{className:"option-item",children:"Edit"}),u.jsx("button",{className:"option-item",onClick:E,children:a.isRSVP?"Remove RSVP":"Delete"}),v()&&u.jsx("button",{className:"option-item",onClick:b,children:"Remove from Calendar"}),u.jsx("button",{className:"option-item",children:"Share"})]})]})]}),u.jsxs("div",{className:"modal-content",children:[u.jsx("div",{className:"event-title",children:a.title||"Untitled Event"}),u.jsxs("div",{className:"event-details",children:[u.jsxs("div",{className:"event-time",children:[u.jsx("span",{className:"detail-icon",children:""}),u.jsx("span",{className:"detail-text",children:N(a.start,a.end,a.startTimezone,a.endTimezone)})]}),a.location&&u.jsxs("div",{className:"event-location",children:[u.jsx("span",{className:"detail-icon",children:""}),u.jsx("span",{className:"detail-text",children:a.location})]}),a.description&&u.jsxs("div",{className:"event-description",children:[u.jsx("span",{className:"detail-icon",children:""}),u.jsx("div",{className:"detail-text description-text",children:a.description})]}),a.rawEvent?.tags?.find(_=>_[0]==="summary")?.[1]&&u.jsxs("div",{className:"event-summary",children:[u.jsx("span",{className:"detail-icon",children:""}),u.jsx("div",{className:"detail-text",children:a.rawEvent.tags.find(_=>_[0]==="summary")[1]})]}),a.rawEvent?.tags?.find(_=>_[0]==="image")?.[1]&&u.jsxs("div",{className:"event-image",children:[u.jsx("span",{className:"detail-icon",children:""}),u.jsx("div",{className:"detail-text",children:u.jsx("a",{href:a.rawEvent.tags.find(_=>_[0]==="image")[1],target:"_blank",rel:"noopener noreferrer",children:"View Image"})})]}),a.rawEvent?.tags?.filter(_=>_[0]==="p").length>0&&u.jsxs("div",{className:"event-guests",children:[u.jsx("span",{className:"detail-icon",children:""}),u.jsxs("div",{className:"detail-text",children:[u.jsxs("strong",{children:["Guests (",a.rawEvent.tags.filter(_=>_[0]==="p").length,"):"]}),u.jsx("div",{className:"guests-list",children:a.rawEvent.tags.filter(_=>_[0]==="p").map((_,M)=>u.jsxs("div",{className:"guest-item",children:[_[1].startsWith("npub")?_[1]:Fe.npubEncode(_[1]),_[3]&&u.jsxs("span",{className:"guest-role",children:[" (",_[3],")"]})]},M))})]})]}),a.rawEvent?.tags?.filter(_=>_[0]==="t").length>0&&u.jsxs("div",{className:"event-hashtags",children:[u.jsx("span",{className:"detail-icon",children:"#"}),u.jsxs("div",{className:"detail-text",children:[u.jsx("strong",{children:"Hashtags:"}),u.jsx("div",{className:"hashtags-list",children:a.rawEvent.tags.filter(_=>_[0]==="t").map((_,M)=>u.jsxs("span",{className:"hashtag",children:["#",_[1]]},M))})]})]}),a.rawEvent?.tags?.filter(_=>_[0]==="r").length>0&&u.jsxs("div",{className:"event-references",children:[u.jsx("span",{className:"detail-icon",children:""}),u.jsxs("div",{className:"detail-text",children:[u.jsx("strong",{children:"References:"}),u.jsx("div",{className:"references-list",children:a.rawEvent.tags.filter(_=>_[0]==="r").map((_,M)=>u.jsx("div",{className:"reference-item",children:u.jsx("a",{href:_[1],target:"_blank",rel:"noopener noreferrer",children:_[1]})},M))})]})]}),a.rawEvent?.tags?.find(_=>_[0]==="g")?.[1]&&u.jsxs("div",{className:"event-geohash",children:[u.jsx("span",{className:"detail-icon",children:""}),u.jsxs("div",{className:"detail-text",children:[u.jsx("strong",{children:"Geohash:"})," ",a.rawEvent.tags.find(_=>_[0]==="g")[1]]})]}),(a.startTimezone||a.endTimezone)&&u.jsxs("div",{className:"event-timezone",children:[u.jsx("span",{className:"detail-icon",children:""}),u.jsxs("span",{className:"detail-text",children:[a.startTimezone&&`Start: ${a.startTimezone}`,a.startTimezone&&a.endTimezone&&a.startTimezone!==a.endTimezone&&", ",a.endTimezone&&a.startTimezone!==a.endTimezone&&`End: ${a.endTimezone}`]})]}),u.jsxs("div",{className:"event-type",children:[u.jsx("span",{className:"detail-icon",children:""}),u.jsx("span",{className:"detail-text",children:a.kind===31922?"Day Event":a.kind===31923?"Time Event":a.isRSVP?"RSVP Event":"Event"})]}),v()&&u.jsxs("div",{className:"event-calendar",children:[u.jsx("span",{className:"detail-icon",children:""}),u.jsxs("span",{className:"detail-text",children:[u.jsx("strong",{children:"Calendar:"}),u.jsx("span",{className:"calendar-name-tag",style:{backgroundColor:v().color+"20",color:v().color,padding:"2px 8px",borderRadius:"4px",marginLeft:"8px",border:`1px solid ${v().color}40`},children:v().name})]})]}),a.pubkey&&u.jsxs("div",{className:"event-organizer",children:[u.jsx("span",{className:"detail-icon",children:""}),u.jsxs("span",{className:"detail-text organizer-name",onClick:w,title:"Click to copy npub",children:[f?.display_name||f?.name||Fe.npubEncode(a.pubkey),p&&u.jsx("span",{className:"copy-status",children:p})]})]})]})]})]})})}function sN(){const{getWeekDates:a,isToday:i,view:s,currentDate:r,navigateToDate:c}=Md(),{getFilteredEvents:f}=Ud(),m=a(),p=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],h=Array.from({length:24},(Y,L)=>L),g=R.useRef(null),[y,v]=R.useState(null),[b,w]=R.useState(!1),E=f(),N=Y=>{v(Y),w(!0)},T=()=>{w(!1),v(null)},j=Y=>{if(!Y)return[];const L=Y.getFullYear(),D=String(Y.getMonth()+1).padStart(2,"0"),$=String(Y.getDate()).padStart(2,"0"),W=`${L}-${D}-${$}`;return E.filter(ae=>{if(!ae.start)return!1;try{let C;if(ae.start.includes("T"))C=new Date(ae.start).toISOString().split("T")[0];else if(ae.start.includes("-"))C=ae.start.split("T")[0];else{if(isNaN(ae.start))return console.log("Unknown date format for event filtering:",ae.start),!1;{const Z=parseInt(ae.start)*1e3,ee=new Date(Z),le=ee.getFullYear(),P=String(ee.getMonth()+1).padStart(2,"0"),oe=String(ee.getDate()).padStart(2,"0");C=`${le}-${P}-${oe}`}}return C===W}catch(C){return console.error("Error parsing event date:",ae.start,C),!1}})},_=()=>{const Y={};return M().dates.forEach((D,$)=>{Y[$]=j(D)}),Y},M=()=>s==="day"?{dates:[r],dayLabels:[r.toLocaleDateString("en-US",{weekday:"long"})],gridCols:1}:s==="week"?{dates:m,dayLabels:p,gridCols:7}:s==="month"?A():{dates:m,dayLabels:p,gridCols:7},A=()=>{const Y=r.getFullYear(),L=r.getMonth(),D=new Date(Y,L,1),$=new Date(Y,L+1,0),W=D.getDay(),ae=$.getDate(),C=[];for(let Z=0;Z<W;Z++)C.push(null);for(let Z=1;Z<=ae;Z++)C.push(new Date(Y,L,Z));for(;C.length<42;)C.push(null);return{dates:C,dayLabels:p,gridCols:7}},k=M(),O=_(),B=Y=>{if(!Y.start)return 0;try{let L;if(Y.start.includes("T"))L=new Date(Y.start);else if(Y.start.includes("-")&&Y.start.includes(":"))L=new Date(Y.start);else if(!isNaN(Y.start))L=new Date(parseInt(Y.start)*1e3);else return console.log("Unknown date format for event hour:",Y.start),0;return L.getHours()}catch(L){return console.error("Error parsing event hour:",Y.start,L),0}},H=Y=>{if(!Y.start||!Y.end)return 1;try{let L,D;if(Y.start.includes("T"))L=new Date(Y.start);else if(Y.start.includes("-")&&Y.start.includes(":"))L=new Date(Y.start);else if(!isNaN(Y.start))L=new Date(parseInt(Y.start)*1e3);else return 1;if(Y.end.includes("T"))D=new Date(Y.end);else if(Y.end.includes("-")&&Y.end.includes(":"))D=new Date(Y.end);else if(!isNaN(Y.end))D=new Date(parseInt(Y.end)*1e3);else return 1;const W=(D.getTime()-L.getTime())/(1e3*60*60);return Math.max(.5,W)}catch(L){return console.error("Error calculating event duration:",L),1}},Q=Y=>{if(!Y.start)return 0;try{let L;if(Y.start.includes("T"))L=new Date(Y.start);else if(Y.start.includes("-")&&Y.start.includes(":"))L=new Date(Y.start);else if(!isNaN(Y.start))L=new Date(parseInt(Y.start)*1e3);else return 0;return L.getMinutes()/60*48}catch(L){return console.error("Error calculating event offset:",L),0}},J=Y=>{if(!Y.start)return 0;try{let L;if(Y.start.includes("T"))L=new Date(Y.start);else if(Y.start.includes("-")&&Y.start.includes(":"))L=new Date(Y.start);else if(!isNaN(Y.start))L=new Date(parseInt(Y.start)*1e3);else return 0;return L.getTime()}catch(L){return console.error("Error getting event start time:",L),0}},ne=Y=>{if(!Y.end)return J(Y)+60*60*1e3;try{let L;if(Y.end.includes("T"))L=new Date(Y.end);else if(Y.end.includes("-")&&Y.end.includes(":"))L=new Date(Y.end);else if(!isNaN(Y.end))L=new Date(parseInt(Y.end)*1e3);else return J(Y)+60*60*1e3;return L.getTime()}catch(L){return console.error("Error getting event end time:",L),J(Y)+60*60*1e3}},ce=Y=>{const L=Y.filter(W=>!W.allDay),D=[];return[...L].sort((W,ae)=>J(W)-J(ae)).forEach((W,ae)=>{const C=J(W),Z=ne(W),ee=D.filter(ue=>{const pe=J(ue.event),Se=ne(ue.event);return C<Se&&Z>pe});let le=0;const P=ee.map(ue=>ue.column);for(;P.includes(le);)le++;const ie=Math.max(le,...P)+1;ee.forEach(ue=>{ue.totalColumns=Math.max(ue.totalColumns||1,ie)}),D.push({event:W,column:le,totalColumns:ie,startHour:B(W),duration:H(W),offset:Q(W)})}),D},re=Y=>{if(!Y.start)return"";try{let L,D;if(Y.start.includes("T"))L=new Date(Y.start);else if(Y.start.includes("-")&&Y.start.includes(":"))L=new Date(Y.start);else if(!isNaN(Y.start))L=new Date(parseInt(Y.start)*1e3);else return console.log("Unknown date format for event time:",Y.start),Y.start;const $=ae=>{const C=ae.getHours(),Z=ae.getMinutes(),ee=C>=12?"PM":"AM",le=C%12||12,P=Z.toString().padStart(2,"0");return`${le}:${P} ${ee}`},W=$(L);if(Y.end)try{if(Y.end.includes("T")?D=new Date(Y.end):Y.end.includes("-")&&Y.end.includes(":")?D=new Date(Y.end):isNaN(Y.end)||(D=new Date(parseInt(Y.end)*1e3)),D){const ae=$(D);return`${W} - ${ae}`}}catch(ae){console.error("Error parsing end time:",Y.end,ae)}return W}catch(L){return console.error("Error formatting event time:",Y.start,L),Y.start}};return R.useEffect(()=>{setTimeout(()=>{if(g.current){const L=new Date().getHours(),$=Math.max(0,(L-2)*48);g.current.scrollTop=$}},100)},[]),R.useEffect(()=>{if(g.current){const Y=new Date().getHours(),D=Math.max(0,(Y-2)*48);g.current.scrollTop=D}},[s]),s==="month"?u.jsxs("main",{className:"calendar-view",children:[u.jsx("div",{className:"calendar-header",style:{gridTemplateColumns:`repeat(${k.gridCols}, 1fr)`},children:k.dayLabels.map((Y,L)=>u.jsx("div",{className:"day-header",children:u.jsx("div",{className:"day-name",children:Y})},L))}),u.jsx("div",{className:"month-view",children:k.dates.map((Y,L)=>u.jsxs("div",{className:`month-day ${Y&&i(Y)?"today":""} ${Y?"clickable":"empty"}`,onClick:()=>Y&&c(Y),children:[u.jsx("div",{className:"month-day-number",children:Y?Y.getDate():""}),Y&&O[L]&&O[L].length>0&&u.jsxs("div",{className:"month-events",children:[O[L].slice(0,3).map((D,$)=>u.jsx("div",{className:"month-event",style:{backgroundColor:D.color},title:D.title,onClick:W=>{W.stopPropagation(),N(D)},children:D.title},$)),O[L].length>3&&u.jsxs("div",{className:"month-event-more",children:["+",O[L].length-3," more"]})]})]},L))}),u.jsx(ip,{event:y,isOpen:b,onClose:T})]}):u.jsxs("main",{className:"calendar-view",children:[u.jsxs("div",{className:"calendar-header",style:{gridTemplateColumns:`60px repeat(${k.gridCols}, 1fr)`},children:[u.jsx("div",{className:"timezone",children:"GMT-04"}),k.dayLabels.map((Y,L)=>u.jsxs("div",{className:"day-header",children:[u.jsx("div",{className:"day-name",children:Y}),u.jsx("div",{className:`day-date ${k.dates[L]&&i(k.dates[L])?"today":""}`,children:k.dates[L]?k.dates[L].getDate():""})]},L))]}),u.jsxs("div",{className:"calendar-body",ref:g,children:[u.jsx("div",{className:"time-column",children:h.map(Y=>u.jsx("div",{className:"time-slot",children:Y===0?"":`${Y%12||12} ${Y<12?"AM":"PM"}`},Y))}),u.jsx("div",{className:"calendar-grid",style:{gridTemplateColumns:`repeat(${k.gridCols}, 1fr)`},children:k.dates.map((Y,L)=>u.jsxs("div",{className:"day-column",children:[O[L]?.filter(D=>D.allDay).map((D,$)=>u.jsx("div",{className:"all-day-event",style:{backgroundColor:D.color},onClick:()=>N(D),children:D.title},$)),u.jsxs("div",{className:"hour-cells",children:[h.map(D=>u.jsx("div",{className:"hour-cell",children:Y&&i(Y)&&D===new Date().getHours()&&u.jsx("div",{className:"current-time-block"})},D)),(()=>{const D=O[L]||[],$=ce(D),W=["#1a73e8","#34a853","#ea4335","#fbbc04","#9c27b0","#ff9800","#795548","#607d8b"];return $.map((ae,C)=>{const{event:Z,column:ee,totalColumns:le,startHour:P,duration:oe,offset:ie}=ae,ue=`${100/le-2}%`,pe=`${ee*100/le+1}%`,Se=Z.color||W[C%W.length];return u.jsxs("div",{className:"multi-hour-event",style:{backgroundColor:Se,top:`${P*48+ie}px`,height:`${oe*48}px`,minHeight:"24px",left:pe,width:ue,right:"auto"},onClick:()=>N(Z),children:[u.jsx("div",{className:"event-title",children:Z.title}),u.jsx("div",{className:"event-time",children:re(Z)})]},`${Z.id}-${C}`)})})()]})]},L))})]}),u.jsx(ip,{event:y,isOpen:b,onClose:T})]})}function Xi(){const[a,i]=R.useState(!1),s=()=>{i(!0)};return u.jsxs("div",{className:"login-page",children:[u.jsxs("div",{className:"login-container",children:[u.jsxs("div",{className:"login-header",children:[u.jsxs("div",{className:"logo",children:[u.jsx("span",{className:"logo-icon",children:""}),u.jsx("span",{className:"logo-text",children:"nostrcal"})]}),u.jsx("h1",{children:"Welcome to nostrcal"}),u.jsx("p",{children:"Your decentralized calendar powered by Nostr"})]}),u.jsx("div",{className:"login-content",children:u.jsxs("div",{className:"login-card",children:[u.jsx("h2",{children:"Get Started"}),u.jsx("p",{children:"Connect your Nostr account to access your calendar"}),u.jsxs("button",{className:"connect-btn",onClick:s,children:[u.jsx("span",{className:"connect-icon",children:""}),"Connect with Nostr"]}),u.jsxs("div",{className:"login-info",children:[u.jsx("p",{children:"Don't have a Nostr account? No problem!"}),u.jsx("p",{children:"We'll help you create one when you connect."})]})]})})]}),u.jsx(n0,{isOpen:a,onClose:()=>i(!1)})]})}const rN=[{key:"SU",name:"Sunday"},{key:"MO",name:"Monday"},{key:"TU",name:"Tuesday"},{key:"WE",name:"Wednesday"},{key:"TH",name:"Thursday"},{key:"FR",name:"Friday"},{key:"SA",name:"Saturday"}],sp={SU:{enabled:!1,start:"09:00",end:"17:00"},MO:{enabled:!0,start:"09:00",end:"17:00"},TU:{enabled:!0,start:"09:00",end:"17:00"},WE:{enabled:!0,start:"09:00",end:"17:00"},TH:{enabled:!0,start:"09:00",end:"17:00"},FR:{enabled:!0,start:"09:00",end:"17:00"},SA:{enabled:!1,start:"09:00",end:"17:00"}},oN=["Nostr Nests","HiveTalk","Corny Chat","Jitsi Video","Google Meet","Zoom","In Person","Phone Call"];function cN({template:a,calendars:i,onClose:s,onSave:r}){const[c,f]=R.useState(1),[m,p]=R.useState(!1),[h,g]=R.useState({title:"",description:"",duration:30,interval:30,location:"Jitsi Video",zapAmount:0,bufferBefore:5,bufferAfter:5,minNotice:60,maxAdvance:30,maxAdvanceBusiness:!1,calendarId:i[0]?.id||"",availability:sp}),{pool:y}=Ut(),{user:v}=Wt();R.useEffect(()=>{a&&g({title:a.title||"",description:a.description||"",duration:a.duration||30,interval:a.interval||30,location:a.location||"Jitsi Video",zapAmount:a.zapAmount||0,bufferBefore:a.bufferBefore||5,bufferAfter:a.bufferAfter||5,minNotice:a.minNotice||60,maxAdvance:a.maxAdvance||30,maxAdvanceBusiness:a.maxAdvanceBusiness||!1,calendarId:a.calendarId||i[0]?.id||"",availability:a.availability||sp})},[a,i]);const b=(O,B)=>{g(H=>({...H,[O]:B}))},w=(O,B,H)=>{g(Q=>({...Q,availability:{...Q.availability,[O]:{...Q.availability[O],[B]:H}}}))},E=()=>h.title.trim()?h.calendarId?!0:(alert("Please select a calendar."),!1):(alert("Please enter a title for your availability template."),!1),N=()=>Object.values(h.availability).some(B=>B.enabled)?!0:(alert("Please enable at least one day of the week."),!1),T=()=>{c===1&&E()&&f(2)},j=()=>{c===2&&f(1)},_=()=>"avail-"+Date.now()+"-"+Math.random().toString(36).substr(2,9),M=O=>{if(O===0)return"PT0S";if(O<60)return`PT${O}M`;const B=Math.floor(O/60),H=O%60;return H===0?`PT${B}H`:`PT${B}H${H}M`},A=O=>O===0?"P0D":`P${O}D`,k=async()=>{if(N()){p(!0);try{const O=a?.id||_();if(!i.find(ce=>ce.id===h.calendarId))throw new Error("Selected calendar not found");const H=[["d",O],["a",`31924:${v.id}:${h.calendarId}`],["title",h.title],["tzid",Intl.DateTimeFormat().resolvedOptions().timeZone],["duration",M(h.duration)],["interval",M(h.interval)],["amount_sats",h.zapAmount.toString()],["buffer_before",M(h.bufferBefore)],["buffer_after",M(h.bufferAfter)],["min_notice",M(h.minNotice)],["max_advance",A(h.maxAdvance)],["max_advance_business",h.maxAdvanceBusiness.toString()]];Object.entries(h.availability).filter(([ce,re])=>re.enabled).forEach(([ce,re])=>{H.push(["sch",ce,re.start,re.end])});const Q={kind:31926,content:h.description,tags:H},J=await y.publishEvent(Q),ne={id:O,title:h.title,description:h.description,duration:h.duration,interval:h.interval,location:h.location,zapAmount:h.zapAmount,bufferBefore:h.bufferBefore,bufferAfter:h.bufferAfter,minNotice:h.minNotice,maxAdvance:h.maxAdvance,maxAdvanceBusiness:h.maxAdvanceBusiness,calendarId:h.calendarId,availability:h.availability,event:J};r(ne)}catch(O){console.error("Error saving availability template:",O),alert("Failed to save template. Please try again.")}finally{p(!1)}}};return u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-content",children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:a?"Edit Availability Template":"Create Availability Template"}),u.jsx("button",{className:"close-btn",onClick:s,children:""})]}),u.jsxs("div",{className:"step-indicator",children:[u.jsx("div",{className:`step-dot ${c>=1?"active":""}`,children:"1"}),u.jsx("div",{className:`step-dot ${c>=2?"active":""}`,children:"2"})]}),c===1&&u.jsxs("div",{className:"modal-step",children:[u.jsx("h3",{children:"Template Details"}),u.jsx("p",{className:"step-description",children:"Set up a template that others can use to book time with you."}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Title *"}),u.jsx("input",{type:"text",className:"form-input",value:h.title,onChange:O=>b("title",O.target.value),placeholder:"Quick Chat"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Description"}),u.jsx("textarea",{className:"form-textarea",value:h.description,onChange:O=>b("description",O.target.value),placeholder:"A quick video meeting to discuss your needs.",rows:"3"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Calendar *"}),u.jsx("select",{className:"form-select",value:h.calendarId,onChange:O=>b("calendarId",O.target.value),children:i.map(O=>u.jsx("option",{value:O.id,children:O.title},O.id))})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Meeting Duration (minutes)"}),u.jsx("input",{type:"number",className:"form-input",value:h.duration,onChange:O=>b("duration",parseInt(O.target.value)),min:"15",max:"480"}),u.jsx("small",{className:"form-help",children:"How long each booking appointment will last"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Slot Interval (minutes)"}),u.jsx("input",{type:"number",className:"form-input",value:h.interval,onChange:O=>b("interval",parseInt(O.target.value)),min:"15",max:"480"}),u.jsx("small",{className:"form-help",children:"Gap between starts of consecutive slots"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Location Type"}),u.jsx("select",{className:"form-select",value:h.location,onChange:O=>b("location",O.target.value),children:oN.map(O=>u.jsx("option",{value:O,children:O},O))})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Required Zap Amount (sats)"}),u.jsx("input",{type:"number",className:"form-input",value:h.zapAmount,onChange:O=>b("zapAmount",parseInt(O.target.value)||0),min:"0",placeholder:"0"}),u.jsx("small",{className:"form-help",children:"Amount in satoshis required for booking (0 = free)"})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Buffer Before (minutes)"}),u.jsx("input",{type:"number",className:"form-input",value:h.bufferBefore,onChange:O=>b("bufferBefore",parseInt(O.target.value)||0),min:"0"}),u.jsx("small",{className:"form-help",children:"Time to reserve before each booking"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Buffer After (minutes)"}),u.jsx("input",{type:"number",className:"form-input",value:h.bufferAfter,onChange:O=>b("bufferAfter",parseInt(O.target.value)||0),min:"0"}),u.jsx("small",{className:"form-help",children:"Time to reserve after each booking"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Minimum Notice (minutes)"}),u.jsx("input",{type:"number",className:"form-input",value:h.minNotice,onChange:O=>b("minNotice",parseInt(O.target.value)||0),min:"0"}),u.jsx("small",{className:"form-help",children:"How much advance notice you need for bookings"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Maximum Advance Booking (days)"}),u.jsx("input",{type:"number",className:"form-input",value:h.maxAdvance,onChange:O=>b("maxAdvance",parseInt(O.target.value)||0),min:"0"}),u.jsx("small",{className:"form-help",children:"How far in advance people can book (0 = unlimited)"})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{className:"checkbox-label",children:[u.jsx("input",{type:"checkbox",className:"form-checkbox",checked:h.maxAdvanceBusiness,onChange:O=>b("maxAdvanceBusiness",O.target.checked)}),u.jsx("span",{className:"checkmark"}),"Count only business days for advance booking limit"]}),u.jsx("small",{className:"form-help",children:"If checked, weekends don't count toward the advance booking limit"})]})]}),c===2&&u.jsxs("div",{className:"modal-step",children:[u.jsx("h3",{children:"Set Your Weekly Availability"}),u.jsx("p",{className:"step-description",children:"Configure when people can book time slots with you during the week."}),u.jsx("div",{className:"availability-editor",children:rN.map(O=>u.jsxs("div",{className:"day-row",children:[u.jsxs("div",{className:"day-toggle",children:[u.jsx("input",{type:"checkbox",className:"day-checkbox",checked:h.availability[O.key].enabled,onChange:B=>w(O.key,"enabled",B.target.checked)}),u.jsx("label",{className:`day-name ${h.availability[O.key].enabled?"":"disabled"}`,children:O.name})]}),h.availability[O.key].enabled?u.jsxs("div",{className:"time-inputs",children:[u.jsx("input",{type:"time",className:"time-input",value:h.availability[O.key].start,onChange:B=>w(O.key,"start",B.target.value)}),u.jsx("span",{className:"time-separator",children:"-"}),u.jsx("input",{type:"time",className:"time-input",value:h.availability[O.key].end,onChange:B=>w(O.key,"end",B.target.value)})]}):u.jsx("span",{className:"unavailable-text",children:"Unavailable"})]},O.key))})]}),u.jsxs("div",{className:"modal-actions",children:[c===1&&u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"btn-secondary",onClick:s,children:"Cancel"}),u.jsx("button",{className:"btn-primary",onClick:T,children:"Continue"})]}),c===2&&u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"btn-secondary",onClick:j,children:"Back"}),u.jsx("button",{className:"btn-primary",onClick:k,disabled:m,children:m?"Saving...":a?"Save Changes":"Create Template"})]})]})]})})}function uN(){const[a,i]=R.useState([]),[s,r]=R.useState(!0),[c,f]=R.useState(""),[m,p]=R.useState(!1),[h,g]=R.useState(null),{pool:y,isConnected:v}=Ut(),{user:b}=Wt(),{calendars:w}=Yl();R.useEffect(()=>{b?.id&&v&&E()},[b?.id,v,y]);const E=async()=>{try{r(!0);const H=await y.getAvailabilityTemplates(b.id);i(H)}catch(H){console.error("Failed to load availability templates:",H)}finally{r(!1)}},N=()=>{g(null),p(!0)},T=H=>{g(H),p(!0)},j=async H=>{const Q=a.find(J=>J.id===H);if(Q&&window.confirm(`Are you sure you want to delete "${Q.title}"? This will remove the template and its booking link.`))try{await y.deleteAvailabilityTemplate(H),i(J=>J.filter(ne=>ne.id!==H))}catch(J){console.error("Failed to delete template:",J),alert("Failed to delete template. Please try again.")}},_=H=>{i(h?Q=>Q.map(J=>J.id===H.id?H:J):Q=>[H,...Q]),p(!1),g(null)},M=H=>{const Q=window.location.origin,J=`naddr1${b.id.slice(0,8)}31926${H.id}`;return`${Q}/booking?naddr=nostr:${J}`},A=H=>{const Q=M(H);navigator.clipboard.writeText(Q).then(()=>{alert("Booking link copied to clipboard!")}).catch(()=>{alert("Failed to copy link. Please try again.")})},k=H=>{if(H<60)return`${H}m`;const Q=Math.floor(H/60),J=H%60;return J>0?`${Q}h ${J}m`:`${Q}h`},O=H=>Object.entries(H).filter(([J,ne])=>ne.enabled).map(([J])=>J).join(", ")||"No days enabled",B=a.filter(H=>H.title.toLowerCase().includes(c.toLowerCase())||H.description.toLowerCase().includes(c.toLowerCase()));return u.jsxs("div",{className:"event-slots-page",children:[u.jsx(kl,{}),u.jsxs("div",{className:"event-slots-container",children:[u.jsx("div",{className:"event-slots-header",children:u.jsxs("div",{className:"header-content",children:[u.jsxs("div",{children:[u.jsx("h1",{children:"Availability Templates"}),u.jsx("p",{children:"Create availability templates and share booking links for people to reserve time with you."})]}),u.jsxs("button",{className:"create-template-btn",onClick:N,children:[u.jsx("span",{className:"icon-plus",children:"+"}),"New Template"]})]})}),u.jsxs("div",{className:"event-slots-content",children:[u.jsx("div",{className:"search-section",children:u.jsx("input",{type:"text",className:"search-input",placeholder:"Search availability templates...",value:c,onChange:H=>f(H.target.value)})}),s?u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"spinner"}),"Loading your availability templates..."]}):B.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"empty-icon",children:""}),u.jsx("h3",{children:"No availability templates yet"}),u.jsx("p",{children:"Create your first availability template to start accepting bookings."}),u.jsxs("button",{className:"create-template-btn",onClick:N,children:[u.jsx("span",{className:"icon-plus",children:"+"}),"Create Template"]})]}):u.jsx("div",{className:"availability-templates-grid",children:B.map(H=>u.jsxs("div",{className:"template-card",children:[u.jsxs("div",{className:"template-header",children:[u.jsx("h3",{children:H.title}),u.jsxs("div",{className:"template-actions",children:[u.jsx("button",{className:"icon-btn",onClick:()=>T(H),title:"Edit template",children:""}),u.jsx("button",{className:"icon-btn",onClick:()=>A(H),title:"Copy booking link",children:""}),u.jsx("button",{className:"icon-btn delete-btn",onClick:()=>j(H.id),title:"Delete template",children:""})]})]}),u.jsx("p",{className:"template-description",children:H.description}),u.jsxs("div",{className:"template-meta",children:[u.jsxs("div",{className:"meta-item",children:[u.jsx("span",{className:"meta-icon",children:""}),u.jsx("span",{children:k(H.duration)})]}),u.jsxs("div",{className:"meta-item",children:[u.jsx("span",{className:"meta-icon",children:""}),u.jsx("span",{children:O(H.availability)})]}),u.jsxs("div",{className:"meta-item",children:[u.jsx("span",{className:"meta-icon",children:""}),u.jsxs("span",{children:[H.zapAmount||0," sats"]})]}),(H.bufferBefore>0||H.bufferAfter>0)&&u.jsxs("div",{className:"meta-item",children:[u.jsx("span",{className:"meta-icon",children:""}),u.jsxs("span",{children:[H.bufferBefore,"m/",H.bufferAfter,"m buffer"]})]}),H.minNotice>0&&u.jsxs("div",{className:"meta-item",children:[u.jsx("span",{className:"meta-icon",children:""}),u.jsxs("span",{children:[H.minNotice,"m notice"]})]}),u.jsxs("div",{className:"meta-item",children:[u.jsx("span",{className:"meta-icon",children:""}),u.jsxs("span",{children:[H.maxAdvance===0?"Unlimited":`${H.maxAdvance} days`," advance"]})]})]}),u.jsxs("div",{className:"booking-link",children:[u.jsx("strong",{children:"Booking Link:"}),u.jsx("div",{className:"link-display",children:M(H)})]})]},H.id))})]})]}),m&&u.jsx(cN,{template:h,calendars:w,onClose:()=>{p(!1),g(null)},onSave:_})]})}const rp=["SU","MO","TU","WE","TH","FR","SA"];function op(){const[a]=Fx(),{pool:i}=Ut(),[s,r]=R.useState("input"),[c,f]=R.useState(""),[m,p]=R.useState(null),[h,g]=R.useState(null),[y,v]=R.useState(new Map),[b,w]=R.useState(new Date),[E,N]=R.useState(null),[T,j]=R.useState(null),[_,M]=R.useState(""),[A,k]=R.useState(""),[O,B]=R.useState(!1);R.useEffect(()=>{const P=a.get("naddr"),oe=window.location.hash.slice(1);let ie=P||oe;if(!ie&&window.location.pathname.includes("/booking/")){const ue=window.location.pathname.split("/booking/");ue.length>1&&ue[1]&&(ie=decodeURIComponent(ue[1]))}ie&&(ie.startsWith("nostr:")||(ie="nostr:"+ie),f(ie),setTimeout(()=>J(ie),500))},[a]);const H=P=>{try{if(P.split(":").length<2)throw new Error("Invalid naddr format");return{kind:31926,identifier:Q(P)}}catch(oe){throw new Error("Could not parse naddr: "+oe.message)}},Q=P=>{try{const oe=P.match(/31926(.+)$/);if(oe)return oe[1];const ie=P.match(/avail-[\w-]+/);return ie?ie[0]:"avail-weekly"}catch{return"avail-weekly"}},J=async(P=c)=>{if(!P||!P.startsWith("nostr:naddr")){M('Please enter a valid naddr booking link starting with "nostr:naddr"');return}r("loading"),M("");try{const oe=H(P),ie=await i.getAvailabilityTemplate(oe.identifier);if(!ie)throw new Error("No availability template found for this link");g(ie.ownerPubkey),p(ie);const ue=await i.getBusyTimes(ie.ownerPubkey,ie.calendarRef);v(new Map(ue)),r("booking")}catch(oe){M("Failed to load availability: "+oe.message),r("error")}},ne=()=>{r("input"),p(null),g(null),v(new Map),N(null),j(null)},ce=P=>{if(!m)return!1;const oe=rp[P.getDay()];if(!m.weeklyAvailability[oe]||!m.weeklyAvailability[oe].enabled)return!1;if(m.maxAdvanceDays!==null){const ie=new Date;ie.setHours(0,0,0,0);const ue=new Date(ie);if(ue.setDate(ie.getDate()+m.maxAdvanceDays),P>ue)return!1}return!0},re=P=>{if(!m||!m.minNotice)return!0;const oe=new Date,ie=new Date(oe.getTime()+m.minNotice*60*1e3),ue=new Date(P);return ue.setHours(23,59,59,999),ue>=ie},Y=P=>{N(P),j(null)},L=(P,oe)=>{const ie=[],{start:ue,end:pe}=oe,Se=m.duration,ke=m.interval||Se,[se,Ee]=ue.split(":").map(Number),[Ce,Be]=pe.split(":").map(Number),et=se*60+Ee,Ae=Ce*60+Be;for(let He=et;He<Ae&&!(He+Se>Ae);He+=ke){const qn=Math.floor(He/60),Vl=He%60,fn=new Date(P);fn.setHours(qn,Vl,0,0);const hn=new Date(fn);hn.setMinutes(hn.getMinutes()+Se);const Fi=new Date,es=new Date(Fi.getTime()+m.minNotice*60*1e3),Gr=fn<=Fi,Zr=fn<es,ba=D(fn,hn);ie.push({start:fn,end:hn,display:$(qn,Vl),available:!Gr&&!Zr&&!ba})}return ie},D=(P,oe)=>{const ie=P.toISOString().split("T")[0],ue=y.get(ie)||[],pe=m?.bufferBefore||0,Se=m?.bufferAfter||0;return ue.some(ke=>{const se=new Date(ke.start.getTime()-Se*60*1e3),Ee=new Date(ke.end.getTime()+pe*60*1e3);return P<Ee&&oe>se})},$=(P,oe)=>{const ie=P>=12?"PM":"AM",ue=P===0?12:P>12?P-12:P,pe=oe.toString().padStart(2,"0");return`${ue}:${pe} ${ie}`},W=P=>{P.available&&j(P)},ae=async()=>{if(!T||!E){M("Please select a date and time first.");return}if(!(m.zapAmount&&m.zapAmount>0&&!window.confirm(`This booking requires a ${m.zapAmount} sats zap. Do you want to proceed?`)))try{B(!0),k("Creating booking request...");const P=await C();k(" Booking request sent successfully! The host will receive your request and can accept or decline it."),setTimeout(()=>{ne()},5e3)}catch(P){k(" Failed to create booking: "+P.message)}finally{B(!1)}},C=async()=>{if(!window.nostr)throw new Error("Please connect with Nostr to make a booking");const P=await window.nostr.getPublicKey(),oe=Math.floor(T.start.getTime()/1e3),ie=Math.floor(T.end.getTime()/1e3),ue={kind:31923,created_at:Math.floor(Date.now()/1e3),tags:[["d",`booking-${Date.now()}-${Math.random().toString(36).substr(2,9)}`],["title","Meeting Request"],["start",oe.toString()],["end",ie.toString()],["summary",`Booking request from ${P.slice(0,8)}...`],["start_tzid",m.timezone],["end_tzid",m.timezone],["location",m.location||"Online Meeting"],["p",h,"","attendee"],["p",P,"","organizer"],["a",`31926:${h}:${m.identifier}`],["t","booking-request"]],content:`Meeting request for ${T.display} on ${E.toLocaleDateString()}. ${m.description||""}`},pe=await window.nostr.signEvent(ue);return await i.publishEvent(pe)},Z=()=>{const P=b.getFullYear(),oe=b.getMonth(),ie=new Date(P,oe,1),ue=new Date(ie);ue.setDate(ue.getDate()-ie.getDay());const pe=[];for(let Se=0;Se<42;Se++){const ke=new Date(ue);ke.setDate(ue.getDate()+Se);const se=ke.getMonth()===oe,Ee=ke.toDateString()===new Date().toDateString(),Ce=E&&ke.toDateString()===E.toDateString(),Be=ce(ke),et=ke<new Date().setHours(0,0,0,0),Ae=!re(ke);let He="booking-calendar-day";se||(He+=" other-month"),Ce&&(He+=" selected"),Ee&&(He+=" today"),(et||Ae||!Be)&&(He+=" unavailable"),Be&&!et&&!Ae&&(He+=" available"),pe.push(u.jsx("div",{className:He,onClick:()=>Be&&!et&&!Ae&&Y(ke),children:u.jsx("div",{className:"booking-day-number",children:ke.getDate()})},Se))}return pe},ee=()=>{if(!E||!m)return u.jsx("div",{className:"no-times",children:" Select a date to see available times"});const P=rp[E.getDay()],oe=m.weeklyAvailability[P];if(!oe)return u.jsx("div",{className:"no-times",children:"No availability on this day"});const ie=L(E,oe);return ie.length===0?u.jsx("div",{className:"no-times",children:"No available times"}):ie.map((ue,pe)=>u.jsx("button",{className:`booking-time-slot ${ue.available?"":"disabled"} ${T&&T.start.getTime()===ue.start.getTime()?"selected":""}`,disabled:!ue.available,onClick:()=>W(ue),children:ue.display},pe))},le=P=>{w(new Date(b.getFullYear(),b.getMonth()+P,1)),N(null),j(null)};return s==="input"?u.jsx("div",{className:"booking-page",children:u.jsxs("div",{className:"booking-input",children:[u.jsx("h1",{children:" Book an Appointment"}),u.jsx("p",{children:"Enter your Nostr booking link (naddr) to view available time slots and schedule your appointment on the decentralized web."}),u.jsxs("div",{className:"input-form",children:[u.jsx("input",{type:"text",className:"naddr-input",value:c,onChange:P=>f(P.target.value),placeholder:"nostr:naddr1...",onKeyPress:P=>P.key==="Enter"&&J()}),u.jsx("button",{className:"load-btn",onClick:()=>J(),children:"Load Availability"})]}),_&&u.jsx("div",{className:"error-message",children:_})]})}):s==="loading"?u.jsx("div",{className:"booking-page",children:u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:"Loading availability..."})]})}):s==="error"?u.jsx("div",{className:"booking-page",children:u.jsxs("div",{className:"error-state",children:[u.jsx("h2",{children:" Error"}),u.jsx("p",{children:_}),u.jsx("button",{className:"back-btn",onClick:ne,children:" Try Again"})]})}):s==="booking"&&m?u.jsx("div",{className:"booking-page",children:u.jsxs("div",{className:"booking-interface",children:[u.jsx("button",{className:"back-btn",onClick:ne,children:" Back to link entry"}),u.jsxs("div",{className:"event-header",children:[u.jsx("div",{className:"host-avatar",children:h?.slice(0,2).toUpperCase()||""}),u.jsxs("div",{className:"event-info",children:[u.jsx("h2",{children:m.title}),u.jsx("p",{className:"event-description",children:m.description}),u.jsxs("div",{className:"event-meta",children:[u.jsxs("span",{children:[" ",m.duration," min"]}),u.jsxs("span",{children:[" ",m.timezone]}),u.jsxs("span",{children:[" ",m.location]})]})]})]}),u.jsxs("div",{className:"booking-content",children:[u.jsxs("div",{className:"booking-calendar-section",children:[u.jsxs("div",{className:"booking-calendar-controls",children:[u.jsx("h3",{children:b.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),u.jsxs("div",{className:"month-nav",children:[u.jsx("button",{onClick:()=>le(-1),children:" Previous"}),u.jsx("button",{onClick:()=>le(1),children:"Next "})]})]}),u.jsxs("div",{className:"booking-calendar-grid",children:[u.jsx("div",{className:"booking-calendar-header",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(P=>u.jsx("div",{className:"booking-calendar-header-day",children:P},P))}),u.jsx("div",{className:"booking-calendar-body",children:Z()})]})]}),u.jsxs("div",{className:"time-slots-section",children:[u.jsx("div",{className:"selected-date",children:E?E.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}):"Select a date"}),u.jsx("div",{className:"timezone-display",children:Intl.DateTimeFormat().resolvedOptions().timeZone}),u.jsx("div",{className:"time-slots",children:ee()}),T&&u.jsx("button",{className:"book-btn",onClick:ae,disabled:O,children:O?"Booking...":" Request Booking"})]})]}),A&&u.jsx("div",{className:"booking-status",children:A})]})}):null}function dN(){const a=Xt(),[i,s]=R.useState([]),[r,c]=R.useState(!0),[f,m]=R.useState(""),[p,h]=R.useState(a.state?.activeTab||"pending"),{pool:g,isConnected:y}=Ut(),{user:v}=Wt();R.useEffect(()=>{v?.id&&y&&b()},[v?.id,y,g]);const b=async()=>{try{c(!0);const A=await g.getBookingRequests(v.id),k=await g.getRSVPEvents(v.id),O=A.map(B=>{const H=k.filter(J=>J.relatedRequest===`31923:${B.bookerPubkey}:${B.dTag}`||J.event?.tags?.some(ne=>ne[0]==="e"&&ne[1]===B.id));H.sort((J,ne)=>ne.createdAt-J.createdAt);const Q=H[0];return{...B,rsvpStatus:Q?.status||"pending",rsvpDate:Q?.createdAt}});O.sort((B,H)=>H.createdAt-B.createdAt),s(O)}catch(A){console.error("Failed to load invitations:",A)}finally{c(!1)}},w=async(A,k)=>{try{if(!i.find(B=>B.id===A))return;await g.respondToBooking(A,k),s(B=>B.map(H=>H.id===A?{...H,rsvpStatus:k,rsvpDate:Math.floor(Date.now()/1e3)}:H))}catch(O){console.error("Failed to respond to invitation:",O),alert("Failed to respond to invitation. Please try again.")}},E=A=>{const k=new Date(A);return{date:k.toLocaleDateString("en-US",{month:"short",day:"numeric"}),time:k.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}},N=(A,k)=>{const O=Math.round((k-A)/6e4);if(O<60)return`${O}m`;const B=Math.floor(O/60),H=O%60;return H>0?`${B}h ${H}m`:`${B}h`},T=A=>`npub1${A.slice(0,8)}...${A.slice(-8)}`,_=((A,k)=>{const O=Date.now();switch(k){case"pending":return A.filter(B=>B.rsvpStatus==="pending");case"accepted":return A.filter(B=>B.rsvpStatus==="accepted");case"declined":return A.filter(B=>B.rsvpStatus==="declined");case"upcoming":return A.filter(B=>B.rsvpStatus==="accepted"&&B.startTime>O);default:return A}})(i,p).filter(A=>A.title.toLowerCase().includes(f.toLowerCase())||A.description.toLowerCase().includes(f.toLowerCase())),M=A=>{const{date:k,time:O}=E(A.startTime),B=E(A.endTime).time,H=N(A.startTime,A.endTime),Q=T(A.bookerPubkey);let J,ne;switch(A.rsvpStatus){case"pending":J="#d97706",ne="PENDING";break;case"accepted":J="#059669",ne="ACCEPTED";break;case"declined":J="#dc2626",ne="DECLINED";break;default:J="#6b7280",ne=A.rsvpStatus.toUpperCase()}const ce=A.rsvpStatus==="pending",re=A.rsvpStatus==="accepted"&&A.startTime>Date.now();return u.jsx("div",{className:"booking-card",children:u.jsxs("div",{className:"booking-card-header",children:[u.jsxs("div",{style:{flex:1},children:[u.jsx("h3",{children:A.title}),u.jsx("p",{className:"booking-description",children:A.description}),u.jsxs("div",{className:"booking-meta",children:[u.jsxs("span",{children:[u.jsx("span",{className:"icon-clock"}),`${k} ${O} - ${B} (${H})`]}),u.jsxs("span",{children:[u.jsx("span",{className:"icon-user"}),"From: ",Q]}),u.jsxs("span",{children:[" Requested: ",new Date(A.createdAt*1e3).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})]}),u.jsx("span",{className:"booking-status",style:{backgroundColor:J},children:ne})]}),A.rsvpDate&&A.rsvpStatus!=="pending"&&u.jsxs("p",{className:"rsvp-date",children:["Responded on: ",new Date(A.rsvpDate*1e3).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})]})]}),u.jsxs("div",{className:"booking-actions",children:[ce&&u.jsxs("div",{className:"action-buttons",children:[u.jsx("button",{className:"btn-accept",onClick:()=>w(A.id,"accepted"),children:"Accept"}),u.jsx("button",{className:"btn-decline",onClick:()=>w(A.id,"declined"),children:"Decline"})]}),re&&u.jsx("div",{className:"action-buttons",children:u.jsx("button",{className:"btn-cancel",onClick:()=>w(A.id,"declined"),title:"Cancel Meeting",children:"Cancel"})})]})]})},A.id)};return u.jsxs("div",{className:"bookings-page",children:[u.jsx(kl,{}),u.jsxs("div",{className:"bookings-container",children:[u.jsx("div",{className:"bookings-header",children:u.jsx("div",{className:"header-content",children:u.jsxs("div",{children:[u.jsx("h1",{children:"Bookings"}),u.jsx("p",{children:"Manage meeting requests and bookings from others."})]})})}),u.jsxs("div",{className:"bookings-content",children:[u.jsx("div",{className:"search-section",children:u.jsx("input",{type:"text",className:"search-input",placeholder:"Search bookings...",value:f,onChange:A=>m(A.target.value)})}),u.jsxs("div",{className:"tabs",children:[u.jsx("button",{className:`tab ${p==="pending"?"active":""}`,onClick:()=>h("pending"),children:"Pending"}),u.jsx("button",{className:`tab ${p==="accepted"?"active":""}`,onClick:()=>h("accepted"),children:"Accepted"}),u.jsx("button",{className:`tab ${p==="declined"?"active":""}`,onClick:()=>h("declined"),children:"Declined"}),u.jsx("button",{className:`tab ${p==="upcoming"?"active":""}`,onClick:()=>h("upcoming"),children:"Upcoming"})]}),r?u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"spinner"}),"Loading bookings..."]}):_.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"empty-icon",children:""}),u.jsxs("h3",{children:["No ",p," bookings"]}),u.jsx("p",{children:p==="pending"?"You have no pending bookings.":p==="accepted"?"You have no accepted bookings.":p==="declined"?"You have no declined bookings.":"You have no upcoming meetings."})]}):u.jsx("div",{className:"bookings-grid",children:_.map(M)})]})]})]})}function fN(){const a=Va(),i=Xt(),{pool:s,isConnected:r}=Ut(),{user:c}=Wt(),{calendars:f}=Yl(),[m,p]=R.useState("timed"),[h,g]=R.useState({title:"",description:"",calendarId:"",location:"",startDate:"",startTime:"",endDate:"",endTime:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}),[y,v]=R.useState(!1),[b,w]=R.useState({});R.useEffect(()=>{const M=i.state?.prefillData;if(M)p(M.eventType||"timed"),g({title:M.title||"",description:M.description||"",calendarId:M.calendarId||"",location:M.location||"",startDate:M.startDate||"",startTime:M.startTime||"",endDate:M.endDate||"",endTime:M.endTime||"",timezone:M.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone});else{const A=new Date,k=A.toISOString().split("T")[0],O=A.toTimeString().slice(0,5);g(B=>({...B,startDate:k,endDate:k,startTime:O,endTime:E(O)}))}},[i.pathname,i.state?.prefillData]);const E=M=>{if(!M)return"";const[A,k]=M.split(":").map(Number),O=new Date;return O.setHours(A+1,k,0,0),O.toTimeString().slice(0,5)},N=(M,A)=>{g(k=>({...k,[M]:A})),M==="startTime"&&m==="timed"&&g(k=>({...k,endTime:E(A)})),M==="startDate"&&m==="all-day"&&g(k=>({...k,endDate:A})),b[M]&&w(k=>({...k,[M]:null}))},T=()=>{const M={};if(h.title.trim()||(M.title="Title is required"),h.startDate||(M.startDate="Start date is required"),m==="timed"&&(h.startTime||(M.startTime="Start time is required"),h.endTime||(M.endTime="End time is required"),h.startTime&&h.endTime&&h.startDate===h.endDate)){const A=new Date(`${h.startDate}T${h.startTime}`);new Date(`${h.endDate}T${h.endTime}`)<=A&&(M.endTime="End time must be after start time")}if(h.endDate||(M.endDate="End date is required"),h.startDate&&h.endDate){const A=new Date(h.startDate);new Date(h.endDate)<A&&(M.endDate="End date cannot be before start date")}return w(M),Object.keys(M).length===0},j=async M=>{if(M.preventDefault(),!!T()){v(!0);try{const A={kind:m==="all-day"?31922:31923,title:h.title.trim(),description:h.description.trim(),location:h.location.trim()};if(h.calendarId&&(A.calendarId=h.calendarId),m==="all-day")A.start=h.startDate,h.endDate&&h.endDate!==h.startDate&&(A.end=h.endDate);else{const k=new Date(`${h.startDate}T${h.startTime}`),O=new Date(`${h.endDate}T${h.endTime}`);A.start=Math.floor(k.getTime()/1e3).toString(),A.end=Math.floor(O.getTime()/1e3).toString(),A.startTimezone=h.timezone,A.endTimezone=h.timezone}console.log("Creating event:",A),await s.createEvent(A),a("/")}catch(A){console.error("Error creating event:",A),w({submit:"Failed to create event. Please try again."})}finally{v(!1)}}},_=()=>{a("/")};return u.jsxs("div",{className:"new-event-page",children:[u.jsx(kl,{}),u.jsxs("div",{className:"new-event-container",children:[u.jsxs("div",{className:"new-event-header",children:[u.jsx("h1",{children:"Create New Event"}),u.jsx("p",{children:"Create a new calendar event and publish it to the Nostr network."})]}),u.jsx("div",{className:"new-event-content",children:u.jsxs("form",{onSubmit:j,className:"event-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Event Type"}),u.jsxs("div",{className:"event-type-selector",children:[u.jsx("button",{type:"button",className:`event-type-btn ${m==="timed"?"active":""}`,onClick:()=>p("timed"),children:" Timed Event"}),u.jsx("button",{type:"button",className:`event-type-btn ${m==="all-day"?"active":""}`,onClick:()=>p("all-day"),children:" All-Day Event"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Title *"}),u.jsx("input",{type:"text",className:`form-input ${b.title?"error":""}`,value:h.title,onChange:M=>N("title",M.target.value),placeholder:"Enter event title..."}),b.title&&u.jsx("div",{className:"error-message",children:b.title})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Description"}),u.jsx("textarea",{className:"form-textarea",value:h.description,onChange:M=>N("description",M.target.value),placeholder:"Enter event description...",rows:3})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Calendar"}),u.jsxs("select",{className:"form-select",value:h.calendarId,onChange:M=>N("calendarId",M.target.value),children:[u.jsx("option",{value:"",children:"No calendar (standalone event)"}),f.map(M=>u.jsx("option",{value:M.dTag,children:M.name},M.dTag))]}),u.jsx("small",{className:"form-help",children:"Optional: Add this event to one of your calendars"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Location"}),u.jsx("input",{type:"text",className:"form-input",value:h.location,onChange:M=>N("location",M.target.value),placeholder:"Enter location..."})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Start Date *"}),u.jsx("input",{type:"date",className:`form-input ${b.startDate?"error":""}`,value:h.startDate,onChange:M=>N("startDate",M.target.value)}),b.startDate&&u.jsx("div",{className:"error-message",children:b.startDate})]}),m==="timed"&&u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Start Time *"}),u.jsx("input",{type:"time",className:`form-input ${b.startTime?"error":""}`,value:h.startTime,onChange:M=>N("startTime",M.target.value)}),b.startTime&&u.jsx("div",{className:"error-message",children:b.startTime})]})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"End Date *"}),u.jsx("input",{type:"date",className:`form-input ${b.endDate?"error":""}`,value:h.endDate,onChange:M=>N("endDate",M.target.value)}),b.endDate&&u.jsx("div",{className:"error-message",children:b.endDate})]}),m==="timed"&&u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"End Time *"}),u.jsx("input",{type:"time",className:`form-input ${b.endTime?"error":""}`,value:h.endTime,onChange:M=>N("endTime",M.target.value)}),b.endTime&&u.jsx("div",{className:"error-message",children:b.endTime})]})]}),m==="timed"&&u.jsxs("div",{className:"form-group",children:[u.jsx("label",{className:"form-label",children:"Timezone"}),u.jsx("input",{type:"text",className:"form-input",value:h.timezone,onChange:M=>N("timezone",M.target.value),placeholder:"Timezone"}),u.jsxs("small",{className:"form-help",children:["Detected timezone: ",Intl.DateTimeFormat().resolvedOptions().timeZone]})]}),b.submit&&u.jsx("div",{className:"error-message submit-error",children:b.submit}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"button",className:"btn-secondary",onClick:_,disabled:y,children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:y,children:y?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"spinner"}),"Creating..."]}):"Create Event"})]})]})})]})]})}const ju=[{name:"Nostrcal",url:"wss://relay.nostrcal.com"},{name:"Nostrcal Filter",url:"wss://filter.nostrcal.com"},{name:"Damus",url:"wss://relay.damus.io"},{name:"Nostr Band",url:"wss://relay.nostr.band"},{name:"nos.lol",url:"wss://nos.lol"},{name:"Primal",url:"wss://relay.primal.net"},{name:"Wine",url:"wss://wine.nostr1.com"},{name:"Purplepag.es",url:"wss://purplepag.es"},{name:"NostrPub",url:"wss://nostr.pub"},{name:"Eden",url:"wss://eden.nostr.land"}],hN=({selectedRelays:a,onRelayChange:i})=>{const[s,r]=R.useState(""),[c,f]=R.useState(!1),m=b=>{const w=b.trim();return!w||w.includes("://")?w:`wss://${w}`},p=b=>{const w=b.trim();if(!w)return!1;const E=m(w);try{return new URL(E),E.startsWith("wss://")||E.startsWith("ws://")}catch{return!1}},h=b=>{const w=a.includes(b);let E;w?E=a.filter(N=>N!==b):E=[...a,b],i(E)},g=()=>{if(!p(s)){alert("Please enter a valid relay URL");return}const b=m(s);if(a.includes(b)){alert("This relay is already added");return}i([...a,b]),r(""),f(!1)},y=b=>{const w=a.filter(E=>E!==b);i(w)},v=()=>{const b=ju.map(E=>E.url),w=a.filter(E=>!b.includes(E));return[...ju,...w.map(E=>({name:"Custom",url:E}))]};return u.jsxs("div",{className:"relay-selector",children:[u.jsxs("div",{className:"relay-selector-header",children:[u.jsx("h3",{children:"Relay Configuration"}),u.jsx("p",{children:"Select which Nostr relays to connect to. More relays can improve redundancy but may impact performance."})]}),u.jsx("div",{className:"relay-list",children:v().map(b=>{const w=a.includes(b.url),E=ju.some(N=>N.url===b.url);return u.jsxs("div",{className:`relay-item ${w?"selected":""}`,children:[u.jsxs("div",{className:"relay-info",children:[u.jsxs("div",{className:"relay-main",children:[u.jsx("span",{className:"relay-name",children:b.name}),!E&&u.jsx("span",{className:"custom-badge",children:"Custom"})]}),u.jsx("span",{className:"relay-url",children:b.url})]}),u.jsxs("div",{className:"relay-actions",children:[u.jsxs("label",{className:"relay-checkbox",children:[u.jsx("input",{type:"checkbox",checked:w,onChange:()=>h(b.url)}),u.jsx("span",{className:"checkmark"})]}),!E&&u.jsx("button",{className:"remove-relay-btn",onClick:()=>y(b.url),title:"Remove custom relay",children:""})]})]},b.url)})}),u.jsx("div",{className:"add-custom-relay",children:c?u.jsxs("div",{className:"custom-relay-input",children:[u.jsx(Ol,{type:"text",placeholder:"wss://relay.example.com",value:s,onChange:b=>r(b.target.value),onKeyPress:b=>{b.key==="Enter"&&g()}}),u.jsxs("div",{className:"custom-relay-actions",children:[u.jsx(Et,{onClick:g,disabled:!p(s),children:"Add"}),u.jsx(Et,{variant:"outline",onClick:()=>{f(!1),r("")},children:"Cancel"})]})]}):u.jsx(Et,{variant:"outline",onClick:()=>f(!0),className:"add-relay-btn",children:"+ Add Custom Relay"})}),u.jsx("div",{className:"relay-stats",children:u.jsxs("span",{className:"selected-count",children:[a.length," relay",a.length!==1?"s":""," selected"]})})]})};function mN(){const{selectedRelays:a,updateRelays:i,resetToDefaults:s,isLoading:r}=Fy(),{pool:c,connectionStatus:f,connectedRelayCount:m}=Ut(),[p,h]=R.useState(!1),g=async v=>{h(!0);try{i(v),await c.updateRelays(v)}catch(b){console.error("Failed to update relays:",b),alert("Failed to update relays. Please try again.")}finally{h(!1)}},y=async()=>{if(confirm("Reset to default relays? This will remove any custom relays you have added.")){h(!0);try{const v=["wss://relay.nostrcal.com","wss://filter.nostrcal.com","wss://relay.damus.io","wss://relay.nostr.band","wss://nos.lol","wss://relay.primal.net"];s(),await c.updateRelays(v)}catch(v){console.error("Failed to reset relays:",v),alert("Failed to reset relays. Please try again.")}finally{h(!1)}}};return r?u.jsxs("div",{className:"settings-page",children:[u.jsx(kl,{}),u.jsx("div",{className:"settings-container",children:u.jsx("div",{className:"loading-section",children:u.jsx("p",{children:"Loading settings..."})})})]}):u.jsxs("div",{className:"settings-page",children:[u.jsx(kl,{}),u.jsxs("div",{className:"settings-container",children:[u.jsxs("div",{className:"settings-header",children:[u.jsx("h1",{className:"settings-title",children:"Settings"}),u.jsx("p",{className:"settings-subtitle",children:"Customize your Nostrcal experience"})]}),u.jsxs("div",{className:"settings-content",children:[u.jsxs("div",{className:"settings-section",children:[u.jsx(hN,{selectedRelays:a,onRelayChange:g}),u.jsxs("div",{className:"relay-controls",children:[u.jsxs("div",{className:"connection-status",children:[u.jsx("span",{className:`status-indicator ${f}`}),u.jsx("span",{className:"status-text",children:f==="connected"?`Connected to ${m} relay${m!==1?"s":""}`:f==="connecting"?"Connecting...":"Disconnected"})]}),u.jsx(Et,{variant:"outline",onClick:y,disabled:p,children:"Reset to Defaults"})]}),p&&u.jsx("div",{className:"saving-indicator",children:u.jsx("span",{children:"Updating relay connections..."})})]}),u.jsxs("div",{className:"coming-soon-section",children:[u.jsx("div",{className:"coming-soon-icon",children:""}),u.jsx("h2",{className:"coming-soon-title",children:"More Settings Coming Soon"}),u.jsx("p",{className:"coming-soon-description",children:"We're working on bringing you more comprehensive settings. Stay tuned for upcoming features including:"}),u.jsxs("ul",{className:"feature-list",children:[u.jsx("li",{children:" Theme and appearance customization"}),u.jsx("li",{children:" Default timezone and time format settings"}),u.jsx("li",{children:" Notification preferences"}),u.jsx("li",{children:" Calendar view defaults"}),u.jsx("li",{children:" Privacy and security options"}),u.jsx("li",{children:" Import/export functionality"}),u.jsx("li",{children:" Language preferences"})]}),u.jsx("div",{className:"feedback-section",children:u.jsx("p",{className:"feedback-text",children:"Have suggestions for settings you'd like to see? Let us know!"})})]})]})]})]})}function gN(){return u.jsxs("div",{className:"app",children:[u.jsx(kl,{}),u.jsxs("div",{className:"app-body",children:[u.jsx(iN,{}),u.jsx(sN,{})]})]})}function pN(){const{isLoggedIn:a}=Wt();return u.jsx(Qx,{children:u.jsxs(Sx,{children:[u.jsx(Cn,{path:"/booking",element:u.jsx(op,{})}),u.jsx(Cn,{path:"/booking/*",element:u.jsx(op,{})}),u.jsx(Cn,{path:"/",element:a?u.jsx(gN,{}):u.jsx(Xi,{})}),u.jsx(Cn,{path:"/event-slots",element:a?u.jsx(uN,{}):u.jsx(Xi,{})}),u.jsx(Cn,{path:"/bookings",element:a?u.jsx(dN,{}):u.jsx(Xi,{})}),u.jsx(Cn,{path:"/new-event",element:a?u.jsx(fN,{}):u.jsx(Xi,{})}),u.jsx(Cn,{path:"/settings",element:a?u.jsx(mN,{}):u.jsx(Xi,{})}),u.jsx(Cn,{path:"*",element:u.jsx(wx,{to:"/",replace:!0})})]})})}_b.createRoot(document.getElementById("root")).render(u.jsx(R.StrictMode,{children:u.jsx(Y2,{children:u.jsx(i1,{children:u.jsx(P2,{children:u.jsx(F2,{children:u.jsx(pN,{})})})})})}));
